<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Introduction to Modern Software Engineering Practices: Clean Code</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png"><link rel="manifest" href="favicons/incubator/site.webmanifest"><link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/clean-code.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Introduction to Modern Software Engineering Practices
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Introduction to Modern Software Engineering Practices
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Git Cheatsheets for Quick Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to Modern Software Engineering Practices
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 66%" class="percentage">
    66%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 66%" aria-valuenow="66" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/clean-code.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Introduction</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="qsmm.html">1. The QuTech Software Maturity Model (QSMM)</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="version_control.html">2. Version Control</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="basic-git-commands.html">3. Basic Git Commands</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="workshop2intro.html">4. Intermezzo I</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="gitlab.html">5. GitLab</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="advanced-git-commands.html">6. Advanced Git Commands</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="python-virtual-environmants.html">7. Python Virtual Environments</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="workshop3intro.html">8. Intermezzo II</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        9. Clean Code
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#clean-code-rules">Clean Code Rules</a></li>
<li><a href="#clean-code-tools">Clean Code Tools</a></li>
<li><a href="#final-project">Final Project</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="credits.html">10. Credits</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Git Cheatsheets for Quick Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="workshop3intro.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="credits.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="workshop3intro.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Intermezzo II
        </a>
        <a class="chapter-link float-end" href="credits.html" rel="next">
          Next: Credits...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Clean Code</h1>
        <p>Last updated on 2025-03-21 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/clean-code.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What is “Clean Code” and why is it important?</li>
<li>What are the most important “Clean Code” rules?</li>
<li>What tools can I use to improve my code quality towards the “Clean
Code” ideal?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Understand the importance of Clean Code</li>
<li>Understand some of the fundamental Clean Code rules related to:
<ul><li>Code structure</li>
<li>Naming conventions</li>
<li>Functions</li>
<li>Comments</li>
<li>Unit tests</li>
</ul></li>
<li>Become familiar with the most important tools that can facilitate
writing Clean Code</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>Imagine you are reading a well-organized book or following a simple
recipe. Each step is clear, easy to understand, and there’s no
unnecessary clutter. Now imagine the opposite—a messy, confusing set of
instructions where you’re constantly backtracking to figure out what’s
going on. <strong>This is the difference between “clean code” and messy
code in programming.</strong></p>
<p>Here are the key ideas behind <strong>Clean Code</strong>:</p>
<ul><li>Readable and Understandable</li>
<li>Well-Organized</li>
<li>Minimal but Effective</li>
<li>Easy to Test</li>
<li>Follows Good Practices</li>
</ul><p> </p>
<figure><img src="fig/clean_vs_messy.jpg" alt='"Clean" vs. "Messy"' class="figure mx-auto d-block"></figure><p> </p>
<div class="section level3">
<h3 id="why-clean-code-matters">Why Clean Code Matters:<a class="anchor" aria-label="anchor" href="#why-clean-code-matters"></a></h3>
<ul><li>
<strong>For Teamwork</strong>: Most software projects involve
multiple developers. Clean code ensures everyone can collaborate without
getting stuck deciphering messy work.</li>
<li>
<strong>For Longevity</strong>: Code often lives longer than you
think. Writing clean code saves you time in the future when making
updates.</li>
<li>
<strong>For Quality</strong>: Clean code reduces bugs and improves
the user experience of the software.</li>
</ul><div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Clean Code is code that’s easy to read, maintain, understand for
developers and other teams while improving the quality of their software
through structure and consistency with performance demands. It lets you
get the most value and purpose out of your software.</p>
<p><em><a href="https://www.sonarsource.com/solutions/clean-code/" class="external-link uri">https://www.sonarsource.com/solutions/clean-code/</a></em></p>
</div>
</div>
</div>
<div id="callout2" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>What is clean code, anyway? Here are some of its features:</p>
<ul><li>Clean code is obvious for other programmers.</li>
<li>Clean code does not contain duplication.</li>
<li>Clean code contains a minimal number of classes and other moving
parts.</li>
<li>Clean code passes all tests.</li>
<li>Clean code is easier and cheaper to maintain!</li>
</ul><p><em><a href="https://refactoring.guru/refactoring" class="external-link uri">https://refactoring.guru/refactoring</a></em></p>
</div>
</div>
</div>
<figure><img src="fig/clean_code.png" alt="How to measure clean code?" class="figure mx-auto d-block"></figure><p>In this episode we will cover the basics of clean code, introduce
some tools that facilitate writing clean code, and end with a
refactoring exercise that will allow you to put these concepts into
practice.</p>
</div>
</section><section><h2 class="section-heading" id="clean-code-rules">Clean Code Rules<a class="anchor" aria-label="anchor" href="#clean-code-rules"></a></h2>
<hr class="half-width"><p>In this section, we will cover some basic rules that, when followed,
lead to cleaner code. It’s important to recognize that these rules are
just the “tip of the iceberg,” as there is much more to explore on this
topic. However, adhering to these simple guidelines can significantly
improve the quality of your code. As you grow into a more experienced
developer and adopt advanced software techniques, it remains valuable to
stay aligned with “clean code” principles relevant to these practices.
<strong>Clean Code: A Handbook of Agile Software Craftsmanship</strong>
by Robert C. Martin is often regarded as the definitive guide for the
clean code movement and is highly recommended reading.</p>
<div id="working-with-code-samples" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="working-with-code-samples" class="callout-inner">
<h3 class="callout-title">Working with code samples</h3>
<div class="callout-content">
<p>In this workshop you will be presented many small code samples
(snippets); sometimes you will be asked to re-factor them. To keep
things neat, we advise keep all these samples in separate source files
(e.g. <code>example01.py</code>, <code>example02.py</code>, etc.) and
place them under a common <code>clean_code</code> directory.
Furthermore, to ensure isolation, you should also create a separate
virtual environment for all the coding in this workshop:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> mkdir clean_code</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> cd clean_code</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> venv venv</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="ex">$</span> source venv/bin/activate</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="general-rules">General Rules<a class="anchor" aria-label="anchor" href="#general-rules"></a></h3>
<ul><li>Follow standard conventions. Find a standard that suits you, and
stick to it! For example:
<ul><li><a href="https://peps.python.org/pep-0008/" class="external-link">PEP 8 – Style Guide for
Python Code</a></li>
<li><a href="https://google.github.io/styleguide/pyguide.html" class="external-link">Google
Python Style Guide</a></li>
</ul></li>
<li>Keep it simple stupid. Simpler is always better. Reduce complexity
as much as possible.</li>
<li>Boy scout rule. Leave the campground cleaner than you found it.</li>
</ul></div>
<div class="section level3">
<h3 id="source-code-structure">Source code structure<a class="anchor" aria-label="anchor" href="#source-code-structure"></a></h3>
<p><strong>The newspaper metaphor</strong>: code should be organized and
structured like a well-written newspaper article: it should guide the
reader from broad, general concepts to more specific details. At the
top, high-level information—such as the purpose of the code or function
should be immediately clear, similar to a headline. As the reader delves
deeper, they encounter progressively detailed logic, analogous to
sections and paragraphs expanding on the headline. This structure helps
developers quickly grasp the overall intent of the code before diving
into implementation specifics, improving readability and
maintainability.</p>
<p>There are a number of source code structure rules that derive from
this metaphor:</p>
<div id="separate-concepts-vertically-related-code-should-appear-vertically-dense" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="separate-concepts-vertically-related-code-should-appear-vertically-dense" class="callout-inner">
<h3 class="callout-title">Separate concepts vertically; related code should appear vertically dense</h3>
<div class="callout-content">
<p>Goal here is to make use of visual clustering, so that parts of the
code that “belong” together become obvious without having to dive deep
into the actual code.</p>
</div>
</div>
</div>
<div id="refactor-the-code-below-by-following-this-guideline" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-code-below-by-following-this-guideline" class="callout-inner">
<h3 class="callout-title">Refactor the code below by following this guideline</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">def</span> calculate_total(cart, discount_rate):</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> cart:</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Cart cannot be empty."</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> (<span class="dv">0</span> <span class="op">&lt;=</span> discount_rate <span class="op">&lt;=</span> <span class="dv">1</span>):</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Discount rate must be between 0 and 1."</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    subtotal <span class="op">=</span> <span class="bu">sum</span>(item[<span class="st">'price'</span>] <span class="op">*</span> item[<span class="st">'quantity'</span>] <span class="cf">for</span> item <span class="kw">in</span> cart)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>    discount <span class="op">=</span> subtotal <span class="op">*</span> discount_rate</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>    total <span class="op">=</span> subtotal <span class="op">-</span> discount</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>    <span class="cf">return</span> total</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> calculate_total(cart, discount_rate):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> cart:</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Cart cannot be empty."</span>)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> (<span class="dv">0</span> <span class="op">&lt;=</span> discount_rate <span class="op">&lt;=</span> <span class="dv">1</span>):</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Discount rate must be between 0 and 1."</span>)</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>    subtotal <span class="op">=</span> <span class="bu">sum</span>(item[<span class="st">'price'</span>] <span class="op">*</span> item[<span class="st">'quantity'</span>] <span class="cf">for</span> item <span class="kw">in</span> cart)</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>    discount <span class="op">=</span> subtotal <span class="op">*</span> discount_rate</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    total <span class="op">=</span> subtotal <span class="op">-</span> discount  <span class="co"># Related code is vertically dense</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>    <span class="cf">return</span> total</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="declare-variables-close-to-their-usage." class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="declare-variables-close-to-their-usage." class="callout-inner">
<h3 class="callout-title">Declare variables close to their usage.</h3>
<div class="callout-content">
<p>Follows the same principle that closely related code constructs
should be in close visual proximity.</p>
</div>
</div>
</div>
<div id="refactor-the-code-below-by-following-this-guideline-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-code-below-by-following-this-guideline-1" class="callout-inner">
<h3 class="callout-title">Refactor the code below by following this guideline</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="kw">def</span> calculate_average_grades(students):</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>    total_grades <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>    count <span class="op">=</span> <span class="bu">len</span>(students) <span class="cf">if</span> students <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    average_grade <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> students:</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"The students list cannot be empty."</span>)</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>    <span class="cf">for</span> student <span class="kw">in</span> students:</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>        total_grades <span class="op">+=</span> student[<span class="st">'grade'</span>]</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    average_grade <span class="op">=</span> total_grades <span class="op">/</span> count</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>    <span class="cf">return</span> average_grade</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="kw">def</span> calculate_average_grades(students):</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> students:</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"The students list cannot be empty."</span>)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>    total_grades <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>    <span class="cf">for</span> student <span class="kw">in</span> students:</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>        total_grades <span class="op">+=</span> student[<span class="st">'grade'</span>]</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>    count <span class="op">=</span> <span class="bu">len</span>(students)</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>    average_grade <span class="op">=</span> total_grades <span class="op">/</span> count</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>    <span class="cf">return</span> average_grade</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keep-lines-short" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="keep-lines-short" class="callout-inner">
<h3 class="callout-title">Keep lines short</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># VERY BAD</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="kw">def</span> get_unique_even_cubed_double_of_positive_numbers(numbers):</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">round</span>(x<span class="op">**</span><span class="dv">3</span>, <span class="dv">2</span>), <span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, <span class="bu">set</span>(<span class="bu">map</span>(<span class="kw">lambda</span> y: y <span class="op">*</span> <span class="dv">3</span>, [i <span class="cf">for</span> i <span class="kw">in</span> numbers <span class="cf">if</span> i <span class="op">&gt;</span> <span class="dv">0</span>])))))</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="kw">def</span> get_unique_even_cubed_tripled_of_positive_numbers(numbers):</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>    positive_numbers <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> numbers <span class="cf">if</span> i <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>    tripled_numbers <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> y: y <span class="op">*</span> <span class="dv">3</span>, positive_numbers)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>    unique_numbers <span class="op">=</span> <span class="bu">set</span>(tripled_numbers)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>    even_numbers <span class="op">=</span> <span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, unique_numbers)</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>    <span class="cf">return</span> [<span class="bu">round</span>(x<span class="op">**</span><span class="dv">3</span>, <span class="dv">2</span>) <span class="cf">for</span> x <span class="kw">in</span> even_numbers]</span></code></pre>
</div>
</div>
</div>
</div>
<div id="function-placement" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="function-placement" class="callout-inner">
<h3 class="callout-title">Function placement</h3>
<div class="callout-content">
<ul><li>Dependent functions should be close.</li>
<li>Similar functions should be close.</li>
<li>Place functions in the downward direction.</li>
</ul><div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">def</span> get_unique_even_cubed_tripled_of_positive_numbers(numbers):</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    positive_numbers <span class="op">=</span> filter_positive_numbers(numbers)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>    tripled_numbers <span class="op">=</span> triple_numbers(positive_numbers)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>    unique_numbers <span class="op">=</span> get_unique_numbers(tripled_numbers)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>    even_numbers <span class="op">=</span> get_even_numbers(unique_numbers)</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>    <span class="cf">return</span> even_numbers</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="kw">def</span> filter_positive_numbers(numbers):</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="cf">for</span> num <span class="kw">in</span> numbers <span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="kw">def</span> triple_numbers(numbers):</span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="op">*</span> <span class="dv">3</span> <span class="cf">for</span> num <span class="kw">in</span> numbers]</span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="kw">def</span> get_unique_numbers(numbers):</span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">set</span>(numbers))</span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="kw">def</span> get_even_numbers(numbers):</span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="cf">for</span> num <span class="kw">in</span> numbers <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="kw">def</span> cube_numbers(numbers):</span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="op">**</span> <span class="dv">3</span> <span class="cf">for</span> num <span class="kw">in</span> numbers]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="names-rules">Names rules<a class="anchor" aria-label="anchor" href="#names-rules"></a></h3>
<div id="choose-descriptive-and-unambiguous-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="choose-descriptive-and-unambiguous-names" class="callout-inner">
<h3 class="callout-title">Choose descriptive and unambiguous names</h3>
<div class="callout-content">
<p>A name of a function/variable should as much as possible reveal the
reason why that function/variable is necessary, and its intended use.
Choosing a good name takes time at the start but saves time in the
long-run.</p>
<p>If first variable use requires a comment, you are probably using the
wrong name:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>d <span class="op">=</span> <span class="dv">8</span>  <span class="co"># elapsed time in days</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>elapsed_time_in_days <span class="op">=</span> <span class="dv">8</span></span></code></pre>
</div>
<p>Choosing names that reveal intend makes code much easier to
understand, and will save you (and everyone else who will be working
with your code) a lot of time in the future:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="kw">def</span> get_them(the_list):</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    list1 <span class="op">=</span> []</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> the_list:</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>        <span class="cf">if</span> x[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">5</span>:</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>            list1.append(x)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>    <span class="cf">return</span> list1</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>STATUS_FIELD <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>FLAGGED <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="kw">def</span> get_flagged_cells(game_board):</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>    flagged_cells <span class="op">=</span> []</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>    <span class="cf">for</span> cell <span class="kw">in</span> game_board:</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>        <span class="cf">if</span> cell[STATUS_FIELD] <span class="op">=</span> FLAGGED:</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>             flagged_cells.append(x)</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>    <span class="cf">return</span> flagged_cells</span></code></pre>
</div>
</div>
</div>
</div>
<div id="use-pronounceable-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-pronounceable-names" class="callout-inner">
<h3 class="callout-title">Use pronounceable names</h3>
<div class="callout-content">
<p>Unpronounceable names are hard to use in a conversation. If names
used in your code are pronounceable, you can easily discuss them with
your colleagues which fosters collaboration.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="kw">def</span> bld_dta_rcrd102(genymdhms, modymdhms):</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>    pszqint <span class="op">=</span> <span class="st">"102"</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>    <span class="co"># continued in the same incomprehensible style</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>    <span class="co"># ...</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="kw">def</span> build_data_record_102(generation_timestamp, modification_timestamp):</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>    record_id <span class="op">=</span> <span class="st">"102"</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>    <span class="co"># much easier to understand and review with your colleagues!</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>    <span class="co"># ...</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="use-searchable-names-and-replace-magic-numbers-with-named-constants" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-searchable-names-and-replace-magic-numbers-with-named-constants" class="callout-inner">
<h3 class="callout-title">Use searchable names and replace magic numbers with named constants</h3>
<div class="callout-content">
<p>Single letter names and “magic numbers” in the code are very
difficult to locate when you do a text search through your source code.
As such, changing them can be extremely error-prone. Replacing them with
named constants can greatly simplify this process:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="kw">def</span> sum_up(t):</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    s <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>    ...</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>        s <span class="op">+=</span> (t[j] <span class="op">*</span> <span class="dv">4</span>) <span class="op">/</span> <span class="dv">5</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>    ...</span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="kw">def</span> sum_work_days_per_week(task_estimate):</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>    REAL_DAYS_PER_IDEAL_DAY <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>    WORK_DAYS_PER_WEEK <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>    NUMBER_OF_TASKS <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>    <span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>    ...</span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(NUMBER_OF_TASKS):</span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>        real_task_days <span class="op">=</span> task_estimate[j] <span class="op">*</span> REAL_DAYS_PER_IDEAL_DAY</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>        real_task_weeks <span class="op">=</span> real_days <span class="op">/</span> WORK_DAYS_PER_WEEK</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>        <span class="bu">sum</span> <span class="op">+=</span> real_task_weeks</span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>    ...</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="functions-rules">Functions rules<a class="anchor" aria-label="anchor" href="#functions-rules"></a></h3>
<div id="small" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="small" class="callout-inner">
<h3 class="callout-title">Small</h3>
<div class="callout-content">
<p>A function should be small enough so one could understand it without
having to do “mental jumps” between various parts of the code. Such
“mental jumps” are time consuming and tiring. Ideally, the entire
function should fit on one screen.</p>
</div>
</div>
</div>
<div id="refactor-the-code-below-by-breaking-it-into-smaller-functions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-code-below-by-breaking-it-into-smaller-functions" class="callout-inner">
<h3 class="callout-title">Refactor the code below by breaking it into smaller functions</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Dummy calibration function - operations shown here have no "real life" meaning</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(fridge_data, include_safety_checks):</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>    fridge_id <span class="op">=</span> fridge_data.get(<span class="st">"id"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>    current_temp <span class="op">=</span> fridge_data.get(<span class="st">"current_temperature"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>    target_temp <span class="op">=</span> fridge_data.get(<span class="st">"target_temperature"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>    calibration_params <span class="op">=</span> fridge_data.get(<span class="st">"calibration_params"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>    <span class="cf">if</span> include_safety_checks:</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>        <span class="cf">if</span> current_temp <span class="op">&gt;</span> calibration_params.get(<span class="st">"max_safe_temperature"</span>):</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe temperature detected during calibration."</span>)</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>        <span class="cf">if</span> target_temp <span class="op">&lt;</span> calibration_params.get(<span class="st">"min_safe_temperature"</span>):</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe target temperature detected during calibration."</span>)</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>    adjustment_factor <span class="op">=</span> calibration_params.get(<span class="st">"adjustment_factor"</span>, <span class="fl">1.0</span>)</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> current_temp <span class="op">+</span> (target_temp <span class="op">-</span> current_temp) <span class="op">*</span> adjustment_factor</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"max_safe_temperature"</span>]</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"min_safe_temperature"</span>]</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>    stabilization_steps <span class="op">=</span> calibration_params.get(<span class="st">"stabilization_steps"</span>, <span class="dv">10</span>)</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a>    <span class="cf">for</span> step <span class="kw">in</span> <span class="bu">range</span>(stabilization_steps):</span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>        correction_factor <span class="op">=</span> <span class="fl">0.1</span> <span class="op">*</span> (adjusted_temp <span class="op">-</span> target_temp)</span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a>        adjusted_temp <span class="op">-=</span> correction_factor</span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a>        <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> target_temp:</span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a>            adjusted_temp <span class="op">+=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if under target</span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a>        <span class="cf">elif</span> adjusted_temp <span class="op">&gt;</span> target_temp:</span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a>            adjusted_temp <span class="op">-=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if above target</span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a>        temperature_variance <span class="op">=</span> <span class="bu">abs</span>(adjusted_temp <span class="op">-</span> target_temp)</span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a>        <span class="cf">if</span> temperature_variance <span class="op">&lt;</span> <span class="fl">0.01</span>:</span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># Break early if within small tolerance</span></span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a>        adjusted_temp <span class="op">-=</span> <span class="fl">0.01</span> <span class="op">*</span> temperature_variance</span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a>    fridge_data[<span class="st">"final_temperature"</span>] <span class="op">=</span> adjusted_temp</span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a>    telemetry_data <span class="op">=</span> {</span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a>        <span class="st">"fridge_id"</span>: fridge_id,</span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a>        <span class="st">"start_temp"</span>: current_temp,</span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a>        <span class="st">"end_temp"</span>: adjusted_temp,</span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a>        <span class="st">"safety_checks"</span>: include_safety_checks</span>
<span id="cb12-43"><a href="#cb12-43" tabindex="-1"></a>    }</span>
<span id="cb12-44"><a href="#cb12-44" tabindex="-1"></a></span>
<span id="cb12-45"><a href="#cb12-45" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Telemetry data: </span><span class="sc">{</span>telemetry_data<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-46"><a href="#cb12-46" tabindex="-1"></a></span>
<span id="cb12-47"><a href="#cb12-47" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"Calibration complete. Final temperature: </span><span class="sc">{</span>adjusted_temp<span class="sc">:.2f}</span><span class="ss">"</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Function refactored into smaller functions</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(fridge_data, include_safety_checks):</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>    fridge_id <span class="op">=</span> fridge_data.get(<span class="st">"id"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>    current_temp <span class="op">=</span> fridge_data.get(<span class="st">"current_temperature"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>    target_temp <span class="op">=</span> fridge_data.get(<span class="st">"target_temperature"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>    calibration_params <span class="op">=</span> fridge_data.get(<span class="st">"calibration_params"</span>)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>    <span class="cf">if</span> include_safety_checks:</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>        perform_safety_checks(current_temp, target_temp, calibration_params)</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> apply_temperature_adjustment(current_temp, target_temp, calibration_params)</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>    stabilized_temp <span class="op">=</span> stabilize_temperature(adjusted_temp, target_temp, calibration_params)</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>    fridge_data[<span class="st">"final_temperature"</span>] <span class="op">=</span> stabilized_temp</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>    display_telemetry(fridge_id, current_temp, stabilized_temp)</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"Calibration complete. Final temperature: </span><span class="sc">{</span>stabilized_temp<span class="sc">:.2f}</span><span class="ss">"</span></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a><span class="kw">def</span> perform_safety_checks(current_temp, target_temp, calibration_params):</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a>    <span class="cf">if</span> current_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe temperature: Current temperature exceeds safe limits."</span>)</span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a>    <span class="cf">if</span> target_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe target temperature: Below safe limits."</span>)</span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a></span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a><span class="kw">def</span> apply_temperature_adjustment(current_temp, target_temp, calibration_params):</span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a>    adjustment_factor <span class="op">=</span> calibration_params.get(<span class="st">"adjustment_factor"</span>, <span class="fl">1.0</span>)</span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> current_temp <span class="op">+</span> (target_temp <span class="op">-</span> current_temp) <span class="op">*</span> adjustment_factor</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a></span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"max_safe_temperature"</span>]</span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"min_safe_temperature"</span>]</span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a></span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a>    <span class="cf">return</span> adjusted_temp</span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a></span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a></span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a><span class="kw">def</span> stabilize_temperature(initial_temp, target_temp, calibration_params):</span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a>    stabilization_steps <span class="op">=</span> calibration_params.get(<span class="st">"stabilization_steps"</span>, <span class="dv">10</span>)</span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a>    stabilized_temp <span class="op">=</span> initial_temp</span>
<span id="cb13-42"><a href="#cb13-42" tabindex="-1"></a></span>
<span id="cb13-43"><a href="#cb13-43" tabindex="-1"></a>    <span class="cf">for</span> step <span class="kw">in</span> <span class="bu">range</span>(stabilization_steps):</span>
<span id="cb13-44"><a href="#cb13-44" tabindex="-1"></a>        correction_factor <span class="op">=</span> <span class="fl">0.1</span> <span class="op">*</span> (stabilized_temp <span class="op">-</span> target_temp)</span>
<span id="cb13-45"><a href="#cb13-45" tabindex="-1"></a>        stabilized_temp <span class="op">-=</span> correction_factor</span>
<span id="cb13-46"><a href="#cb13-46" tabindex="-1"></a></span>
<span id="cb13-47"><a href="#cb13-47" tabindex="-1"></a>        <span class="cf">if</span> stabilized_temp <span class="op">&lt;</span> target_temp:</span>
<span id="cb13-48"><a href="#cb13-48" tabindex="-1"></a>            stabilized_temp <span class="op">+=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if under target</span></span>
<span id="cb13-49"><a href="#cb13-49" tabindex="-1"></a>        <span class="cf">elif</span> stabilized_temp <span class="op">&gt;</span> target_temp:</span>
<span id="cb13-50"><a href="#cb13-50" tabindex="-1"></a>            stabilized_temp <span class="op">-=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if above target</span></span>
<span id="cb13-51"><a href="#cb13-51" tabindex="-1"></a></span>
<span id="cb13-52"><a href="#cb13-52" tabindex="-1"></a>        temperature_variance <span class="op">=</span> <span class="bu">abs</span>(stabilized_temp <span class="op">-</span> target_temp)</span>
<span id="cb13-53"><a href="#cb13-53" tabindex="-1"></a>        <span class="cf">if</span> temperature_variance <span class="op">&lt;</span> <span class="fl">0.01</span>:</span>
<span id="cb13-54"><a href="#cb13-54" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># Break early if within a small tolerance</span></span>
<span id="cb13-55"><a href="#cb13-55" tabindex="-1"></a>        stabilized_temp <span class="op">-=</span> <span class="fl">0.01</span> <span class="op">*</span> temperature_variance</span>
<span id="cb13-56"><a href="#cb13-56" tabindex="-1"></a></span>
<span id="cb13-57"><a href="#cb13-57" tabindex="-1"></a>    <span class="cf">return</span> stabilized_temp</span>
<span id="cb13-58"><a href="#cb13-58" tabindex="-1"></a></span>
<span id="cb13-59"><a href="#cb13-59" tabindex="-1"></a></span>
<span id="cb13-60"><a href="#cb13-60" tabindex="-1"></a><span class="kw">def</span> display_telemetry(fridge_id, start_temp, end_temp, safety_checks):</span>
<span id="cb13-61"><a href="#cb13-61" tabindex="-1"></a>    telemetry_data <span class="op">=</span> {</span>
<span id="cb13-62"><a href="#cb13-62" tabindex="-1"></a>        <span class="st">"fridge_id"</span>: fridge_id,</span>
<span id="cb13-63"><a href="#cb13-63" tabindex="-1"></a>        <span class="st">"start_temp"</span>: start_temp,</span>
<span id="cb13-64"><a href="#cb13-64" tabindex="-1"></a>        <span class="st">"end_temp"</span>: end_temp,</span>
<span id="cb13-65"><a href="#cb13-65" tabindex="-1"></a>    }</span>
<span id="cb13-66"><a href="#cb13-66" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Telemetry data: </span><span class="sc">{</span>telemetry_data<span class="sc">}</span><span class="ss">"</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="single-responsibility-principle-do-one-thing-at-one-level-of-abstraction" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="single-responsibility-principle-do-one-thing-at-one-level-of-abstraction" class="callout-inner">
<h3 class="callout-title">
<strong>Single Responsibility
Principle</strong>: Do one thing at one level of abstraction</h3>
<div class="callout-content">
<p>The “messy” code example above is difficult to comprehend because the
code constantly jumps between different levels of abstractions:
performing low-level calibration and stabilization steps, fetching
parameters, throwing exceptions, etc. This goes against the so-called
<em>Single Responsibility Principle</em> - which is a well-known rule in
object-oriented programming and software engineering - stating that a
class or a function should only do one thing.</p>
<p>This is easy to achieve if “clean” functions should also follow our
earlier “newspaper article” paradigm: the code should read like a
top-down story - so we can read the program like a narrative, descending
one level of abstraction as we read down the list of functions. This is
what makes the refactored example so much easier to understand.</p>
</div>
</div>
</div>
<div id="use-descriptive-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-descriptive-names" class="callout-inner">
<h3 class="callout-title">Use descriptive names</h3>
<div class="callout-content">
<p>This should follow the methodology already discussing under <em>Name
rules</em>. In addition to this:</p>
<ul><li>Do not be afraid to use long names - the function name should pretty
much describe what the function does, to the point where comments become
superfluous</li>
<li>Spend time thinking of a good name, and change it as soon as you
have found a better one</li>
<li>Be consistent in your naming: use same phrases, nouns and verbs in
your function names</li>
</ul></div>
</div>
</div>
<div id="refactor-the-function-names-below-so-they-are-consistent" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-function-names-below-so-they-are-consistent" class="callout-inner">
<h3 class="callout-title">Refactor the function names below so they are consistent</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">def</span> determine_optimal_temperature():</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="kw">def</span> derive_calibration_parameters():</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="kw">def</span> calculate_reset_interval():</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="kw">def</span> calculate_optimal_temperature():</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="kw">def</span> calculate_calibration_parameters():</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="kw">def</span> calculate_reset_interval():</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="prefer-fewer-arguments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="prefer-fewer-arguments" class="callout-inner">
<h3 class="callout-title">Prefer fewer arguments</h3>
<div class="callout-content">
<ul><li>Ideally have 0-2 arguments. A high number of arguments can make
functions harder to understand, test, and reuse.</li>
<li>When multiple related arguments are necessary, encapsulate them in
an object or data structure to simplify the function signature and
improve readability.</li>
</ul><div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(min_temperature, max_temperature, steps, accuracy, seconds_timeout):</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="kw">class</span> CalibrationParameters:</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>    min_temperature: <span class="bu">float</span>,</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>    max_temperature: <span class="bu">float</span>,</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>    steps: <span class="bu">int</span>,</span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>    accuracy: <span class="bu">float</span>,</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>    seconds_timeout: <span class="bu">int</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(calibration_parameters: CalibrationParameters):</span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>...</span></code></pre>
</div>
<ul><li>Functions should avoid boolean or flag arguments, as they often
indicate that the function is doing more than one thing and violate the
<em>Single Responsibility Principle</em>
</li>
</ul><div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="kw">def</span> update_fridge_temperature(new_temperature: <span class="bu">float</span>, initialize_fridge: <span class="bu">bool</span>):</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="kw">def</span> initialize_fridge():</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="kw">def</span> update_fridge_temperature(new_temperature: <span class="bu">float</span>):</span></code></pre>
</div>
</div>
</div>
</div>
<div id="have-no-side-effects" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="have-no-side-effects" class="callout-inner">
<h3 class="callout-title">Have no side effects</h3>
<div class="callout-content">
<ul><li>Side effects break the <em>Single Responsibility Principle</em>
</li>
<li>No side effects facilitate parallel execution</li>
<li>Side effects can lead to subtle (and occasionally catastrophic)
errors!</li>
</ul><div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># VERY VERY BAD</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="kw">def</span> adjust_experiment_parameters(duration_in_seconds, calibration_steps):</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>    set_experiment_duration(duration_in_seconds)</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>    set_experiment_calibration_steps(calibration_steps)</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>    start_experiment()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="comments-rules">Comments rules<a class="anchor" aria-label="anchor" href="#comments-rules"></a></h3>
<p>As a general rule, always strive to have the code “explain itself” so
comments are not necessary. In most cases, <em>comments are an
acceptance of failure</em>: the code itself is not clear enough, so it
needs additional explanation in the form of a comment.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="co"># Check if the experiment is complete</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="cf">if</span> status <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    handle_completion()</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="cf">if</span> is_experiment_complete(status):</span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>    handle_completion()</span></code></pre>
</div>
<div class="section level4">
<h4 id="bad-comments">Bad Comments<a class="anchor" aria-label="anchor" href="#bad-comments"></a></h4>
<p>In many cases comments are useless, and occasionally straight
dangerous:</p>
<div id="redundant-comments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redundant-comments" class="callout-inner">
<h3 class="callout-title">Redundant comments</h3>
<div class="callout-content">
<p>Such comments can be a distraction for the reviewer</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>total <span class="op">=</span> price <span class="op">*</span> quantity  <span class="co"># Multiply price by quantity</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="outdated-or-misleading-comments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="outdated-or-misleading-comments" class="callout-inner">
<h3 class="callout-title">Outdated or misleading comments</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="co"># This function sorts the list in ascending order</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="kw">def</span> sort_list(data):</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(data, reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="kw">def</span> sort_list_ascending(data):</span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(data)</span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="kw">def</span> sort_list_descending(data):</span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(data, reverse<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="commented-out-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="commented-out-code" class="callout-inner">
<h3 class="callout-title">Commented out code</h3>
<div class="callout-content">
<p>Clutters the source code, and makes it harder to follow the natural
flow of your program. Use version control instead!</p>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="good-comments">Good Comments<a class="anchor" aria-label="anchor" href="#good-comments"></a></h4>
<p>There are a number of cases when comments can be beneficial:</p>
<div id="explanation-of-intent" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="explanation-of-intent" class="callout-inner">
<h3 class="callout-title">Explanation of intent</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># Use binary search to optimize performance on large datasets</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="kw">def</span> find_element(sorted_list, target):</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>    <span class="cf">return</span> binary_search(sorted_list, target)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="clarification-of-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="clarification-of-code" class="callout-inner">
<h3 class="callout-title">Clarification of code</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># Flag transactions with an amount greater than 10,000 as "flagged" for manual review.</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="co"># This threshold is set by international banking regulations, specifically the</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="co"># Financial Action Task Force (FATF) Recommendation 10, to prevent money laundering.</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>MANUAL_REVIEW_THRESHOLD <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="kw">def</span> classify_transactions(transactions):</span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> transactions:</span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a>        <span class="cf">if</span> t.amount <span class="op">&gt;</span> MANUAL_REVIEW_THRESHOLD:</span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a>            t.status <span class="op">=</span> <span class="st">"flagged"</span></span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a>            t.status <span class="op">=</span> <span class="st">"completed"</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="warning-of-consequences" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="warning-of-consequences" class="callout-inner">
<h3 class="callout-title">Warning of consequences</h3>
<div class="callout-content">
<pre><code># WARNING: This function permanently deletes experimental data.
# Ensure backups are created before calling.
def delete_experiment_data(experiment_id):
    database.delete(f"experiment_{experiment_id}")</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="unit-test-rules">Unit Test Rules<a class="anchor" aria-label="anchor" href="#unit-test-rules"></a></h3>
<p>Unit tests verify the functionality of individual components or
functions in a program. They help detect bugs early by isolating and
testing small code units. Typically, they are written using testing
frameworks like <code>Pytest</code> or <code>PyUnit</code>.</p>
<div id="tests-enable-the--ilities" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tests-enable-the--ilities" class="callout-inner">
<h3 class="callout-title">Tests enable the -ilities!!</h3>
<div class="callout-content">
<p><strong>Unit tests keep your code flexible, maintainable, and
reusable - they are the key and core of clean code!</strong> The reason
for this is that <strong>unit tests allow you to change your code
without fear of introducing new bugs</strong>. If you have enough unit
tests with good coverage you can start with a sub-par architecture and
“messy” code, and move towards “clean” code in small and quick
iterations, at each iteration being able to effectively test that your
changes have not introduced bugs.</p>
<p><strong>Unit tests enable change!</strong></p>
</div>
</div>
</div>
<div id="unit-tests-should-be-as-clean-as-the-rest-of-the-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="unit-tests-should-be-as-clean-as-the-rest-of-the-code" class="callout-inner">
<h3 class="callout-title">Unit tests should be as clean as the rest of the code</h3>
<div class="callout-content">
<ul><li>Tests change as tested code changes!</li>
<li>If tests are difficult to evolve then the overall speed one can
change the program is slow</li>
<li>Unit tests can be a very effective tool to document what a program
does</li>
<li>Clean tests allow new members of the team quickly understand the
expected behaviour of the system without diving deeply into the
implementation</li>
</ul></div>
</div>
</div>
<div id="unit-tests-should-follow-the-f.i.r.s.t-principles" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="unit-tests-should-follow-the-f.i.r.s.t-principles" class="callout-inner">
<h3 class="callout-title">Unit tests should follow the
<strong>F.I.R.S.T</strong> principles</h3>
<div class="callout-content">
<ul><li>
<strong>F</strong>ast - so can be run often, so they detect problems
early - when they are easy to fix</li>
<li>
<strong>I</strong>ndependent - they should not depend on each other
- so they can be run in any order</li>
<li>
<strong>R</strong>epeatable - should not depend on anything in the
environment - ideally not even on a network connection being present!
Should be possible to run them offline - so one can work on re-factoring
even when offline</li>
<li>
<strong>S</strong>elf-validating - should return either
<em>True</em> or <em>False</em>. Checking success/failure should be
fast!</li>
<li>
<strong>T</strong>imely - add unit tests as soon as you have written
the code, or even <em>before</em> (TDD). Forces one to think in terms of
testing =&gt; testable code.</li>
</ul></div>
</div>
</div>
<div id="a-unit-test-should-cover-a-single-concept" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="a-unit-test-should-cover-a-single-concept" class="callout-inner">
<h3 class="callout-title">A unit test should cover a single concept</h3>
<div class="callout-content">
<p>Having a unit test check multiple parts of the code makes it harder
to reason on the cause of the failure. They are also not self-validating
- if they fail - on which part did they fail?</p>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Have a look at the unit test below. Is it “clean”? Can you name which
of the “clean tests” principles discussed so far it breaks? Can you
refactor it into “clean” test code?</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="kw">def</span> test_math_operations():</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">4</span> <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>    <span class="cf">if</span> result <span class="op">==</span> <span class="dv">9</span>:</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Addition passed"</span>)</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Addition failed"</span>)</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">3</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">9</span>  <span class="co"># Works, I guess</span></span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a>    division_result <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>    <span class="cf">assert</span> division_result <span class="op">==</span> <span class="dv">5</span>, <span class="st">"Division failed"</span>  <span class="co"># Check division, right?</span></span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a>    my_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb25-17"><a href="#cb25-17" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(my_list) <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb25-18"><a href="#cb25-18" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" tabindex="-1"></a>    <span class="cf">assert</span> division_result <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb25-20"><a href="#cb25-20" tabindex="-1"></a></span>
<span id="cb25-21"><a href="#cb25-21" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Test completed!"</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>The above test breaks many of the “clean” tests and “clean” code
principles:</p>
<ul><li>name does not reflect purpose</li>
<li>test does not cover just one aspect of the code, but rather multiple
- math operations and a completely un-related list operation</li>
<li>redundant assertions - like the one for the division result</li>
<li>test is not self-validating - the user needs to monitor the test
output to determine success/failure</li>
<li>extraneous output - “Test completed!” is unnecessary and distracts
the user</li>
</ul><p>Refactored test:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="kw">def</span> test_addition():</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">4</span> <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">9</span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="kw">def</span> test_multiplication():</span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">3</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">9</span></span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a><span class="kw">def</span> test_division():</span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb26-13"><a href="#cb26-13" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">5</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="clean-code-tools">Clean Code Tools<a class="anchor" aria-label="anchor" href="#clean-code-tools"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="pycharm-and-clean-code">PyCharm and Clean Code<a class="anchor" aria-label="anchor" href="#pycharm-and-clean-code"></a></h3>
<p>Using a modern development environment, such as PyCharm, can greatly
facilitate writing clean code. Correctly configured, PyCharm can give
you very useful hints on the style and content of your code, which can
greatly facilitate refactoring towards clean code. PyCharm can also do
some refactoring for you - for example changing the name of a function
or variable - PyCharm will ensure the name is changed consistently
throughout the code - which is much less error prone than doing it by
hand.</p>
<div id="configuring-a-python-interpreter-for-a-pycharm-project" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="configuring-a-python-interpreter-for-a-pycharm-project" class="callout-inner">
<h3 class="callout-title">Configuring a Python interpreter for a PyCharm project</h3>
<div class="callout-content">
<p>For a given PyCharm project it is possible to setup a python
interpreter, as shown below:</p>
<figure><img src="fig/pycharm_python_interpreter.jpg" alt="Running Pytest from PyCharm" class="figure mx-auto d-block"></figure><p>The selected interpreter can be the system-wide one, or one selected
from a virtual environment. Once a Python interpreter has been
configured, PyCharm will use it to run code (e.g. <code>.py</code> files
part of that project), or analyze the code and provide useful hints to
the developer:</p>
<figure><img src="fig/pycharm_hints.jpg" alt="Running Pytest from PyCharm" class="figure mx-auto d-block"></figure><p>The figure above shows Pycharm hints in action: in this case the
function <code>divide_numbers()</code> has not yet been defined. PyCharm
then marks the place where the undefined function is invoked in the code
with red underline, so the developer can quickly spot it. Hovering over
the underline provides a hint, in this case explaining that the function
is undefined.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="linters---pylint">Linters - PyLint<a class="anchor" aria-label="anchor" href="#linters---pylint"></a></h3>
<p>Pylint is a tool that helps you write cleaner, more reliable Python
code by analyzing your code for errors, enforcing coding standards, and
suggesting improvements. It checks for issues like unused variables,
inconsistent naming, or missing documentation.</p>
<p>Pylint assigns a score to your code, ranging from -10.0 (very poor)
to 10.0 (perfect). This score reflects the overall quality of your code
based on the issues Pylint identifies, weighted by their severity.</p>
<p>Pylint can be easily installed using <code>pip</code>:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> pip install pylint</span></code></pre>
</div>
<div id="running-pylint-on-a-sample-program" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="running-pylint-on-a-sample-program" class="callout-inner">
<h3 class="callout-title">Running Pylint on a sample program</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># bad_pylint.py</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="im">import</span> math  <span class="co"># Unused import</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="kw">def</span> addNumbers(a, b): <span class="cf">return</span> a <span class="op">+</span> b  <span class="co"># Missing function docstring, bad naming style, bad formatting</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="kw">def</span> divide_numbers(a, b):</span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Cannot divide by zero"</span>)</span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="cb28-13"><a href="#cb28-13" tabindex="-1"></a></span>
<span id="cb28-14"><a href="#cb28-14" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" tabindex="-1"></a><span class="kw">def</span> compute_area(radius):</span>
<span id="cb28-16"><a href="#cb28-16" tabindex="-1"></a>    Pi <span class="op">=</span> <span class="fl">3.14</span>  <span class="co"># Constant should be uppercase (naming convention)</span></span>
<span id="cb28-17"><a href="#cb28-17" tabindex="-1"></a>    area <span class="op">=</span> Pi <span class="op">*</span> radius <span class="op">*</span> radius</span>
<span id="cb28-18"><a href="#cb28-18" tabindex="-1"></a>    <span class="cf">return</span> area</span>
<span id="cb28-19"><a href="#cb28-19" tabindex="-1"></a></span>
<span id="cb28-20"><a href="#cb28-20" tabindex="-1"></a></span>
<span id="cb28-21"><a href="#cb28-21" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb28-22"><a href="#cb28-22" tabindex="-1"></a>    result <span class="op">=</span> addNumbers(<span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb28-23"><a href="#cb28-23" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Sum is:"</span>, result)</span>
<span id="cb28-24"><a href="#cb28-24" tabindex="-1"></a></span>
<span id="cb28-25"><a href="#cb28-25" tabindex="-1"></a>    divide_result <span class="op">=</span> divide_numbers(<span class="dv">10</span>, <span class="dv">0</span>)</span>
<span id="cb28-26"><a href="#cb28-26" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Division result:"</span>, divide_result)</span>
<span id="cb28-27"><a href="#cb28-27" tabindex="-1"></a></span>
<span id="cb28-28"><a href="#cb28-28" tabindex="-1"></a>    radius <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb28-29"><a href="#cb28-29" tabindex="-1"></a>    area <span class="op">=</span> compute_area(radius)</span>
<span id="cb28-30"><a href="#cb28-30" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"The area of a circle with radius </span><span class="sc">{</span>radius<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>area<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb28-31"><a href="#cb28-31" tabindex="-1"></a></span>
<span id="cb28-32"><a href="#cb28-32" tabindex="-1"></a></span>
<span id="cb28-33"><a href="#cb28-33" tabindex="-1"></a>main()</span></code></pre>
</div>
<pre class="text"><code>$ pylint bad_pylint.py
************* Module bad_example
bad_example.py:34:0: C0304: Final newline missing (missing-final-newline)
bad_example.py:1:0: C0114: Missing module docstring (missing-module-docstring)
bad_example.py:4:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:4:0: C0103: Function name "addNumbers" doesn't conform to snake_case naming style (invalid-name)
bad_example.py:4:22: C0321: More than one statement on a single line (multiple-statements)
bad_example.py:7:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:14:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:20:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:1:0: W0611: Unused import math (unused-import)

-----------------------------------
Your code has been rated at 5.91/10</code></pre>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Fix the above warnings to bring the score to a perfect 10!</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="co">"""This module provides basic mathematical operations and area computation."""</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="kw">def</span> add_numbers(a, b):</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>    <span class="co">"""Adds two numbers and returns the result."""</span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a><span class="kw">def</span> divide_numbers(a, b):</span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a>    <span class="co">"""Divides two numbers and returns the result.</span></span>
<span id="cb30-11"><a href="#cb30-11" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" tabindex="-1"></a><span class="co">    Prints an error message if division by zero is attempted.</span></span>
<span id="cb30-13"><a href="#cb30-13" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb30-14"><a href="#cb30-14" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb30-15"><a href="#cb30-15" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Cannot divide by zero"</span>)  <span class="co"># pylint MAY suggest logging here</span></span>
<span id="cb30-16"><a href="#cb30-16" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb30-17"><a href="#cb30-17" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="cb30-18"><a href="#cb30-18" tabindex="-1"></a></span>
<span id="cb30-19"><a href="#cb30-19" tabindex="-1"></a></span>
<span id="cb30-20"><a href="#cb30-20" tabindex="-1"></a><span class="kw">def</span> compute_area(radius):</span>
<span id="cb30-21"><a href="#cb30-21" tabindex="-1"></a>    <span class="co">"""Computes the area of a circle given its radius."""</span></span>
<span id="cb30-22"><a href="#cb30-22" tabindex="-1"></a>    pi <span class="op">=</span> <span class="fl">3.14</span>  <span class="co"># Use lowercase for variables</span></span>
<span id="cb30-23"><a href="#cb30-23" tabindex="-1"></a>    <span class="cf">return</span> pi <span class="op">*</span> radius <span class="op">*</span> radius</span>
<span id="cb30-24"><a href="#cb30-24" tabindex="-1"></a></span>
<span id="cb30-25"><a href="#cb30-25" tabindex="-1"></a></span>
<span id="cb30-26"><a href="#cb30-26" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb30-27"><a href="#cb30-27" tabindex="-1"></a>    <span class="co">"""Main function to demonstrate the usage of mathematical operations."""</span></span>
<span id="cb30-28"><a href="#cb30-28" tabindex="-1"></a>    result <span class="op">=</span> add_numbers(<span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb30-29"><a href="#cb30-29" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Sum is:"</span>, result)</span>
<span id="cb30-30"><a href="#cb30-30" tabindex="-1"></a></span>
<span id="cb30-31"><a href="#cb30-31" tabindex="-1"></a>    divide_result <span class="op">=</span> divide_numbers(<span class="dv">10</span>, <span class="dv">0</span>)</span>
<span id="cb30-32"><a href="#cb30-32" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Division result:"</span>, divide_result)</span>
<span id="cb30-33"><a href="#cb30-33" tabindex="-1"></a></span>
<span id="cb30-34"><a href="#cb30-34" tabindex="-1"></a>    radius <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb30-35"><a href="#cb30-35" tabindex="-1"></a>    area <span class="op">=</span> compute_area(radius)</span>
<span id="cb30-36"><a href="#cb30-36" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"The area of a circle with radius </span><span class="sc">{</span>radius<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>area<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb30-37"><a href="#cb30-37" tabindex="-1"></a></span>
<span id="cb30-38"><a href="#cb30-38" tabindex="-1"></a></span>
<span id="cb30-39"><a href="#cb30-39" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb30-40"><a href="#cb30-40" tabindex="-1"></a>    main()</span></code></pre>
</div>
<pre class="text"><code>(test11) bcpopescu@TUD264038:~/projects/examples$ pylint good_pylint.py

-------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 5.91/10, +4.09)</code></pre>
</div>
</div>
</div>
</div>
<!--
### Python Coding Conventions

- Introduce https://peps.python.org/pep-0008/
- Advice: select a few rules, and start applying them consistently to your code:
    - Indentation
    - Maximum line length
    - Whitespaces in Expressions and statements
    - Naming conventions
- Expand your rule selection
-->
</div>
<div class="section level3">
<h3 id="unit-tests">Unit Tests<a class="anchor" aria-label="anchor" href="#unit-tests"></a></h3>
<p><code>Pytest</code> is a simple yet powerful tool for testing Python
code. You can write tests as regular functions and run them easily. As
an example consider this simple function:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># in simple_function.py</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="kw">def</span> simple_function(a, b):</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span></code></pre>
</div>
<p>With <code>Pytest</code>, you can test it by creating anew file
<code>test_simple_function.py</code>:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># in test_simple_function.py</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="im">from</span> simple_function <span class="im">import</span> simple_function</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="kw">def</span> test_simple_function():</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>    <span class="cf">assert</span> simple_function(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span></code></pre>
</div>
<p>and then running <code>pytest</code> from the command line:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> pytest</span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="ex">=============================</span> test session starts =============================</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="ex">platform</span> win32 <span class="at">--</span> Python 3.11.8, pytest-8.0.2, pluggy-1.4.0</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="ex">rootdir:</span> C:<span class="dt">\p</span>rojects<span class="dt">\e</span>xamples</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="ex">plugins:</span> anyio-4.3.0, flaky-3.7.0, cov-4.1.0, mock-3.12.0</span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="ex">collected</span> 1 item</span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a><span class="ex">test_simple_function.py</span> .                                                <span class="pp">[</span><span class="ss">100%</span><span class="pp">]</span></span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a><span class="ex">==============================</span> 1 passed in 0.02s ==============================</span></code></pre>
</div>
<p><code>Pytest</code> is a built-in python package, so no installation
is needed. By default, when running <code>pytest</code> from the command
line, this package will look for any files named <code>test_*.py</code>
or <code>*_test.py</code> in the working directory, and from these files
run any functions names <code>test_*</code>. Inside these functions, you
can test functionality using the <code>assert</code> keyword. A test
function is assumed to fail if any <code>assert</code> fails, or if the
the test function throws an exception. Alternatively, the test function
succeeds if it completes without any failed asserts or exceptions. After
running all tests, <code>Pytest</code> will display the number of tests
that have succeeded and failed.</p>
<p>Alternatively, <code>Pytest</code> can be invoked directly from the
PyCharm environment as shown below:</p>
<figure><img src="fig/pytest_pycharm.jpg" alt="Running Pytest from PyCharm" class="figure mx-auto d-block"></figure></div>
<div class="section level3">
<h3 id="test-coverage">Test Coverage<a class="anchor" aria-label="anchor" href="#test-coverage"></a></h3>
<p><strong>Test coverage</strong> is a way to measure how much of your
code is tested by your test cases. It helps you understand how well your
tests are checking the functionality of your program and ensures that
your code behaves as expected.</p>
<p>Think of your code as a map, and your tests as explorers. Test
coverage tells you how much of the map has been explored. If there are
unexplored areas (untested code), they might hide bugs or unexpected
behaviors.</p>
<div id="why-test-coverage-is-important" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-test-coverage-is-important" class="callout-inner">
<h3 class="callout-title">Why Test Coverage is Important</h3>
<div class="callout-content">
<ul><li>
<strong>Finding Bugs Early:</strong> By ensuring most of your code
is tested, you can catch issues early in development.</li>
<li>
<strong>Improved Confidence:</strong> High test coverage makes you
more confident that changes to the code won’t break existing
functionality.</li>
<li>
<strong>Code Quality:</strong> Writing tests often leads to better
structured and easier-to-maintain code.</li>
</ul></div>
</div>
</div>
<div id="coverage-is-a-guide-not-a-goal" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="coverage-is-a-guide-not-a-goal" class="callout-inner">
<h3 class="callout-title">Coverage is a Guide, Not a Goal</h3>
<div class="callout-content">
<p>While high test coverage is beneficial, <strong>it is not a guarantee
that your code is bug-free</strong>. It is possible to have 100%
coverage and still miss edge cases or logical errors. Focus on writing
meaningful tests that cover real-world scenarios.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="the-coverage-py-tool">The <strong>coverage.py</strong> Tool<a class="anchor" aria-label="anchor" href="#the-coverage-py-tool"></a></h3>
<p><strong>coverage.py</strong> is a commonly-used Python tool for
measuring test coverage. It helps you understand how much of your code
is executed during tests and identifies untested parts. It is
lightweight, easy to use, and integrates well with various testing
frameworks like pytest.</p>
<div class="section level5">
<h5 id="installing-coverage-py">Installing coverage.py<a class="anchor" aria-label="anchor" href="#installing-coverage-py"></a></h5>
<p>To use <em>coverage.py</em> you will need to install it first. This
can be easily done using <em>pip</em>:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> pip install coverage</span></code></pre>
</div>
<p>You can then verify the installation:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">coverage</span> <span class="at">--version</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Coverage.py, version 7.4.3 with C extension
Full documentation is at https://coverage.readthedocs.io/en/7.4.3</code></pre>
</div>
</div>
<div class="section level5">
<h5 id="running-coverage-py">Running coverage.py<a class="anchor" aria-label="anchor" href="#running-coverage-py"></a></h5>
<p>For this section, we will use a simple example, where we are
developing a <em>math_utils.py</em> library:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="co"># math_utils.py</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a><span class="kw">def</span> subtract(a, b):</span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">-</span> b</span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" tabindex="-1"></a><span class="kw">def</span> multiply(a, b):</span>
<span id="cb38-10"><a href="#cb38-10" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span>
<span id="cb38-11"><a href="#cb38-11" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" tabindex="-1"></a><span class="kw">def</span> divide(a, b):</span>
<span id="cb38-13"><a href="#cb38-13" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb38-14"><a href="#cb38-14" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Cannot divide by zero"</span>)</span>
<span id="cb38-15"><a href="#cb38-15" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span></code></pre>
</div>
<p>which we then test using unit tests in a <em>test_math_utils.py</em>
file:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="co"># test_math_utils.py</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a><span class="im">from</span> math_utils <span class="im">import</span> add, subtract, multiply, divide</span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a><span class="kw">def</span> test_add():</span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" tabindex="-1"></a><span class="kw">def</span> test_subtract():</span>
<span id="cb39-10"><a href="#cb39-10" tabindex="-1"></a>    <span class="cf">assert</span> subtract(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">==</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb39-11"><a href="#cb39-11" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" tabindex="-1"></a><span class="kw">def</span> test_multiply():</span>
<span id="cb39-13"><a href="#cb39-13" tabindex="-1"></a>    <span class="cf">assert</span> multiply(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">6</span></span>
<span id="cb39-14"><a href="#cb39-14" tabindex="-1"></a></span>
<span id="cb39-15"><a href="#cb39-15" tabindex="-1"></a><span class="kw">def</span> test_divide():</span>
<span id="cb39-16"><a href="#cb39-16" tabindex="-1"></a>    <span class="cf">assert</span> divide(<span class="op">-</span><span class="dv">6</span>, <span class="dv">2</span>) <span class="op">==</span> <span class="op">-</span><span class="dv">3</span></span></code></pre>
</div>
<p>The <em>coverage.py</em> tool is typically used in conjunction with a
testing framework, such as <em>pytest</em>; to use the tool, instead of
running your tests directly (e.g. with <code>pytest</code>), use
<code>coverage run</code> instead:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">coverage</span> run <span class="at">-m</span> pytest</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$ coverage run -m pytest
============================= test session starts =============================
platform win32 -- Python 3.8.8, pytest-8.1.1, pluggy-1.4.0
rootdir: C:\projects\programming_course\prosoftdev-research\coverage
plugins: anyio-4.3.0, flaky-3.8.0, cov-4.1.0, mock-3.12.0
collected 4 items

test_math_utils.py ....                                                  [100%]
</code></pre>
</div>
<p>Once you have run the <em>coverage.py</em> tool, it is possible to
generate a coverage report:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">coverage</span> report</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$ coverage report
Name                 Stmts   Miss  Cover
----------------------------------------
math_utils.py           10      1    90%
test_math_utils.py      10      0   100%
----------------------------------------
TOTAL                   20      1    95%
</code></pre>
</div>
<p>As you can see, in this (simple) case we have achieved a very high
coverage ratio with relative ease.</p>
</div>
<div class="section level5">
<h5 id="visualizing-test-coverage">Visualizing test coverage<a class="anchor" aria-label="anchor" href="#visualizing-test-coverage"></a></h5>
<p>To make the results more user-friendly, <em>coverage.py</em> can
generate an HTML report.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">coverage</span> html</span></code></pre>
</div>
<p>This creates a directory named <em>htmlcov</em> containing detailed
coverage reports. To visualize the report, you need to open the
<em>index.html</em> file in the <em>htmlcov</em> directory:</p>
<figure><img src="fig/coverage_overview.jpg" alt="HTML coverage overview" class="figure mx-auto d-block"></figure><p>Even more useful, you can drill down to the test coverage of
individual files, by clicking on the file name in the overview. This
shows the test coverage at the level of lines of code:</p>
<figure><img src="fig/coverage_per_file.jpg" alt="HTML coverage per file" class="figure mx-auto d-block"></figure><p>By using such visual tools you can quickly zoom on untested parts of
your codebase, so that you can add additional tests for covering
them.</p>
</div>
</div>
</section><section><h2 class="section-heading" id="final-project">Final Project<a class="anchor" aria-label="anchor" href="#final-project"></a></h2>
<hr class="half-width"><p>In this last hour of the last workshop of this course, you will get
the chance to apply most of the material covered in this course in a
final project. For this final project we will be using this Python
program, which is an expanded version of a challenge you have already
seen earlier in this course:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="co"># Dummy calibration function - operations shown here have no "real life" meaning</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(fridge_data, include_safety_checks):</span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>    fridge_id <span class="op">=</span> fridge_data.get(<span class="st">"id"</span>)</span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>    current_temp <span class="op">=</span> fridge_data.get(<span class="st">"current_temperature"</span>)</span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a>    target_temp <span class="op">=</span> fridge_data.get(<span class="st">"target_temperature"</span>)</span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a>    calibration_params <span class="op">=</span> fridge_data.get(<span class="st">"calibration_params"</span>)</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a>    experiment_params <span class="op">=</span> fridge_data.get(<span class="st">"experiment_params"</span>)</span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a>    <span class="cf">if</span> include_safety_checks:</span>
<span id="cb45-10"><a href="#cb45-10" tabindex="-1"></a>        <span class="cf">if</span> current_temp <span class="op">&gt;</span> calibration_params.get(<span class="st">"max_safe_temperature"</span>):</span>
<span id="cb45-11"><a href="#cb45-11" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe temperature detected during calibration."</span>)</span>
<span id="cb45-12"><a href="#cb45-12" tabindex="-1"></a>        <span class="cf">if</span> target_temp <span class="op">&lt;</span> calibration_params.get(<span class="st">"min_safe_temperature"</span>):</span>
<span id="cb45-13"><a href="#cb45-13" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe target temperature detected during calibration."</span>)</span>
<span id="cb45-14"><a href="#cb45-14" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" tabindex="-1"></a>    adjustment_factor <span class="op">=</span> calibration_params.get(<span class="st">"adjustment_factor"</span>, <span class="fl">1.0</span>)</span>
<span id="cb45-16"><a href="#cb45-16" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> current_temp <span class="op">+</span> (target_temp <span class="op">-</span> current_temp) <span class="op">*</span> adjustment_factor</span>
<span id="cb45-17"><a href="#cb45-17" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb45-18"><a href="#cb45-18" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"max_safe_temperature"</span>]</span>
<span id="cb45-19"><a href="#cb45-19" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb45-20"><a href="#cb45-20" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"min_safe_temperature"</span>]</span>
<span id="cb45-21"><a href="#cb45-21" tabindex="-1"></a></span>
<span id="cb45-22"><a href="#cb45-22" tabindex="-1"></a>    stabilization_steps <span class="op">=</span> calibration_params.get(<span class="st">"stabilization_steps"</span>, <span class="dv">10</span>)</span>
<span id="cb45-23"><a href="#cb45-23" tabindex="-1"></a>    operating_temperature <span class="op">=</span> adjusted_temp</span>
<span id="cb45-24"><a href="#cb45-24" tabindex="-1"></a>    <span class="cf">for</span> step <span class="kw">in</span> <span class="bu">range</span>(stabilization_steps):</span>
<span id="cb45-25"><a href="#cb45-25" tabindex="-1"></a>        correction_factor <span class="op">=</span> <span class="fl">0.1</span> <span class="op">*</span> (operating_temperature <span class="op">-</span> target_temp)</span>
<span id="cb45-26"><a href="#cb45-26" tabindex="-1"></a>        operating_temperature <span class="op">-=</span> correction_factor</span>
<span id="cb45-27"><a href="#cb45-27" tabindex="-1"></a></span>
<span id="cb45-28"><a href="#cb45-28" tabindex="-1"></a>        <span class="cf">if</span> operating_temperature <span class="op">&lt;</span> target_temp:</span>
<span id="cb45-29"><a href="#cb45-29" tabindex="-1"></a>            operating_temperature <span class="op">+=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if under target</span></span>
<span id="cb45-30"><a href="#cb45-30" tabindex="-1"></a>        <span class="cf">elif</span> operating_temperature <span class="op">&gt;</span> target_temp:</span>
<span id="cb45-31"><a href="#cb45-31" tabindex="-1"></a>            operating_temperature <span class="op">-=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if above target</span></span>
<span id="cb45-32"><a href="#cb45-32" tabindex="-1"></a></span>
<span id="cb45-33"><a href="#cb45-33" tabindex="-1"></a>        temperature_variance <span class="op">=</span> <span class="bu">abs</span>(operating_temperature <span class="op">-</span> target_temp)</span>
<span id="cb45-34"><a href="#cb45-34" tabindex="-1"></a>        <span class="cf">if</span> temperature_variance <span class="op">&lt;</span> <span class="fl">0.01</span>:</span>
<span id="cb45-35"><a href="#cb45-35" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># Break early if within small tolerance</span></span>
<span id="cb45-36"><a href="#cb45-36" tabindex="-1"></a>        operating_temperature <span class="op">-=</span> <span class="fl">0.01</span> <span class="op">*</span> temperature_variance</span>
<span id="cb45-37"><a href="#cb45-37" tabindex="-1"></a></span>
<span id="cb45-38"><a href="#cb45-38" tabindex="-1"></a>    telemetry_data <span class="op">=</span> {</span>
<span id="cb45-39"><a href="#cb45-39" tabindex="-1"></a>        <span class="st">"fridge_id"</span>: fridge_id,</span>
<span id="cb45-40"><a href="#cb45-40" tabindex="-1"></a>        <span class="st">"adjusted_temp"</span>: adjusted_temp,</span>
<span id="cb45-41"><a href="#cb45-41" tabindex="-1"></a>        <span class="st">"safety_checks"</span>: include_safety_checks,</span>
<span id="cb45-42"><a href="#cb45-42" tabindex="-1"></a>        <span class="st">"operating_temperature"</span>: operating_temperature</span>
<span id="cb45-43"><a href="#cb45-43" tabindex="-1"></a>    }</span>
<span id="cb45-44"><a href="#cb45-44" tabindex="-1"></a></span>
<span id="cb45-45"><a href="#cb45-45" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Telemetry data: </span><span class="sc">{</span>telemetry_data<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb45-46"><a href="#cb45-46" tabindex="-1"></a></span>
<span id="cb45-47"><a href="#cb45-47" tabindex="-1"></a>    <span class="co"># Experiment calibration logic</span></span>
<span id="cb45-48"><a href="#cb45-48" tabindex="-1"></a>    scaling_factor <span class="op">=</span> experiment_params.get(<span class="st">"scaling_factor"</span>, <span class="fl">1.2</span>)</span>
<span id="cb45-49"><a href="#cb45-49" tabindex="-1"></a>    offset_value <span class="op">=</span> experiment_params.get(<span class="st">"offset_value"</span>, <span class="dv">3</span>)</span>
<span id="cb45-50"><a href="#cb45-50" tabindex="-1"></a>    smoothing_coefficient <span class="op">=</span> experiment_params.get(<span class="st">"smoothing_coefficient"</span>, <span class="fl">0.8</span>)</span>
<span id="cb45-51"><a href="#cb45-51" tabindex="-1"></a>    window_size <span class="op">=</span> experiment_params.get(<span class="st">"window_size"</span>, <span class="dv">5</span>)</span>
<span id="cb45-52"><a href="#cb45-52" tabindex="-1"></a>    modulation_factor <span class="op">=</span> experiment_params.get(<span class="st">"modulation_factor"</span>, <span class="fl">0.05</span>)</span>
<span id="cb45-53"><a href="#cb45-53" tabindex="-1"></a>    experiment_data <span class="op">=</span> fridge_data.get(<span class="st">"experiment_data"</span>, [])</span>
<span id="cb45-54"><a href="#cb45-54" tabindex="-1"></a></span>
<span id="cb45-55"><a href="#cb45-55" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(experiment_data) <span class="op">!=</span> <span class="dv">20</span>:</span>
<span id="cb45-56"><a href="#cb45-56" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Calibration data must have exactly 20 readings"</span>)</span>
<span id="cb45-57"><a href="#cb45-57" tabindex="-1"></a></span>
<span id="cb45-58"><a href="#cb45-58" tabindex="-1"></a>    experiment_data <span class="op">=</span> np.array(experiment_data)</span>
<span id="cb45-59"><a href="#cb45-59" tabindex="-1"></a>    scaled_data <span class="op">=</span> experiment_data <span class="op">*</span> scaling_factor <span class="op">-</span> offset_value</span>
<span id="cb45-60"><a href="#cb45-60" tabindex="-1"></a>    smoothed_data <span class="op">=</span> np.convolve(scaled_data, np.ones(window_size) <span class="op">/</span> window_size, mode<span class="op">=</span><span class="st">'valid'</span>)</span>
<span id="cb45-61"><a href="#cb45-61" tabindex="-1"></a>    adjusted_data <span class="op">=</span> smoothed_data <span class="op">*</span> (<span class="dv">1</span> <span class="op">+</span> modulation_factor <span class="op">*</span> np.sin(smoothed_data))</span>
<span id="cb45-62"><a href="#cb45-62" tabindex="-1"></a>    experiment_temperature_adjustment <span class="op">=</span> np.tanh(</span>
<span id="cb45-63"><a href="#cb45-63" tabindex="-1"></a>        np.average(adjusted_data, weights<span class="op">=</span>np.linspace(<span class="dv">1</span>, <span class="dv">2</span>, <span class="bu">len</span>(adjusted_data))) <span class="op">/</span> <span class="dv">10</span>)</span>
<span id="cb45-64"><a href="#cb45-64" tabindex="-1"></a></span>
<span id="cb45-65"><a href="#cb45-65" tabindex="-1"></a>    experiment_temperature <span class="op">=</span> operating_temperature <span class="op">+</span> experiment_temperature_adjustment</span>
<span id="cb45-66"><a href="#cb45-66" tabindex="-1"></a></span>
<span id="cb45-67"><a href="#cb45-67" tabindex="-1"></a>    experiment_outputs <span class="op">=</span> {</span>
<span id="cb45-68"><a href="#cb45-68" tabindex="-1"></a>        <span class="st">"mean_before_adjustment"</span>: np.mean(experiment_data),</span>
<span id="cb45-69"><a href="#cb45-69" tabindex="-1"></a>        <span class="st">"std_dev_before_adjustment"</span>: np.std(experiment_data),</span>
<span id="cb45-70"><a href="#cb45-70" tabindex="-1"></a>        <span class="st">"mean_after_adjustment"</span>: np.mean(adjusted_data),</span>
<span id="cb45-71"><a href="#cb45-71" tabindex="-1"></a>        <span class="st">"experiment_temperature_adjustment"</span>: experiment_temperature_adjustment,</span>
<span id="cb45-72"><a href="#cb45-72" tabindex="-1"></a>        <span class="st">"calibration_factor"</span>: scaling_factor <span class="op">*</span> smoothing_coefficient <span class="op">/</span> (<span class="dv">1</span> <span class="op">+</span> <span class="bu">abs</span>(modulation_factor)),</span>
<span id="cb45-73"><a href="#cb45-73" tabindex="-1"></a>        <span class="st">"experiment_temperature"</span>: experiment_temperature</span>
<span id="cb45-74"><a href="#cb45-74" tabindex="-1"></a>    }</span>
<span id="cb45-75"><a href="#cb45-75" tabindex="-1"></a></span>
<span id="cb45-76"><a href="#cb45-76" tabindex="-1"></a>    <span class="cf">return</span> telemetry_data, experiment_outputs</span>
<span id="cb45-77"><a href="#cb45-77" tabindex="-1"></a></span>
<span id="cb45-78"><a href="#cb45-78" tabindex="-1"></a></span>
<span id="cb45-79"><a href="#cb45-79" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb45-80"><a href="#cb45-80" tabindex="-1"></a>    fridge_data <span class="op">=</span> {</span>
<span id="cb45-81"><a href="#cb45-81" tabindex="-1"></a>        <span class="st">"id"</span>: <span class="st">"fridge123"</span>,</span>
<span id="cb45-82"><a href="#cb45-82" tabindex="-1"></a>        <span class="st">"current_temperature"</span>: <span class="fl">5.0</span>,</span>
<span id="cb45-83"><a href="#cb45-83" tabindex="-1"></a>        <span class="st">"target_temperature"</span>: <span class="fl">2.85</span>,</span>
<span id="cb45-84"><a href="#cb45-84" tabindex="-1"></a>        <span class="st">"calibration_params"</span>: {</span>
<span id="cb45-85"><a href="#cb45-85" tabindex="-1"></a>            <span class="st">"max_safe_temperature"</span>: <span class="fl">6.8</span>,</span>
<span id="cb45-86"><a href="#cb45-86" tabindex="-1"></a>            <span class="st">"min_safe_temperature"</span>: <span class="fl">2.1</span>,</span>
<span id="cb45-87"><a href="#cb45-87" tabindex="-1"></a>            <span class="st">"adjustment_factor"</span>: <span class="fl">1.05</span>,</span>
<span id="cb45-88"><a href="#cb45-88" tabindex="-1"></a>            <span class="st">"stabilization_steps"</span>: <span class="dv">10</span></span>
<span id="cb45-89"><a href="#cb45-89" tabindex="-1"></a>        },</span>
<span id="cb45-90"><a href="#cb45-90" tabindex="-1"></a>        <span class="st">"experiment_params"</span>: {</span>
<span id="cb45-91"><a href="#cb45-91" tabindex="-1"></a>            <span class="st">"scaling_factor"</span>: <span class="fl">1.1</span>,</span>
<span id="cb45-92"><a href="#cb45-92" tabindex="-1"></a>            <span class="st">"offset_value"</span>: <span class="dv">2</span>,</span>
<span id="cb45-93"><a href="#cb45-93" tabindex="-1"></a>            <span class="st">"smoothing_coefficient"</span>: <span class="fl">0.9</span>,</span>
<span id="cb45-94"><a href="#cb45-94" tabindex="-1"></a>            <span class="st">"window_size"</span>: <span class="dv">3</span>,</span>
<span id="cb45-95"><a href="#cb45-95" tabindex="-1"></a>            <span class="st">"modulation_factor"</span>: <span class="fl">0.03</span></span>
<span id="cb45-96"><a href="#cb45-96" tabindex="-1"></a>        },</span>
<span id="cb45-97"><a href="#cb45-97" tabindex="-1"></a>        <span class="st">"experiment_data"</span>: [<span class="fl">10.1</span>, <span class="op">-</span><span class="fl">6.8</span>, <span class="fl">9.8</span>, <span class="op">-</span><span class="fl">10.3</span>, <span class="op">-</span><span class="fl">9.9</span>, <span class="fl">12.0</span>, <span class="fl">10.1</span>, <span class="fl">10.2</span>, <span class="fl">10.1</span>, <span class="fl">9.7</span>, <span class="op">-</span><span class="fl">15.1</span>,</span>
<span id="cb45-98"><a href="#cb45-98" tabindex="-1"></a>                            <span class="fl">8.1</span>, <span class="dv">1</span><span class="op">-</span><span class="fl">1.2</span>, <span class="fl">10.3</span>, <span class="fl">10.0</span>, <span class="fl">10.1</span>, <span class="fl">7.2</span>, <span class="fl">9.8</span>, <span class="fl">9.9</span>, <span class="op">-</span><span class="fl">9.7</span>]</span>
<span id="cb45-99"><a href="#cb45-99" tabindex="-1"></a>    }</span>
<span id="cb45-100"><a href="#cb45-100" tabindex="-1"></a></span>
<span id="cb45-101"><a href="#cb45-101" tabindex="-1"></a>    include_safety_checks <span class="op">=</span> <span class="va">True</span></span>
<span id="cb45-102"><a href="#cb45-102" tabindex="-1"></a></span>
<span id="cb45-103"><a href="#cb45-103" tabindex="-1"></a>    <span class="co"># Run the function</span></span>
<span id="cb45-104"><a href="#cb45-104" tabindex="-1"></a>    telemetry_data, experiment_outputs <span class="op">=</span> calibrate_fridge(fridge_data, include_safety_checks)</span>
<span id="cb45-105"><a href="#cb45-105" tabindex="-1"></a></span>
<span id="cb45-106"><a href="#cb45-106" tabindex="-1"></a>    <span class="co"># Print results</span></span>
<span id="cb45-107"><a href="#cb45-107" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Telemetry Data:"</span>, telemetry_data)</span>
<span id="cb45-108"><a href="#cb45-108" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Experiment Outputs:"</span>, experiment_outputs)</span>
<span id="cb45-109"><a href="#cb45-109" tabindex="-1"></a></span>
<span id="cb45-110"><a href="#cb45-110" tabindex="-1"></a><span class="co"># Run main function</span></span>
<span id="cb45-111"><a href="#cb45-111" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb45-112"><a href="#cb45-112" tabindex="-1"></a>    main()</span>
<span id="cb45-113"><a href="#cb45-113" tabindex="-1"></a></span></code></pre>
</div>
<p>Given this code, the challenge/final project of this course is the
following:</p>
<div id="final-project-1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="final-project-1" class="callout-inner">
<h3 class="callout-title">Final Project</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>The code shown above is available <a href="https://gitlab.tudelft.nl/bcpopescu/imsep_final_project/" class="external-link">here</a>
<ul><li>clone this repo on your local machine</li>
<li>create a separate branch <code>final_project_&lt;username&gt;</code>
where you will do your work</li>
</ul></li>
<li>In your local working directory for this project, create a new
Python 3.12 virtual environment and activate it.</li>
<li>Install all necessary packages and run the calibration function</li>
<li>Start creating unit tests for the calibration function. Assume the
calibration function <em>as given</em> is correct.</li>
<li>Run the unit tests, and check the code coverage; keep adding unit
tests until you have a very high code coverage - you should aim for
100%!</li>
<li>Run your code through <code>pylint</code>. Note the issues
<code>pylint</code> identifies in your code, and its initial score.</li>
<li>Start refactoring the code - taking into account
<code>pylint's</code> findings, and applying all techniques you have
learned in this workshop.
<ul><li>Make a plan of what you want to refactor, and in which order.</li>
<li>Use the PyCharm refactoring tools to help you speed up this
process.</li>
<li>Work in small steps; after each refactoring step re-run the unit
tests and make sure they pass!</li>
<li>If tests start to fail - fix them; if you get stuck, use git to
restore your code to a version where the tests were passing, and
re-start from there.</li>
<li>After each successful refactoring step commit your changes to
git.</li>
<li>After each refactoring step, re-run <code>pylint</code> and notice
how your score is improving.</li>
</ul></li>
</ol></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="workshop3intro.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="credits.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="workshop3intro.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Intermezzo II
        </a>
        <a class="chapter-link float-end" href="credits.html" rel="next">
          Next: Credits...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/clean-code.Rmd" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/QuTech-Delft/prosoftdev-research/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/QuTech-Delft/prosoftdev-research/" class="external-link">Source</a></p>
				<p><a href="https://github.com/QuTech-Delft/prosoftdev-research/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:b.c.popescu@tudelft.nl">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://QuTech-Delft.github.io/prosoftdev-research/clean-code.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "professional, software development, lesson, research",
  "name": "Clean Code",
  "creativeWorkStatus": "active",
  "url": "https://QuTech-Delft.github.io/prosoftdev-research/clean-code.html",
  "identifier": "https://QuTech-Delft.github.io/prosoftdev-research/clean-code.html",
  "dateCreated": "2025-04-02",
  "dateModified": "2025-03-21",
  "datePublished": "2025-04-02"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

