<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to Modern Software Engineering Practices: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to Modern Software Engineering Practices
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to Modern Software Engineering Practices
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="reference.html">Git Cheatsheets for Quick Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to Modern Software Engineering Practices
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Introduction</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="qsmm.html">1. The QuTech Software Maturity Model (QSMM)</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="version_control.html">2. Version Control</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="basic-git-commands.html">3. Basic Git Commands</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="workshop2intro.html">4. Intermezzo</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="gitlab.html">5. GitLab</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="advanced-git-commands.html">6. Advanced Git Commands</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="python-virtual-environmants.html">7. Python Virtual Environments</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="clean-code.html">8. Clean Code</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="credits.html">9. Credits</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Git Cheatsheets for Quick Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-qsmm"><p>Content from <a href="qsmm.html">The QuTech Software Maturity Model (QSMM)</a></p>
<hr>
<p>Last updated on 2025-02-24 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/qsmm.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<section><h2 class="section-heading" id="qsmm">QSMM<a class="anchor" aria-label="anchor" href="#qsmm"></a>
</h2>
<hr class="half-width">
<p>We frame our effort in this course in the context of the QuTech
Software Maturity Model (QSMM). A software maturity model consists of
structured levels that describes how well the behaviors, practices and
processes of software development an organization can reliably and
sustainably produce required outcomes. QSMM is a software maturity model
specifically tailored for QuTech, based on TNO guidelines. QSMM consists
of two sub-models:</p>
<ul>
<li>the software product maturity model</li>
<li>the software development process maturity model</li>
</ul>
<p>The purpose of this episode is to explain how software developed by
researchers should fit into these models.</p>
</section><section><h2 class="section-heading" id="software-product-maturity">Software Product Maturity<a class="anchor" aria-label="anchor" href="#software-product-maturity"></a>
</h2>
<hr class="half-width">
<p>This consists of the following levels:</p>
<table class="table">
<colgroup>
<col width="12%">
<col width="14%">
<col width="22%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th align="left">Category</th>
<th align="left">Type</th>
<th align="left">Purpose</th>
<th align="left">Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Prototype</td>
<td align="left">Software developed for a specific analysis or to
implement a concept (to generate feedback).</td>
<td align="left">Small software product, a single (one-off) component
created by one developer also being the primary user. The software may
be reused by the developer but is not intended to be used by others and
is not managed/maintained for the long term.</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Proven</td>
<td align="left">Software for engineering feasibility demonstrations
(prove that a technology works) or developed as part of a research
project or output of a research project.</td>
<td align="left">Small software product consisting of 1 or few
components that are used by a limited number of internal users (e.g., a
project or research group). Long term maintenance is more important
because the software is distributed wider and has a lifespan longer than
the setting in which it was developed.</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Mature</td>
<td align="left">Strategic, business/research objectives driven systems
internally used over a longer period.</td>
<td align="left">Small projects delivering reliable software products
that are used by a group of users and is often mission critical. When
successful, the user base of an internal product may optionally be
extended to external users. The software may also be used in hackathons.
Long term maintenance is needed but organized within the
user-group.</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Commercial-like</td>
<td align="left">Products (operational environment, external
facing)</td>
<td align="left">Large projects with complex, public facing software
products developed within separate software development teams. Long term
software maintenance is done, often by different software engineers than
the original developers.</td>
</tr>
</tbody>
</table></section><section><h2 class="section-heading" id="software-development-process-maturity">Software Development Process Maturity<a class="anchor" aria-label="anchor" href="#software-development-process-maturity"></a>
</h2>
<hr class="half-width">
<p>This consists of the following levels:</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="16%">
<col width="74%">
</colgroup>
<thead><tr class="header">
<th align="left">Level</th>
<th align="left">Name</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Undefined</td>
<td align="left">Undefined level, no policies or procedures established
for the software process. Ad hoc unpredictable software development.
Poorly controlled and reactive. Success is effort of individuals (local
heroes).</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Repeatable</td>
<td align="left">Repeatable level, basic project management established
for software development (to track cost, functionality, and time).
Development process decisions made are often reactive and based on
intuition or experience instead of executing a predefined plan. The
process is at least documented sufficiently such that repeating the same
steps may be attempted.</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Mature</td>
<td align="left">Mature level. Software development process for
management and engineering is documented. At this level, the software
development process is defined clearly while at organizational level the
processes are not standardized.</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Defined</td>
<td align="left">Defined level. Software development process for
management and engineering are integrated in the organization. Projects
tailor their processes from organization’s standards. The processes are
qualitative measured and scored.</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">Managed</td>
<td align="left">Managed level. The quality of the software process is
quantitatively measured, so it can be evaluated and adjusted when
necessary.</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">Optimizing</td>
<td align="left">Optimizing level - continuous process improvement
(based on data collected as described in the managed level, as well as
investing in innovation).</td>
</tr>
</tbody>
</table></section><section><h2 class="section-heading" id="goals-for-research-developed-software">Goals for Research-Developed Software<a class="anchor" aria-label="anchor" href="#goals-for-research-developed-software"></a>
</h2>
<hr class="half-width">
<ul>
<li>Most software developed by researchers will fall in the Category 1
and 2 in the Software Product Maturity levels. Goal is to make it
possible to transition this to Category 3 and 4 if ever needed</li>
<li>With respect to process maturity:
<ul>
<li>Goal of this course is to make researches aware of development
process levels, and the way they should be used</li>
<li>Level 1 development should only apply to ad-hoc projects, typically
developed over at most few days.</li>
<li>For any other software development activities, researches should
strive for at least Level 2, ideally Level 3 practices.</li>
</ul>
</li>
</ul>
<div id="group-exercise" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="group-exercise" class="callout-inner">
<h3 class="callout-title">Group exercise</h3>
<div class="callout-content">
<ul>
<li>List all libraries, software products that are used within your
research group</li>
<li>Categorize the components into home made and commercial</li>
<li>Why do you pay for a certain commercial product?</li>
<li>What level are the homemade libraries in? what level should they be
in?</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-version_control"><p>Content from <a href="version_control.html">Version Control</a></p>
<hr>
<p>Last updated on 2025-02-25 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/version_control.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is version control and why should I use it?</li>
<li>How do I get set up to use Git?</li>
<li>Where does Git store information?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the benefits of an automated version control system.</li>
<li>Understand the basics of how automated version control systems
work.</li>
<li>Configure <code>git</code> the first time it is used on a
computer.</li>
<li>Understand the meaning of the <code>--global</code> configuration
flag.</li>
<li>Create a local Git repository.</li>
<li>Describe the purpose of the <code>.git</code> directory.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<hr class="half-width">
<p>Jimmy and Alfredo have been hired by Ratatouille restaurant (a
special restaurant from Euphoric State University) to investigate if it
is possible to make the best recipes archive ever. Before even starting,
they make a plan of how they want to accomplish this task, and come up
with the following requirements:</p>
<ul>
<li>The want to be able to work on recipes at the same time, with
minimal coordination, and make sure they do not overwrite each other’s
changes.</li>
<li>The want to be able to look back at the history of a recipe, and see
who has added what to that recipe.</li>
<li>They also would like to be able, at any time, to go back to an older
version of any recipe.</li>
</ul>
<p>A colleague suggests using <a href="reference.html#version-control">version control</a> to manage
their work. Alfredo and Luigi look at what version control systems are
available, and end up choosing <code>Git</code>, since it is widely used
- it is pretty much the de-facto standard in this area. Throughout this
course we will follow Luigi and Alfredo on their journey learning and
using Git.</p>
</section><section><h2 class="section-heading" id="automatic-version-control">Automatic Version Control<a class="anchor" aria-label="anchor" href="#automatic-version-control"></a>
</h2>
<hr class="half-width">
<div id="what-is-automatic-version-control" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="what-is-automatic-version-control" class="callout-inner">
<h3 class="callout-title">What Is Automatic Version Control?</h3>
<div class="callout-content">
<p>Automatic version control is a system that tracks changes to files
over time, allowing multiple people to collaborate, revert to previous
versions, and maintain a history of modifications. It is commonly used
in software development to manage source code, but it can also be used
for documents, configurations, and other digital assets.</p>
</div>
</div>
</div>
<p>Using version control has many benefits, the most important
being:</p>
<ul>
<li><p>Nothing that is committed to version control is ever lost, unless
you work really, really hard at losing it. Since all old versions of
files are saved, it’s always possible to go back in time to see exactly
who wrote what on a particular day, or what version of a program was
used to generate a particular set of results.</p></li>
<li><p>As we have this record of who made what changes when, we know who
to ask if we have questions later on, and, if needed, revert to a
previous version, much like the “undo” feature in an editor.</p></li>
<li><p>When several people collaborate in the same project, it’s
possible to accidentally overlook or overwrite someone’s changes. The
version control system automatically notifies users whenever there’s a
conflict between one person’s work and another’s.</p></li>
</ul>
<p>Teams are not the only ones to benefit from version control: lone
researchers can benefit immensely. Keeping a record of what was changed,
when, and why is extremely useful for all researchers if they ever need
to come back to the project later on (e.g., a year later, when memory
has faded).</p>
<p>Version control is the lab notebook of the digital world: it’s what
professionals use to keep track of what they’ve done and to collaborate
with other people. Every large software development project relies on
it, and most programmers use it for their small jobs as well. And it
isn’t just for software: books, papers, small data sets, and anything
that changes over time or needs to be shared can and should be stored in
a version control system.</p>
<p>We’ll start by exploring how version control can be used to keep
track of what one person did and when. Even if you aren’t collaborating
with other people, automated version control is much better than this
situation:</p>
<figure><img src="fig/phd101212s.png" alt='Comic: a PhD student sends "FINAL.doc" to their supervisor, but after several increasingly intense and frustrating rounds of comments and revisions they end up with a file named "FINAL_rev.22.comments49.corrections.10.#@$%WHYDIDCOMETOGRADSCHOOL????.doc"' class="figure mx-auto d-block"><div class="figcaption">“notFinal.doc” by Jorge Cham, <a href="https://www.phdcomics.com" class="external-link uri">https://www.phdcomics.com</a>
</div>
</figure><p>We’ve all been in this situation before: it seems unnecessary to have
multiple nearly-identical versions of the same document. Some word
processors let us deal with this a little better, such as Microsoft
Word’s <a href="https://support.office.com/en-us/article/Track-changes-in-Word-197ba630-0f5f-4a8e-9a77-3712475e806a" class="external-link">Track
Changes</a>, Google Docs’ <a href="https://support.google.com/docs/answer/190843?hl=en" class="external-link">version
history</a>, or LibreOffice’s <a href="https://help.libreoffice.org/Common/Recording_and_Displaying_Changes" class="external-link">Recording
and Displaying Changes</a>.</p>
<p>Version control systems start with a base version of the document and
then record changes you make each step of the way. You can think of it
as a recording of your progress: you can rewind to start at the base
document and play back each change you made, eventually arriving at your
more recent version.</p>
<figure><img src="fig/play-changes.svg" alt="A diagram demonstrating how a single document grows as the result of sequential changes" class="figure mx-auto d-block"></figure><p>Once you think of changes as separate from the document itself, you
can then think about “playing back” different sets of changes on the
base document, ultimately resulting in different versions of that
document. For example, two users can make independent sets of changes on
the same document.</p>
<figure><img src="fig/versions.svg" alt="A diagram with one source document that has been modified in two different ways to produce two different versions of the document" class="figure mx-auto d-block"></figure><p>Unless multiple users make changes to the same section of the
document - a <a href="reference.html#conflict">conflict</a> - you can
incorporate two sets of changes into the same base document.</p>
<figure><img src="fig/merge.svg" alt="A diagram that shows the merging of two different document versions into one document that contains all of the changes from both versions" class="figure mx-auto d-block"></figure><p>It is the version control system that keeps track of these changes
for us, by effectively creating different versions of our files. It
allows us to decide which changes will be made to the next version (each
record of these changes is called a <a href="reference.html#commit">commit</a>), and keeps useful metadata
about them. The complete history of commits for a particular project and
their metadata make up a <a href="reference.html#repository">repository</a>. Repositories can be
kept in sync across different computers, facilitating collaboration
among different people.</p>
<div id="the-long-history-of-version-control-systems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="the-long-history-of-version-control-systems" class="callout-inner">
<h3 class="callout-title">The Long History of Version Control Systems</h3>
<div class="callout-content">
<p>Automated version control systems are nothing new. Tools like <a href="https://en.wikipedia.org/wiki/Revision_Control_System" class="external-link">RCS</a>, <a href="https://en.wikipedia.org/wiki/Concurrent_Versions_System" class="external-link">CVS</a>,
or <a href="https://en.wikipedia.org/wiki/Apache_Subversion" class="external-link">Subversion</a>
have been around since the early 1980s and are used by many large
companies. However, many of these are now considered legacy systems
(i.e., outdated) due to various limitations in their capabilities. More
modern systems, such as Git and <a href="https://swcarpentry.github.io/hg-novice/" class="external-link">Mercurial</a>, are
<em>distributed</em>, meaning that they do not need a centralized server
to host the repository. These modern systems also include powerful
merging tools that make it possible for multiple authors to work on the
same files concurrently.</p>
</div>
</div>
</div>
<div id="paper-writing" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="paper-writing" class="callout-inner">
<h3 class="callout-title">Paper Writing</h3>
<div class="callout-content">
<ul>
<li><p>Imagine you drafted an excellent paragraph for a paper you are
writing, but later ruin it. How would you retrieve the
<em>excellent</em> version of your conclusion? Is it even
possible?</p></li>
<li><p>Imagine you have 5 co-authors. How would you manage the changes
and comments they make to your paper? If you use LibreOffice Writer or
Microsoft Word, what happens if you accept changes made using the
<code>Track Changes</code> option? Do you have a history of those
changes?</p></li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ul>
<li><p>Recovering the excellent version is only possible if you created
a copy of the old version of the paper. The danger of losing good
versions often leads to the problematic workflow illustrated in the PhD
Comics cartoon at the top of this page.</p></li>
<li><p>Collaborative writing with traditional word processors is
cumbersome. Either every collaborator has to work on a document
sequentially (slowing down the process of writing), or you have to send
out a version to all collaborators and manually merge their comments
into your document. The ‘track changes’ or ‘record changes’ option can
highlight changes for you and simplifies merging, but as soon as you
accept changes you will lose their history. You will then no longer know
who suggested that change, why it was suggested, or when it was merged
into the rest of the document. Even online word processors like Google
Docs or Microsoft Office Online do not fully resolve these
problems.</p></li>
</ul>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Version control is like an unlimited ‘undo’.</li>
<li>Version control also allows many people to work in parallel.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="introducing-git">Introducing Git<a class="anchor" aria-label="anchor" href="#introducing-git"></a>
</h2>
<hr class="half-width">
<p>In this section we will move away from the general discussion on
version control systems, and focus on one modern such system - namely
<em>Git</em> - which over the past ten years has emerged as the de-facto
standard in this area. One of the main goals of this course is to make
you very comfortable with using git, which we believe will greatly help
you towards the goal of making robust and reproducible research
software. If you want to know more about how <em>git</em> has emerged as
the dominant version control system, there are a few interesting
articles on its history <a href="https://www.geeksforgeeks.org/history-of-git/" class="external-link">here</a>, <a href="https://www.welcometothejungle.com/en/articles/btc-history-git" class="external-link">here</a>,
and <a href="https://en.wikipedia.org/wiki/Git" class="external-link">here</a></p>
<div class="section level3">
<h3 id="setting-up-git">Setting Up Git<a class="anchor" aria-label="anchor" href="#setting-up-git"></a>
</h3>
<div id="prerequisites" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="prerequisites" class="callout-inner">
<h3 class="callout-title">Prerequisites</h3>
<div class="callout-content">
<ul>
<li>In this episode we use Git from the Unix Shell. Some previous
experience with the shell is expected, <em>but isn’t
mandatory</em>.</li>
<li>It is also assumed that you have already installed <em>Git</em> on
your system. If this is not the case, please do this now, by following
the download/installation instructions <a href="https://git-scm.com/" class="external-link">here</a>
</li>
</ul>
</div>
</div>
</div>
<p>When we use Git on a new computer for the first time, we need to
configure a few things. Below are a few examples of configurations we
will set as we get started with Git:</p>
<ul>
<li>our name and email address,</li>
<li>what our preferred text editor is,</li>
<li>and that we want to use these settings globally (i.e. for every
project).</li>
</ul>
<p>On a command line, Git commands are written as
<code>git verb options</code>, where <code>verb</code> is what we
actually want to do and <code>options</code> is additional optional
information which may be needed for the <code>verb</code>. So here is
how Alfredo sets up <em>git</em> on his new laptop:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> user.name <span class="st">"Alfredo Linguini"</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> user.email <span class="st">"a.linguini@ratatouille.fr"</span></span></code></pre>
</div>
<p>Please use your own name and email address instead of Alfredo’s. This
user name and email will be associated with your subsequent Git
activity, which means that any changes pushed to Git platforms, such as
<a href="https://github.com/" class="external-link">GitHub</a>, <a href="https://bitbucket.org/" class="external-link">BitBucket</a>, <a href="https://gitlab.com/" class="external-link">GitLab</a> or any other Git host server after
this lesson will include this information.</p>
<p>For this lesson, we will be interacting with TU Delft <a href="https://gitlab.tudelft.nl/" class="external-link">GitLab instance</a> and so the email
address used should be your TUD email.</p>
<div id="line-endings" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="line-endings" class="callout-inner">
<h3 class="callout-title">Line Endings</h3>
<div class="callout-content">
<p>As with other keys, when you press <kbd>Enter</kbd> or <kbd>↵</kbd>
or on Macs, <kbd>Return</kbd> on your keyboard, your computer encodes
this input as a character. Different operating systems use different
character(s) to represent the end of a line. (You may also hear these
referred to as newlines or line breaks.) Because Git uses these
characters to compare files, it may cause unexpected issues when editing
a file on different machines. Though it is beyond the scope of this
lesson, you can read more about this issue <a href="https://www.git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#_core_autocrlf" class="external-link">in
the Pro Git book</a>.</p>
<p>You can change the way Git recognizes and encodes line endings using
the <code>core.autocrlf</code> command to <code>git config</code>. The
following settings are recommended:</p>
<p>On macOS and Linux:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> core.autocrlf input</span></code></pre>
</div>
<p>And on Windows:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> core.autocrlf true</span></code></pre>
</div>
</div>
</div>
</div>
<p>Alfredo also has to set his favorite text editor, following this
table:</p>
<table class="table">
<colgroup>
<col width="27%">
<col width="72%">
</colgroup>
<thead><tr class="header">
<th align="left">Editor</th>
<th align="left">Configuration command</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Atom</td>
<td align="left"><code>$ git config --global core.editor "atom --wait"</code></td>
</tr>
<tr class="even">
<td align="left">nano</td>
<td align="left"><code>$ git config --global core.editor "nano -w"</code></td>
</tr>
<tr class="odd">
<td align="left">BBEdit (Mac, with command line tools)</td>
<td align="left"><code>$ git config --global core.editor "bbedit -w"</code></td>
</tr>
<tr class="even">
<td align="left">Sublime Text (Mac)</td>
<td align="left"><code>$ git config --global core.editor "/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl -n -w"</code></td>
</tr>
<tr class="odd">
<td align="left">Sublime Text (Win, 32-bit install)</td>
<td align="left"><code>$ git config --global core.editor "'c:/program files (x86)/sublime text 3/sublime_text.exe' -w"</code></td>
</tr>
<tr class="even">
<td align="left">Sublime Text (Win, 64-bit install)</td>
<td align="left"><code>$ git config --global core.editor "'c:/program files/sublime text 3/sublime_text.exe' -w"</code></td>
</tr>
<tr class="odd">
<td align="left">Notepad (Win)</td>
<td align="left"><code>$ git config --global core.editor "c:/Windows/System32/notepad.exe"</code></td>
</tr>
<tr class="even">
<td align="left">Notepad++ (Win, 32-bit install)</td>
<td align="left"><code>$ git config --global core.editor "'c:/program files (x86)/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"</code></td>
</tr>
<tr class="odd">
<td align="left">Notepad++ (Win, 64-bit install)</td>
<td align="left"><code>$ git config --global core.editor "'c:/program files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"</code></td>
</tr>
<tr class="even">
<td align="left">Kate (Linux)</td>
<td align="left"><code>$ git config --global core.editor "kate"</code></td>
</tr>
<tr class="odd">
<td align="left">Gedit (Linux)</td>
<td align="left"><code>$ git config --global core.editor "gedit --wait --new-window"</code></td>
</tr>
<tr class="even">
<td align="left">Scratch (Linux)</td>
<td align="left"><code>$ git config --global core.editor "scratch-text-editor"</code></td>
</tr>
<tr class="odd">
<td align="left">Emacs</td>
<td align="left"><code>$ git config --global core.editor "emacs"</code></td>
</tr>
<tr class="even">
<td align="left">Vim</td>
<td align="left"><code>$ git config --global core.editor "vim"</code></td>
</tr>
<tr class="odd">
<td align="left">VS Code</td>
<td align="left"><code>$ git config --global core.editor "code --wait"</code></td>
</tr>
</tbody>
</table>
<p>It is possible to reconfigure the text editor for Git whenever you
want to change it. For now, let’s select <code>vim</code> as our editor,
unless you have a strong preference for something else.</p>
<div id="exiting-vim" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="exiting-vim" class="callout-inner">
<h3 class="callout-title">Exiting Vim</h3>
<div class="callout-content">
<p>Note that Vim is the default editor for many programs. If you haven’t
used Vim before and wish to exit a session without saving your changes,
press <kbd>Esc</kbd> then type <code>:q!</code> and press
<kbd>Enter</kbd> or <kbd>↵</kbd> or on Macs, <kbd>Return</kbd>. If you
want to save your changes and quit, press <kbd>Esc</kbd> then type
<code>:wq</code> and press <kbd>Enter</kbd> or <kbd>↵</kbd> or on Macs,
<kbd>Return</kbd>.</p>
</div>
</div>
</div>
<p>Git (2.28+) allows configuration of the name of the branch created
when you initialize any new repository. Alfredo decides to use that
feature to set it to <code>main</code> so it matches the cloud service
he will eventually use.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> init.defaultBranch main</span></code></pre>
</div>
<div id="default-git-branch-naming" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="default-git-branch-naming" class="callout-inner">
<h3 class="callout-title">Default Git branch naming</h3>
<div class="callout-content">
<p>Source file changes are associated with a “branch.” For new learners
in this lesson, it’s enough to know that branches exist, and this lesson
uses one branch. By default, Git will create a branch called
<code>master</code> when you create a new repository with
<code>git init</code> (as explained in the next section). This term
evokes the racist practice of human slavery and the <a href="https://github.com/github/renaming" class="external-link">software development
community</a> has moved to adopt more inclusive language.</p>
<p>In 2020, most Git code hosting services transitioned to using
<code>main</code> as the default branch. As an example, any new
repository that is opened in GitHub and GitLab default to
<code>main</code>. However, Git has not yet made the same change. As a
result, local repositories must be manually configured have the same
main branch name as most cloud services.</p>
<p>For versions of Git prior to 2.28, the change can be made on an
individual repository level. The command for this is in the next
episode. Note that if this value is unset in your local Git
configuration, the <code>init.defaultBranch</code> value defaults to
<code>master</code>.</p>
</div>
</div>
</div>
<p>The five commands we just ran above only need to be run once: the
flag <code>--global</code> tells Git to use the settings for every
project, in your user account, on this computer.</p>
<p>Let’s review those settings with the <code>list</code> command:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--list</span></span></code></pre>
</div>
<p>If necessary, you change your configuration using the same commands
to choose another editor or update your email address. This can be done
as many times as you want.</p>
<div id="proxy" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="proxy" class="callout-inner">
<h3 class="callout-title">Proxy</h3>
<div class="callout-content">
<p>In some networks you need to use a <a href="https://en.wikipedia.org/wiki/Proxy_server" class="external-link">proxy</a>. If this is
the case, you may also need to tell Git about the proxy:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> http.proxy proxy-url</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> https.proxy proxy-url</span></code></pre>
</div>
<p>To disable the proxy, use</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> <span class="at">--unset</span> http.proxy</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--global</span> <span class="at">--unset</span> https.proxy</span></code></pre>
</div>
</div>
</div>
</div>
<div id="git-help-and-manual" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="git-help-and-manual" class="callout-inner">
<h3 class="callout-title">Git Help and Manual</h3>
<div class="callout-content">
<p>Always remember that if you forget the subcommands or options of a
<code>git</code> command, you can access the relevant list of options
typing <code>git &lt;command&gt; -h</code> or access the corresponding
Git manual by typing <code>git &lt;command&gt; --help</code>, e.g.:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">-h</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">$</span> git config <span class="at">--help</span></span></code></pre>
</div>
<p>While viewing the manual, remember the <code>:</code> is a prompt
waiting for commands and you can press <kbd>Q</kbd> to exit the
manual.</p>
<p>More generally, you can get the list of available <code>git</code>
commands and further resources of the Git manual typing:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> git help</span></code></pre>
</div>
</div>
</div>
</div>
<div id="keypoints2" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use <code>git config</code> with the <code>--global</code> option to
configure a user name, email address, editor, and other preferences once
per machine.</li>
</ul>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="creating-a-git-repository">Creating a Git Repository<a class="anchor" aria-label="anchor" href="#creating-a-git-repository"></a>
</h2>
<hr class="half-width">
<p>Once Git is configured, we can start using it.</p>
<p>We will help Alfredo with his new project, create a repository with
all his recipes.</p>
<p>First, let’s create a new directory in the <code>Desktop</code>
folder for our work and then change the current working directory to the
newly created one:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">$</span> mkdir recipes</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="ex">$</span> cd recipes</span></code></pre>
</div>
<p>Then we tell Git to make <code>recipes</code> a <a href="reference.html#repository">repository</a> -- a place where Git can
store versions of our files:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> git init</span></code></pre>
</div>
<p>It is important to note that <code>git init</code> will create a
repository that can include subdirectories and their files—there is no
need to create separate repositories nested within the
<code>recipes</code> repository, whether subdirectories are present from
the beginning or added later. Also, note that the creation of the
<code>recipes</code> directory and its initialization as a repository
are completely separate processes.</p>
<p>It is also important to understand that the Git repositories that you
will create and use in this episode and the next one are all
<code>local</code> - meaning they only exists on your computer, and can
only be used by you. In the next workshop we will show you how to
transition from a local repository to an online one - which will enable
you to collaborate with multiple colleagues working on the same
project.</p>
<p>If we use <code>ls</code> to show the directory’s contents, it
appears that nothing has changed:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<p>But if we add the <code>-a</code> flag to show everything, we can see
that Git has created a hidden directory within <code>recipes</code>
called <code>.git</code>:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.	..	.git</code></pre>
</div>
<p>Git uses this special subdirectory to store all the information about
the project, including the tracked files and sub-directories located
within the project’s directory. If we ever delete the <code>.git</code>
subdirectory, we will lose the project’s version control history.</p>
<p>We can now start using one of the most important git commands, which
is particularly helpful to beginners. <code>git status</code> tells us
the status of our project, and better, a list of changes in the project
and options on what to do with those changes. We can use it as often as
we want, whenever we want to understand what is going on.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main

No commits yet

nothing to commit (create/copy files and use "git add" to track)</code></pre>
</div>
<p>If you are using a different version of <code>git</code>, the exact
wording of the output might be slightly different.</p>
<div id="places-to-create-git-repositories" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="places-to-create-git-repositories" class="callout-inner">
<h3 class="callout-title">Places to Create Git Repositories</h3>
<div class="callout-content">
<p>Along with tracking information about recipes (the project we have
already created), Alfredo would also like to track information about
desserts specifically. Alfredo creates a <code>desserts</code> project
inside his <code>recipes</code> project with the following sequence of
commands:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop    <span class="co"># return to Desktop directory</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="ex">$</span> cd recipes      <span class="co"># go into recipes directory, which is already a Git repository</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-a</span>           <span class="co"># ensure the .git subdirectory is still present in the recipes directory</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="ex">$</span> mkdir desserts <span class="co"># make a sub-directory recipes/desserts</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="ex">$</span> cd desserts    <span class="co"># go into desserts subdirectory</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="ex">$</span> git init        <span class="co"># make the desserts subdirectory a Git repository</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-a</span>           <span class="co"># ensure the .git subdirectory is present indicating we have created a new Git repository</span></span></code></pre>
</div>
<p>Is the <code>git init</code> command, run inside the
<code>desserts</code> subdirectory, required for tracking files stored
in the <code>desserts</code> subdirectory?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>No. Alfredo does not need to make the <code>desserts</code>
subdirectory a Git repository because the <code>recipes</code>
repository will track all files, sub-directories, and subdirectory files
under the <code>recipes</code> directory. Thus, in order to track all
information about desserts, Alfredo only needed to add the
<code>desserts</code> subdirectory to the <code>recipes</code>
directory.</p>
<p>Additionally, Git repositories can interfere with each other if they
are “nested”: the outer repository will try to version-control the inner
repository. Therefore, it’s best to create each new Git repository in a
separate directory. To be sure that there is no conflicting repository
in the directory, check the output of <code>git status</code>. If it
looks like the following, you are good to go to create a new repository
as shown above:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>fatal: Not a git repository (or any of the parent directories): .git</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="correcting-git-init-mistakes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="correcting-git-init-mistakes" class="callout-inner">
<h3 class="callout-title">Correcting <code>git init</code> Mistakes</h3>
<div class="callout-content">
<p>Jimmy explains to Alfredo how a nested repository is redundant and
may cause confusion down the road. Alfredo would like to go back to a
single git repository. How can Alfredo undo his last
<code>git init</code> in the <code>desserts</code> subdirectory?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Solution – USE WITH CAUTION! </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>Removing files from a Git repository needs to be done with caution.
But we have not learned yet how to tell Git to track a particular file;
we will learn this in the next episode. Files that are not tracked by
Git can easily be removed like any other “ordinary” files with</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> rm filename</span></code></pre>
</div>
<p>Similarly a directory can be removed using
<code>rm -r dirname</code>. If the files or folder being removed in this
fashion are tracked by Git, then their removal becomes another change
that we will need to track, as we will see in the next episode.</p>
</div>
<div class="section level3">
<h3 id="solution-2">Solution<a class="anchor" aria-label="anchor" href="#solution-2"></a>
</h3>
<p>Git keeps all of its files in the <code>.git</code> directory. To
recover from this little mistake, Alfredo can remove the
<code>.git</code> folder in the desserts subdirectory by running the
following command from inside the <code>recipes</code> directory:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-rf</span> desserts/.git</span></code></pre>
</div>
<p>But be careful! Running this command in the wrong directory will
remove the entire Git history of a project you might want to keep. In
general, deleting files and directories using <code>rm</code> from the
command line cannot be reversed. Therefore, always check your current
directory using the command <code>pwd</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints3" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<code>git init</code> initializes a repository.</li>
<li>Git stores all of its repository data in the <code>.git</code>
directory.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="command-line-or-graphical-tools">Command Line or Graphical Tools?<a class="anchor" aria-label="anchor" href="#command-line-or-graphical-tools"></a>
</h2>
<hr class="half-width">
<p>It is possible to use Git from either the command line
(e.g. <code>GitBash</code>) or through a variety of visual tools, such
as <strong><a href="https://www.sourcetreeapp.com/" class="external-link">Sourcetree</a></strong>,
<strong><a href="https://tortoisegit.org/" class="external-link">TortoiseGit</a></strong>,
<strong><a href="https://www.syntevo.com/smartgit/" class="external-link">SmartGit</a></strong>.
Furthermore, most modern integrated development environments such as
<strong><a href="https://www.jetbrains.com/pycharm/" class="external-link">PyCharm</a></strong> and
<strong><a href="https://code.visualstudio.com/" class="external-link">VSCode</a></strong>
provide integrated visual Git tools.</p>
<p>Knowing how to use Git from the command line has definite
benefits:</p>
<ul>
<li>Helps novice users become more comfortable with Git’s underlying
structure and commands</li>
<li>Gives more precise control at the low level (through command-line
options)</li>
<li>Equips users with the skills to troubleshoot and solve problems that
may not be easily addressed with a GUI</li>
<li>When searching for online resources on specific Git workflows, most
information is available as command line instructions; same applies for
help/instructions provided by AI Assistants such as ChatGPT, Gemini, or
Claude</li>
<li>GUI tools may change their menus/“look and feel” with new releases,
while Git commands/options are much more stable</li>
</ul>
<p>On the other hands, it is important to understand that visual Git
tools can greatly improve the overall developer experience as well as
increase productivity:</p>
<ul>
<li>Graphical Git tools offer an intuitive interface, making it easier
for beginners to grasp basic concepts like branching, or viewing the
repository’s history</li>
<li>Certain advanced Git workflows, such as merging and solving
conflicts become much more efficient and less error-prone when performed
in a visual environment.</li>
</ul>
<p>Given all these considerations, one of the goals of this course is to
make participants comfortable with using Git from the command line, in
order to provide them with a solid foundation upon which they can
further expand their Git knowledge. At the same time, we are encouraging
participants to explore Git visual tools. For the more advanced Git
workflows (e.g. reviewing changes, merging, conflict resolution) we also
explain how these workflows can be performed using the Git visual tools
provided by the PyCharm development environment.</p>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Using PyCharm, open the folder containing the Git repository you
created earlier in this episode. Locate the Git visual controls. Are
they intuitive? Do you already recognize any workflows you could perform
from Pycharm? We will cover some of these visual workflows in the
following episodes.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Accessing the Git visual tools in PyCharm is done by right-clicking
on a file/folder in the left navigation panel, then selecting
<code>Git</code> from the pop-up menu.</p>
<figure><img src="fig/pycharm_git_overview.jpg" alt="Accessing Git visual tools in PyCharm" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="keypoints4" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use git from the command line for maximum control over
workflows.</li>
<li>Using visual tools for some of the advanced Git workflows will
increase productivity and reduce errors.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-basic-git-commands"><p>Content from <a href="basic-git-commands.html">Basic Git Commands</a></p>
<hr>
<p>Last updated on 2025-02-24 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/basic-git-commands.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do I record changes in Git?</li>
<li>How do I record notes about what changes I made and why?</li>
<li>How can I identify old versions of files?</li>
<li>How do I review my changes?</li>
<li>How can I recover old versions of files?</li>
<li>How can I tell Git to ignore files I don’t want to track?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Go through the modify-add-commit cycle for one or more files.</li>
<li>Explain where information is stored at each stage of that
cycle.</li>
<li>Distinguish between descriptive and non-descriptive commit
messages.</li>
<li>Explain what the HEAD of a repository is and how to use it.</li>
<li>Compare various versions of tracked files.</li>
<li>Restore old versions of files.</li>
<li>Configure Git to ignore specific files.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="the-modify-add-commit-cycle">The Modify-Add-Commit Cycle<a class="anchor" aria-label="anchor" href="#the-modify-add-commit-cycle"></a>
</h2>
<hr class="half-width">
<p>In this episode we will continue working with the
<code>recipes</code> repository you have created in the previous
episode. First let’s make sure we’re still in the right directory. You
should be in the <code>recipes</code> directory.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd ~/Desktop/recipes</span></code></pre>
</div>
<p>Let’s create a file called <code>guacamole.md</code> that contains
the basic structure to have a recipe. We will use <code>nano</code> to
edit the file, but feel free to use another text editor if you prefer.
In particular, this does not have to be the <code>core.editor</code> you
set globally earlier. But remember, the steps to create create or edit a
new file will depend on the editor you choose (it might not be
nano).</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span></code></pre>
</div>
<p>Type the text below into the <code>guacamole.md</code> file:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="co"># Guacamole</span></span>
<span><span class="co">## Ingredients</span></span>
<span><span class="co">## Instructions</span></span></code></pre>
</div>
<p>Save the file and exit your editor. Next, let’s verify that the file
was properly created by running the list command (<code>ls</code>):</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">guacamole.md</span></span></code></pre>
</div>
<p><code>guacamole.md</code> contains three lines, which we can see by
running:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="co"># Guacamole</span></span>
<span><span class="co">## Ingredients</span></span>
<span><span class="co">## Instructions</span></span></code></pre>
</div>
<p>If we check the status of our project again, Git tells us that it’s
noticed the new file:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main

No commits yet

Untracked files:
   (use "git add &lt;file&gt;..." to include in what will be committed)

	guacamole.md

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
<p>The “untracked files” message means that there’s a file in the
directory that Git isn’t keeping track of. We can tell Git to track a
file using <code>git add</code>:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span></code></pre>
</div>
<p>and then check that the right thing happened:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main

No commits yet

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

	new file:   guacamole.md
</code></pre>
</div>
<p>Git now knows that it’s supposed to keep track of
<code>guacamole.md</code>, but it hasn’t recorded these changes as a
commit yet. To get it to do that, we need to run one more command:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Create a template for recipe"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main (root-commit) f22b25e] Create a template for recipe
 1 file changed, 1 insertion(+)
 create mode 100644 guacamole.md</code></pre>
</div>
<p>When we run <code>git commit</code>, Git takes everything we have
told it to save by using <code>git add</code> and stores a copy
permanently inside the special <code>.git</code> directory. This
permanent copy is called a <a href="reference.html#commit">commit</a>
(or <a href="reference.html#revision">revision</a>) and its short
identifier is <code>f22b25e</code>. Your commit may have another
identifier.</p>
<p>We use the <code>-m</code> flag (for “message”) to record a short,
descriptive, and specific comment that will help us remember later on
what we did and why. If we just run <code>git commit</code> without the
<code>-m</code> option, Git will launch <code>nano</code> (or whatever
other editor we configured as <code>core.editor</code>) so that we can
write a longer message.</p>
<p><a href="https://chris.beams.io/posts/git-commit/" class="external-link">Good commit
messages</a> start with a brief (&lt;50 characters) statement about the
changes made in the commit. Generally, the message should complete the
sentence “If applied, this commit will” <commit message here>. If you
want to go into more detail, add a blank line between the summary line
and your additional notes. Use this additional space to explain why you
made changes and/or what their impact will be.</commit></p>
<p>If we run <code>git status</code> now:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
<p>it tells us everything is up to date. If we want to know what we’ve
done recently, we can ask Git to show us the project’s history using
<code>git log</code>:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> git log</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit f22b25e3233b4645dabd0d81e651fe074bd8e73b
Author: Alfredo Linguini &lt;a.linguini@ratatouille.fr&gt;
Date:   Thu Aug 22 09:51:46 2023 -0400

    Create a template for recipe</code></pre>
</div>
<p><code>git log</code> lists all commits made to a repository in
reverse chronological order. The listing for each commit includes the
commit’s full identifier (which starts with the same characters as the
short identifier printed by the <code>git commit</code> command
earlier), the commit’s author, when it was created, and the log message
Git was given when the commit was created.</p>
<div id="where-are-my-changes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="where-are-my-changes" class="callout-inner">
<h3 class="callout-title">Where Are My Changes?</h3>
<div class="callout-content">
<p>If we run <code>ls</code> at this point, we will still see just one
file called <code>guacamole.md</code>. That’s because Git saves
information about files’ history in the special <code>.git</code>
directory mentioned earlier so that our filesystem doesn’t become
cluttered (and so that we can’t accidentally edit or delete an old
version).</p>
</div>
</div>
</div>
<div id="practice-using-graphical-git-tools" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-using-graphical-git-tools" class="callout-inner">
<h3 class="callout-title">Practice using graphical Git tools</h3>
<div class="callout-content">
<p>Using the graphical Git tools in PyCharm repeat the basic Git
commands explained so far:</p>
<ul>
<li>Add a new file to the “recipes” repo</li>
<li>Check which files are not yet committed</li>
<li>Commit the file</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<figure><img src="fig/pycharm_git_add.jpg" alt="Adding a file to a Git repo using PyCharm" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="modifying-tracked-files">Modifying tracked files<a class="anchor" aria-label="anchor" href="#modifying-tracked-files"></a>
</h3>
<p>Now suppose Alfredo adds more information to the file. (Again, we’ll
edit with <code>nano</code> and then <code>cat</code> the file to show
its contents; you may use a different editor, and don’t need to
<code>cat</code>.)</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lemon
* salt
## Instructions</code></pre>
</div>
<p>When we run <code>git status</code> now, it tells us that a file it
already knows about has been modified:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)

	modified:   guacamole.md

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
<p>The last line is the key phrase: “no changes added to commit”. We
have changed this file, but we haven’t told Git we will want to save
those changes (which we do with <code>git add</code>) nor have we saved
them (which we do with <code>git commit</code>). So let’s do that now.
It is good practice to always review our changes before saving them. We
do this using <code>git diff</code>. This shows us the differences
between the current state of the file and the most recently saved
version:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> git diff</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index df0654a..315bf3a 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -1,3 +1,6 @@
 # Guacamole
 ## Ingredients
+* avocado
+* lemon
+* salt
 ## Instructions</code></pre>
</div>
<p>The output is cryptic because it is actually a series of commands for
tools like editors and <code>patch</code> telling them how to
reconstruct one file given the other. If we break it down into
pieces:</p>
<ol style="list-style-type: decimal">
<li>The first line tells us that Git is producing output similar to the
Unix <code>diff</code> command comparing the old and new versions of the
file.</li>
<li>The second line tells exactly which versions of the file Git is
comparing; <code>df0654a</code> and <code>315bf3a</code> are unique
computer-generated labels for those versions.</li>
<li>The third and fourth lines once again show the name of the file
being changed.</li>
<li>The remaining lines are the most interesting, they show us the
actual differences and the lines on which they occur. In particular, the
<code>+</code> marker in the first column shows where we added a
line.</li>
</ol>
<p>After reviewing our change, it’s time to commit it:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add basic guacamole's ingredients"</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)

	modified:   guacamole.md

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
<p>Whoops: Git won’t commit because we didn’t use <code>git add</code>
first. Let’s fix that:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add basic guacamole's ingredients"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 34961b1] Add basic guacamole's ingredient
 1 file changed, 3 insertions(+)</code></pre>
</div>
<p>Git insists that we add files to the set we want to commit before
actually committing anything. This allows us to commit our changes in
stages and capture changes in logical portions rather than only large
batches. For example, suppose we’re adding a few citations to relevant
research to our thesis. We might want to commit those additions, and the
corresponding bibliography entries, but <em>not</em> commit some of our
work drafting the conclusion (which we haven’t finished yet).</p>
<p>To allow for this, Git has a special <em>staging area</em> where it
keeps track of things that have been added to the current <a href="reference.html#changeset">changeset</a> but not yet committed.</p>
<div id="staging-area" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="staging-area" class="callout-inner">
<h3 class="callout-title">Staging Area</h3>
<div class="callout-content">
<p>If you think of Git as taking snapshots of changes over the life of a
project, <code>git add</code> specifies <em>what</em> will go in a
snapshot (putting things in the staging area), and
<code>git commit</code> then <em>actually takes</em> the snapshot, and
makes a permanent record of it (as a commit). If you don’t have anything
staged when you type <code>git commit</code>, Git will prompt you to use
<code>git commit -a</code> or <code>git commit --all</code>, which is
kind of like gathering <em>everyone</em> to take a group photo! However,
it’s almost always better to explicitly add things to the staging area,
because you might commit changes you forgot you made. (Going back to the
group photo simile, you might get an extra with incomplete makeup
walking on the stage for the picture because you used <code>-a</code>!)
Try to stage things manually, or you might find yourself searching for
“git undo commit” more than you would like!</p>
</div>
</div>
</div>
<figure><img src="fig/git-staging-area.svg" alt='A diagram showing how "git add" registers changes in the staging area, while "git commit" moves changes from the staging area to the repository' class="figure mx-auto d-block"></figure><p>Let’s watch as our changes to a file move from our editor to the
staging area and into long-term storage. First, we’ll improve our recipe
by changing ‘lemon’ to ‘lime’:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> git diff</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index 315bf3a..b36abfd 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -1,6 +1,6 @@
 # Guacamole
 ## Ingredients
 * avocado
-* lemon
+* lime
 * salt
 ## Instructions</code></pre>
</div>
<p>So far, so good: we’ve replaced one line (shown with a <code>-</code>
in the first column) with a new line (shown with a <code>+</code> in the
first column). Now let’s put that change in the staging area and see
what <code>git diff</code> reports:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="ex">$</span> git diff</span></code></pre>
</div>
<p>There is no output: as far as Git can tell, there’s no difference
between what it’s been asked to save permanently and what’s currently in
the directory. However, if we do this:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> git diff <span class="at">--staged</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index 315bf3a..b36abfd 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -1,6 +1,6 @@
 # Guacamole
 ## Ingredients
 * avocado
-* lemon
+* lime
 * salt
 ## Instructions</code></pre>
</div>
<p>it shows us the difference between the last committed change and
what’s in the staging area. Let’s save our changes:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Modify guacamole to the traditional recipe"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 005937f] Modify guacamole to the traditional recipe
 1 file changed, 1 insertion(+)</code></pre>
</div>
<p>check our status:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
<p>and look at the history of what we’ve done so far:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> git log</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit 005937fbe2a98fb83f0ade869025dc2636b4dad5 (HEAD -&gt; main)
Author: Alfredo Linguini &lt;a.linguini@ratatouille.fr&gt;
Date:   Thu Aug 22 10:14:07 2023 -0400

    Modify guacamole to the traditional recipe

commit 34961b159c27df3b475cfe4415d94a6d1fcd064d
Author: Alfredo Linguini &lt;a.linguini@ratatouille.fr&gt;
Date:   Thu Aug 22 10:07:21 2023 -0400

    Add basic guacamole's ingredients

commit f22b25e3233b4645dabd0d81e651fe074bd8e73b
Author: Alfredo Linguini &lt;a.linguini@ratatouille.fr&gt;
Date:   Thu Aug 22 09:51:46 2023 -0400

    Create a template for recipe</code></pre>
</div>
<div id="word-based-diffing" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="word-based-diffing" class="callout-inner">
<h3 class="callout-title">Word-based diffing</h3>
<div class="callout-content">
<p>Sometimes, e.g. in the case of the text documents a line-wise diff is
too coarse. That is where the <code>--color-words</code> option of
<code>git diff</code> comes in very useful as it highlights the changed
words using colors.</p>
</div>
</div>
</div>
<div id="paging-the-log" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="paging-the-log" class="callout-inner">
<h3 class="callout-title">Paging the Log</h3>
<div class="callout-content">
<p>When the output of <code>git log</code> is too long to fit in your
screen, <code>git</code> uses a program to split it into pages of the
size of your screen. When this “pager” is called, you will notice that
the last line in your screen is a <code>:</code>, instead of your usual
prompt.</p>
<ul>
<li>To get out of the pager, press <kbd>Q</kbd>.</li>
<li>To move to the next page, press <kbd>Spacebar</kbd>.</li>
<li>To search for <code>some_word</code> in all pages, press
<kbd>/</kbd> and type <code>some_word</code>. Navigate through matches
pressing <kbd>N</kbd>.</li>
</ul>
</div>
</div>
</div>
<div id="limit-log-size" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="limit-log-size" class="callout-inner">
<h3 class="callout-title">Limit Log Size</h3>
<div class="callout-content">
<p>To avoid having <code>git log</code> cover your entire terminal
screen, you can limit the number of commits that Git lists by using
<code>-N</code>, where <code>N</code> is the number of commits that you
want to view. For example, if you only want information from the last
commit you can use:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> git log <span class="at">-1</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit 005937fbe2a98fb83f0ade869025dc2636b4dad5 (HEAD -&gt; main)
Author: Alfredo Linguini &lt;a.linguini@ratatouille.fr&gt;
Date:   Thu Aug 22 10:14:07 2023 -0400

   Modify guacamole to the traditional recipe</code></pre>
</div>
<p>You can also reduce the quantity of information using the
<code>--oneline</code> option:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> git log <span class="at">--oneline</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>005937f (HEAD -&gt; main) Modify guacamole to the traditional recipe
34961b1 Add basic guacamole's ingredients
f22b25e Create a template for recipe</code></pre>
</div>
<p>You can also combine the <code>--oneline</code> option with others.
One useful combination adds <code>--graph</code> to display the commit
history as a text-based graph and to indicate which commits are
associated with the current <code>HEAD</code>, the current branch
<code>main</code>, or <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References" class="external-link">other
Git references</a>:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> git log <span class="at">--oneline</span> <span class="at">--graph</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>* 005937f (HEAD -&gt; main) Modify guacamole to the traditional recipe
* 34961b1 Add basic guacamole's ingredients
* f22b25e Create a template for recipe</code></pre>
</div>
</div>
</div>
</div>
<div id="directories" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="directories" class="callout-inner">
<h3 class="callout-title">Directories</h3>
<div class="callout-content">
<p>Two important facts you should know about directories in Git.</p>
<ol style="list-style-type: decimal">
<li>Git does not track directories on their own, only files within them.
Try it for yourself:</li>
</ol>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> mkdir cakes</span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="ex">$</span> git status</span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a><span class="ex">$</span> git add cakes</span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<p>Note, our newly created empty directory <code>cakes</code> does not
appear in the list of untracked files even if we explicitly add it
(<em>via</em> <code>git add</code>) to our repository. This is the
reason why you will sometimes see <code>.gitkeep</code> files in
otherwise empty directories. Unlike <code>.gitignore</code>, these files
are not special and their sole purpose is to populate a directory so
that Git adds it to the repository. In fact, you can name such files
anything you like.</p>
<ol start="2" style="list-style-type: decimal">
<li>If you create a directory in your Git repository and populate it
with files, you can add all files in the directory at once by:</li>
</ol>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> git add <span class="op">&lt;</span>directory-with-files<span class="op">&gt;</span></span></code></pre>
</div>
<p>Try it for yourself:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="ex">$</span> touch cakes/brownie cakes/lemon_drizzle</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="ex">$</span> git status</span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a><span class="ex">$</span> git add cakes</span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<p>Before moving on, we will commit these changes.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add some initial cakes"</span></span></code></pre>
</div>
</div>
</div>
</div>
<p>To recap, when we want to add changes to our repository, we first
need to add the changed files to the staging area (<code>git add</code>)
and then commit the staged changes to the repository
(<code>git commit</code>):</p>
<figure><img src="fig/git-committing.svg" alt="A diagram showing two documents being separately staged using git add, before being combined into one commit using git commit" class="figure mx-auto d-block"></figure><div id="choosing-a-commit-message" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="choosing-a-commit-message" class="callout-inner">
<h3 class="callout-title">Choosing a Commit Message</h3>
<div class="callout-content">
<p>Which of the following commit messages would be most appropriate for
the last commit made to <code>guacamole.md</code>?</p>
<ol style="list-style-type: decimal">
<li>“Changes”</li>
<li>“Changed lemon for lime”</li>
<li>“Guacamole modified to the traditional recipe”</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Answer 1 is not descriptive enough, and the purpose of the commit is
unclear; and answer 2 is redundant to using “git diff” to see what
changed in this commit; but answer 3 is good: short, descriptive, and
imperative.</p>
</div>
</div>
</div>
</div>
<div id="committing-changes-to-git" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="committing-changes-to-git" class="callout-inner">
<h3 class="callout-title">Committing Changes to Git</h3>
<div class="callout-content">
<p>Which command(s) below would save the changes of
<code>myfile.txt</code> to my local Git repository?</p>
<ol style="list-style-type: decimal">
<li><div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>   <span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"my recent changes"</span></span></code></pre>
</div></li>
<li><div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>   <span class="ex">$</span> git init myfile.txt</span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a>   <span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"my recent changes"</span></span></code></pre>
</div></li>
<li><div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a>   <span class="ex">$</span> git add myfile.txt</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>   <span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"my recent changes"</span></span></code></pre>
</div></li>
<li><div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a>   <span class="ex">$</span> git commit <span class="at">-m</span> myfile.txt <span class="st">"my recent changes"</span></span></code></pre>
</div></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Would only create a commit if files have already been staged.</li>
<li>Would try to create a new repository.</li>
<li>Is correct: first add the file to the staging area, then
commit.</li>
<li>Would try to commit a file “my recent changes” with the message
myfile.txt.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="committing-multiple-files" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="committing-multiple-files" class="callout-inner">
<h3 class="callout-title">Committing Multiple Files</h3>
<div class="callout-content">
<p>The staging area can hold changes from any number of files that you
want to commit as a single snapshot.</p>
<ol style="list-style-type: decimal">
<li>Add some text to <code>guacamole.md</code> noting the rough price of
the ingredients.</li>
<li>Create a new file <code>groceries.md</code> with a list of products
and their prices for different markets.</li>
<li>Add changes from both files to the staging area, and commit those
changes.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>First we make our changes to the <code>guacamole.md</code> and
<code>groceries.md</code> files:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado (1.35)
* lime (0.64)
* salt (2)</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="ex">$</span> nano groceries.md</span>
<span id="cb58-2"><a href="#cb58-2" tabindex="-1"></a><span class="ex">$</span> cat groceries.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Market A
* avocado: 1.35 per unit.
* lime: 0.64 per unit
* salt: 2 per kg</code></pre>
</div>
<p>Now you can add both files to the staging area. We can do that in one
line:</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md groceries.md</span></code></pre>
</div>
<p>Or with multiple commands:</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a><span class="ex">$</span> git add groceries.md</span></code></pre>
</div>
<p>Now the files are ready to commit. You can check that using
<code>git status</code>. If you are ready to commit use:</p>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Write prices for ingredients and their source"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main cc127c2]
 Write prices for ingredients and their source
 2 files changed, 7 insertions(+)
 create mode 100644 groceries.md</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="practice-using-graphical-git-tools-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-using-graphical-git-tools-1" class="callout-inner">
<h3 class="callout-title">Practice using graphical Git tools</h3>
<div class="callout-content">
<p>Using the graphical Git tools in PyCharm repeat the basic Git
commands explained so far:</p>
<ul>
<li>In the “recipes” repo, modify the <code>guacamole.md</code>
recipe.</li>
<li>Visually inspect what has been changed in the file.</li>
<li>Commit the file, and visually inspect the Git commit log.</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>Visually diff-ing in PyCharm:   <img src="fig/pycharm_git_diff.jpg" alt="Git diff using PyCharm" class="figure"></p>
<p>    Visually inspecting commit logs:</p>
<figure><img src="fig/pycharm_git_hist.jpg" alt="Exploring Git repo history using PyCharm" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<code>git status</code> shows the status of a repository.</li>
<li>Files can be stored in a project’s working directory (which users
see), the staging area (where the next commit is being built up) and the
local repository (where commits are permanently recorded).</li>
<li>
<code>git add</code> puts files in the staging area.</li>
<li>
<code>git commit</code> saves the staged content as a new commit in
the local repository.</li>
<li>Write a commit message that accurately describes your changes.</li>
</ul>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="exploring-history">Exploring History<a class="anchor" aria-label="anchor" href="#exploring-history"></a>
</h2>
<hr class="half-width">
<p>As we saw in the previous episode, we can refer to commits by their
identifiers. You can refer to the <em>most recent commit</em> of the
working directory by using the identifier <code>HEAD</code>.</p>
<p>We’ve been adding small changes at a time to
<code>guacamole.md</code>, so it’s easy to track our progress by
looking, so let’s do that using our <code>HEAD</code>s. Before we start,
let’s make a change to <code>guacamole.md</code>, adding yet another
line.</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions
An ill-considered change</code></pre>
</div>
<p>Now, let’s see what we get.</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="ex">$</span> git diff HEAD guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index b36abfd..0848c8d 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -4,3 +4,4 @@
 * lime
 * salt
 ## Instructions
+An ill-considered change</code></pre>
</div>
<p>which is the same as what you would get if you leave out
<code>HEAD</code> (try it). The real goodness in all this is when you
can refer to previous commits. We do that by adding <code>~1</code>
(where “~” is “tilde”, pronounced [<strong>til</strong>-d<em>uh</em>])
to refer to the commit one before <code>HEAD</code>.</p>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="ex">$</span> git diff HEAD~1 guacamole.md</span></code></pre>
</div>
<p>If we want to see the differences between older commits we can use
<code>git diff</code> again, but with the notation <code>HEAD~1</code>,
<code>HEAD~2</code>, and so on, to refer to them:</p>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="ex">$</span> git diff HEAD~2 guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index df0654a..b36abfd 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -1,3 +1,6 @@
 # Guacamole
 ## Ingredients
+* avocado
+* lime
+* salt
 ## Instructions
 +An ill-considered change</code></pre>
</div>
<p>We could also use <code>git show</code> which shows us what changes
we made at an older commit as well as the commit message, rather than
the <em>differences</em> between a commit and our working directory that
we see by using <code>git diff</code>.</p>
<div class="codewrapper sourceCode" id="cb71">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" tabindex="-1"></a><span class="ex">$</span> git show HEAD~2 guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit f22b25e3233b4645dabd0d81e651fe074bd8e73b
Author: Alfredo Linguini &lt;a.linguini@ratatouille.fr&gt;
Date:   Thu Aug 22 10:07:21 2023 -0400

    Create a template for recipe

diff --git a/guacamole.md b/guacamole.md
new file mode 100644
index 0000000..df0654a
--- /dev/null
+++ b/guacamole.md
@@ -0,0 +1,3 @@
+# Guacamole
+## Ingredients
+## Instructions</code></pre>
</div>
<p>In this way, we can build up a chain of commits. The most recent end
of the chain is referred to as <code>HEAD</code>; we can refer to
previous commits using the <code>~</code> notation, so
<code>HEAD~1</code> means “the previous commit”, while
<code>HEAD~123</code> goes back 123 commits from where we are now.</p>
<p>We can also refer to commits using those long strings of digits and
letters that both <code>git log</code> and <code>git show</code>
display. These are unique IDs for the changes, and “unique” really does
mean unique: every change to any set of files on any computer has a
unique 40-character identifier. Our first commit was given the ID
<code>f22b25e3233b4645dabd0d81e651fe074bd8e73b</code>, so let’s try
this:</p>
<div class="codewrapper sourceCode" id="cb73">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a><span class="ex">$</span> git diff f22b25e3233b4645dabd0d81e651fe074bd8e73b guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index df0654a..93a3e13 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -1,3 +1,7 @@
 # Guacamole
 ## Ingredients
+* avocado
+* lime
+* salt
 ## Instructions
+An ill-considered change</code></pre>
</div>
<p>That’s the right answer, but typing out random 40-character strings
is annoying, so Git lets us use just the first few characters (typically
seven for normal size projects):</p>
<div class="codewrapper sourceCode" id="cb75">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="ex">$</span> git diff f22b25e guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>diff --git a/guacamole.md b/guacamole.md
index df0654a..93a3e13 100644
--- a/guacamole.md
+++ b/guacamole.md
@@ -1,3 +1,7 @@
 # Guacamole
 ## Ingredients
+* avocado
+* lime
+* salt
 ## Instructions
+An ill-considered change</code></pre>
</div>
<p>All right! So we can save changes to files and see what we’ve
changed. Now, how can we restore older versions of things? Let’s suppose
we change our mind about the last update to <code>guacamole.md</code>
(the “ill-considered change”).</p>
<p><code>git status</code> now tells us that the file has been changed,
but those changes haven’t been staged:</p>
<div class="codewrapper sourceCode" id="cb77">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
    modified:   guacamole.md

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
<p>We can put things back the way they were by using
<code>git restore</code>:</p>
<div class="codewrapper sourceCode" id="cb79">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="ex">$</span> git restore guacamole.md</span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions</code></pre>
</div>
<p>As you might guess from its name, <code>git restore</code> restores
an old version of a file. By default, it recovers the version of the
file recorded in <code>HEAD</code>, which is the last saved commit. If
we want to go back even further, we can use a commit identifier instead,
using <code>-s</code> option:</p>
<div class="codewrapper sourceCode" id="cb81">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="ex">$</span> git restore <span class="at">-s</span> f22b25e guacamole.md</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb82">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="co"># Guacamole</span></span>
<span><span class="co">## Ingredients</span></span>
<span><span class="co">## Instructions</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb84">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
    modified:   guacamole.md

no changes added to commit (use "git add" and/or "git commit -a")
</code></pre>
</div>
<p>Notice that the changes are not currently in the staging area, and
have not been committed. If we wished, we can put things back the way
they were at the last commit by using <code>git restore</code> to
overwrite the working copy with the last committed version:</p>
<div class="codewrapper sourceCode" id="cb86">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a><span class="ex">$</span> git restore guacamole.md</span>
<span id="cb86-2"><a href="#cb86-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions</code></pre>
</div>
<p>It’s important to remember that we must use the commit number that
identifies the state of the repository <em>before</em> the change we’re
trying to undo. A common mistake is to use the number of the commit in
which we made the change we’re trying to discard. In the example below,
we want to retrieve the state from before the most recent commit
(<code>HEAD~1</code>), which is commit <code>f22b25e</code>. We use the
<code>.</code> to mean all files:</p>
<figure><img src="fig/git-restore.svg" alt="A diagram showing how git restore can be used to restore the previous version of two files" class="figure mx-auto d-block"></figure><p>So, to put it all together, here’s how Git works in cartoon form:</p>
<figure><img src="fig/git_staging.svg" alt="A diagram showing the entire git workflow: local changes are staged using git add, applied to the local repository using git commit, and can be restored from the repository using git checkout" class="figure mx-auto d-block"><div class="figcaption"><a href="https://figshare.com/articles/How_Git_works_a_cartoon/1328266" class="external-link uri">https://figshare.com/articles/How_Git_works_a_cartoon/1328266</a></div>
</figure><p>The fact that files can be reverted one by one tends to change the
way people organize their work. If everything is in one large document,
it’s hard (but not impossible) to undo changes to the introduction
without also undoing changes made later to the conclusion. If the
introduction and conclusion are stored in separate files, on the other
hand, moving backward and forward in time becomes much easier.</p>
<div id="recovering-older-versions-of-a-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="recovering-older-versions-of-a-file" class="callout-inner">
<h3 class="callout-title">Recovering Older Versions of a File</h3>
<div class="callout-content">
<p>Jennifer has made changes to the Python script that she has been
working on for weeks, and the modifications she made this morning
“broke” the script and it no longer runs. She has spent ~ 1hr trying to
fix it, with no luck…</p>
<p>Luckily, she has been keeping track of her project’s versions using
Git! Which commands below will let her recover the last committed
version of her Python script called <code>data_cruncher.py</code>?</p>
<ol style="list-style-type: decimal">
<li><p><code>$ git restore</code></p></li>
<li><p><code>$ git restore data_cruncher.py</code></p></li>
<li><p><code>$ git restore -s HEAD~1 data_cruncher.py</code></p></li>
<li><p><code>$ git restore -s &lt;unique ID of last commit&gt; data_cruncher.py</code></p></li>
<li><p>Both 2 and 4</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<p>The answer is (5)-Both 2 and 4.</p>
<p>The <code>restore</code> command restores files from the repository,
overwriting the files in your working directory. Answers 2 and 4 both
restore the <em>latest</em> version <em>in the repository</em> of the
file <code>data_cruncher.py</code>. Answer 2 uses <code>HEAD</code> to
indicate the <em>latest</em>, whereas answer 4 uses the unique ID of the
last commit, which is what <code>HEAD</code> means.</p>
<p>Answer 3 gets the version of <code>data_cruncher.py</code> from the
commit <em>before</em> <code>HEAD</code>, which is NOT what we
wanted.</p>
<p>Answer 1 results in an error. You need to specify a file to restore.
If you want to restore all files you should use
<code>git restore .</code></p>
</div>
</div>
</div>
</div>
<div id="reverting-a-commit" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reverting-a-commit" class="callout-inner">
<h3 class="callout-title">Reverting a Commit</h3>
<div class="callout-content">
<p>Jennifer is collaborating with colleagues on her Python script. She
realizes her last commit to the project’s repository contained an error,
and wants to undo it. Jennifer wants to undo correctly so everyone in
the project’s repository gets the correct change. The command
<code>git revert [erroneous commit ID]</code> will create a new commit
that reverses the erroneous commit.</p>
<p>The command <code>git revert</code> is different from
<code>git restore -s [commit ID] .</code> because
<code>git restore</code> returns the files not yet committed within the
local repository to a previous state, whereas <code>git revert</code>
reverses changes committed to the local and project repositories.</p>
<p>Below are the right steps and explanations for Jennifer to use
<code>git revert</code>, what is the missing command?</p>
<ol style="list-style-type: decimal">
<li><p><code>________ # Look at the git history of the project to find the commit ID</code></p></li>
<li><p>Copy the ID (the first few characters of the ID,
e.g. 0b1d055).</p></li>
<li><p><code>git revert [commit ID]</code></p></li>
<li><p>Type in the new commit message.</p></li>
<li><p>Save and close.</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<p>The command <code>git log</code> lists project history with commit
IDs.</p>
<p>The command <code>git show HEAD</code> shows changes made at the
latest commit, and lists the commit ID; however, Jennifer should
double-check it is the correct commit, and no one else has committed
changes to the repository.</p>
</div>
</div>
</div>
</div>
<div id="understanding-workflow-and-history" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="understanding-workflow-and-history" class="callout-inner">
<h3 class="callout-title">Understanding Workflow and History</h3>
<div class="callout-content">
<p>What is the output of the last command in</p>
<div class="codewrapper sourceCode" id="cb88">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a><span class="ex">$</span> cd recipes</span>
<span id="cb88-2"><a href="#cb88-2" tabindex="-1"></a><span class="ex">$</span> echo <span class="st">"I like tomatoes, therefore I like ketchup"</span> <span class="op">&gt;</span> ketchup.md</span>
<span id="cb88-3"><a href="#cb88-3" tabindex="-1"></a><span class="ex">$</span> git add ketchup.md</span>
<span id="cb88-4"><a href="#cb88-4" tabindex="-1"></a><span class="ex">$</span> echo <span class="st">"ketchup enhances pasta dishes"</span> <span class="op">&gt;&gt;</span> ketchup.md</span>
<span id="cb88-5"><a href="#cb88-5" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"My opinions about the red sauce"</span></span>
<span id="cb88-6"><a href="#cb88-6" tabindex="-1"></a><span class="ex">$</span> git restore ketchup.md</span>
<span id="cb88-7"><a href="#cb88-7" tabindex="-1"></a><span class="ex">$</span> cat ketchup.md <span class="co"># this will print the content of ketchup.md on screen</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   ketchup enhances pasta dishes</code></pre>
</div></li>
<li><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   I like tomatoes, therefore I like ketchup</code></pre>
</div></li>
<li><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   I like tomatoes, therefore I like ketchup
   ketchup enhances pasta dishes</code></pre>
</div></li>
<li><div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   Error because you have changed ketchup.md without committing the changes</code></pre>
</div></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Show me the solution </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<p>The answer is 2.</p>
<p>The changes to the file from the second <code>echo</code> command are
only applied to the working copy, The command
<code>git add ketchup.md</code> places the current version of
<code>ketchup.md</code> into the staging area. not the version in the
staging area.</p>
<p>So, when <code>git commit -m "My opinions about the red sauce"</code>
is executed, the version of <code>ketchup.md</code> committed to the
repository is the one from the staging area and has only one line.</p>
<p>At this time, the working copy still has the second line (and
<code>git status</code> will show that the file is modified). However,
<code>git restore ketchup.md</code> replaces the working copy with the
most recently committed version of <code>ketchup.md</code>. So,
<code>cat ketchup.md</code> will output</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>I like tomatoes, therefore I like ketchup</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="checking-understanding-of-git-diff" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="checking-understanding-of-git-diff" class="callout-inner">
<h3 class="callout-title">Checking Understanding of
<code>git diff</code>
</h3>
<div class="callout-content">
<p>Consider this command: <code>git diff HEAD~9 guacamole.md</code>.
What do you predict this command will do if you execute it? What happens
when you do execute it? Why?</p>
<p>Try another command, <code>git diff [ID] guacamole.md</code>, where
[ID] is replaced with the unique identifier for your most recent commit.
What do you think will happen, and what does happen?</p>
</div>
</div>
</div>
<div id="getting-rid-of-staged-changes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="getting-rid-of-staged-changes" class="callout-inner">
<h3 class="callout-title">Getting Rid of Staged Changes</h3>
<div class="callout-content">
<p><code>git restore</code> can be used to restore a previous commit
when unstaged changes have been made, but will it also work for changes
that have been staged but not committed? Make a change to
<code>guacamole.md</code>, add that change using <code>git add</code>,
then use <code>git restore</code> to see if you can remove your
change.</p>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Show me the solution </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" data-bs-parent="#accordionSolution9" aria-labelledby="headingSolution9">
<div class="accordion-body">
<p>After adding a change, <code>git restore</code> can not be used
directly. Let’s look at the output of <code>git status</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
        modified:   guacamole.md
</code></pre>
</div>
<p>Note that if you don’t have the same output you may either have
forgotten to change the file, or you have added it <em>and</em>
committed it.</p>
<p>Using the command <code>git restore guacamole.md</code> now does not
give an error, but it does not restore the file either. Git helpfully
tells us that we need to use <code>git restore --staged</code> first to
unstage the file:</p>
<div class="codewrapper sourceCode" id="cb95">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a><span class="ex">$</span> git restore <span class="at">--staged</span> guacamole.md</span></code></pre>
</div>
<p>Now, <code>git status</code> gives us:</p>
<div class="codewrapper sourceCode" id="cb96">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git git restore &lt;file&gt;..." to discard changes in working directory)
        modified:   guacamole.md

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
<p>This means we can now use <code>git restore</code> to restore the
file to the previous commit:</p>
<div class="codewrapper sourceCode" id="cb98">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a><span class="ex">$</span> git restore guacamole.md</span>
<span id="cb98-2"><a href="#cb98-2" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="practice-using-graphical-git-tools-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-using-graphical-git-tools-2" class="callout-inner">
<h3 class="callout-title">Practice using graphical Git tools</h3>
<div class="callout-content">
<p>Using the graphical Git tools in PyCharm repeat the basic Git
commands explained so far:</p>
<ol style="list-style-type: decimal">
<li>Revert un-staged changes in the <code>guacamole.md</code>
recipe.</li>
<li>Revert the <code>guacamole.md</code> recipe to an earlier commit -
<code>HEAD~2</code>.</li>
<li>Examine changes between <code>HEAD~1</code> and
<code>HEAD~5</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10"> Show me the solution </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" data-bs-parent="#accordionSolution10" aria-labelledby="headingSolution10">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Discarding un-staged changes with PyCharm:   <img src="fig/pycharm_git_rollback.jpg" alt="Git rollback using PyCharm" class="figure">
</li>
</ol>
<p>         </p>
<ol start="2" style="list-style-type: decimal">
<li>“Revert the <code>guacamole.md</code> recipe to an earlier commit -
<code>HEAD~2</code>”:</li>
</ol>
<div class="codewrapper sourceCode" id="cb100">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb100-1"><a href="#cb100-1" tabindex="-1"></a><span class="ex">$</span> git restore <span class="at">-s</span> HEAD~2 guacamole.md</span></code></pre>
</div>
<p>This was actually a tricky question! PyCharm does not provide a
direct GUI option to revert a file to a specific Git revision. This is
one example of GUI tools limitations, which shows the importance of
understanding and mastering Git from the command line.</p>
<p>         </p>
<ol start="3" style="list-style-type: decimal">
<li>Comparing two Git revisions:</li>
</ol>
<figure><img src="fig/pycharm_git_compare_revisions.jpg" alt="Comparing two Git revisions using PyCharm" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="keypoints2" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<code>git diff</code> displays differences between commits.</li>
<li>
<code>git restore</code> recovers old versions of files.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="ignoring-things">Ignoring Things<a class="anchor" aria-label="anchor" href="#ignoring-things"></a>
</h2>
<hr class="half-width">
<p>What if we have files that we do not want Git to track for us, like
backup files created by our editor or intermediate files created during
data analysis? Let’s create a few dummy files:</p>
<div class="codewrapper sourceCode" id="cb101">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb101-1"><a href="#cb101-1" tabindex="-1"></a><span class="ex">$</span> mkdir receipts</span>
<span id="cb101-2"><a href="#cb101-2" tabindex="-1"></a><span class="ex">$</span> touch a.png b.png c.png receipts/a.jpg receipts/b.jpg</span></code></pre>
</div>
<p>and see what Git says:</p>
<div class="codewrapper sourceCode" id="cb102">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb102-1"><a href="#cb102-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

	a.png
	b.png
	c.png
	receipts/

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
<p>Putting these files under version control would be a waste of disk
space. What’s worse, having them all listed could distract us from
changes that actually matter, so let’s tell Git to ignore them.</p>
<p>We do this by creating a file in the root directory of our project
called <code>.gitignore</code>:</p>
<div class="codewrapper sourceCode" id="cb104">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a><span class="ex">$</span> nano .gitignore</span>
<span id="cb104-2"><a href="#cb104-2" tabindex="-1"></a><span class="ex">$</span> cat .gitignore</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>*.png
receipts/</code></pre>
</div>
<p>These patterns tell Git to ignore any file whose name ends in
<code>.png</code> and everything in the <code>receipts</code> directory.
(If any of these files were already being tracked, Git would continue to
track them.)</p>
<p>Once we have created this file, the output of <code>git status</code>
is much cleaner:</p>
<div class="codewrapper sourceCode" id="cb106">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

	.gitignore

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
<p>The only thing Git notices now is the newly-created
<code>.gitignore</code> file. You might think we wouldn’t want to track
it, but everyone we’re sharing our repository with will probably want to
ignore the same things that we’re ignoring. Let’s add and commit
<code>.gitignore</code>:</p>
<div class="codewrapper sourceCode" id="cb108">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="ex">$</span> git add .gitignore</span>
<span id="cb108-2"><a href="#cb108-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Ignore png files and the receipts folder."</span></span>
<span id="cb108-3"><a href="#cb108-3" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
<p>As a bonus, using <code>.gitignore</code> helps us avoid accidentally
adding files to the repository that we don’t want to track:</p>
<div class="codewrapper sourceCode" id="cb110">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="ex">$</span> git add a.png</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The following paths are ignored by one of your .gitignore files:
a.png
Use -f if you really want to add them.</code></pre>
</div>
<p>If we really want to override our ignore settings, we can use
<code>git add -f</code> to force Git to add something. For example,
<code>git add -f a.csv</code>. We can also always see the status of
ignored files if we want:</p>
<div class="codewrapper sourceCode" id="cb112">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a><span class="ex">$</span> git status <span class="at">--ignored</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Ignored files:
 (use "git add -f &lt;file&gt;..." to include in what will be committed)

        a.png
        b.png
        c.png
        receipts/

nothing to commit, working tree clean</code></pre>
</div>
<div id="ignoring-nested-files" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ignoring-nested-files" class="callout-inner">
<h3 class="callout-title">Ignoring Nested Files</h3>
<div class="callout-content">
<p>Given a directory structure that looks like:</p>
<div class="codewrapper sourceCode" id="cb114">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb114-1"><a href="#cb114-1" tabindex="-1"></a><span class="ex">receipts/data</span></span>
<span id="cb114-2"><a href="#cb114-2" tabindex="-1"></a><span class="ex">receipts/plots</span></span></code></pre>
</div>
<p>How would you ignore only <code>receipts/plots</code> and not
<code>receipts/data</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution11" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution11" aria-expanded="false" aria-controls="collapseSolution11">
  <h4 class="accordion-header" id="headingSolution11"> Show me the solution </h4>
</button>
<div id="collapseSolution11" class="accordion-collapse collapse" data-bs-parent="#accordionSolution11" aria-labelledby="headingSolution11">
<div class="accordion-body">
<p>If you only want to ignore the contents of
<code>receipts/plots</code>, you can change your <code>.gitignore</code>
to ignore only the <code>/plots/</code> subfolder by adding the
following line to your .gitignore:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>receipts/plots/</code></pre>
</div>
<p>This line will ensure only the contents of
<code>receipts/plots</code> is ignored, and not the contents of
<code>receipts/data</code>.</p>
</div>
</div>
</div>
</div>
<div id="including-specific-files" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="including-specific-files" class="callout-inner">
<h3 class="callout-title">Including Specific Files</h3>
<div class="callout-content">
<p>How would you ignore all <code>.png</code> files in your root
directory except for <code>final.png</code>? Hint: Find out what
<code>!</code> (the exclamation point operator) does</p>
</div>
</div>
</div>
<div id="accordionSolution12" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution12" aria-expanded="false" aria-controls="collapseSolution12">
  <h4 class="accordion-header" id="headingSolution12"> Show me the solution </h4>
</button>
<div id="collapseSolution12" class="accordion-collapse collapse" data-bs-parent="#accordionSolution12" aria-labelledby="headingSolution12">
<div class="accordion-body">
<p>You would add the following two lines to your .gitignore:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>*.png           # ignore all png files
!final.png      # except final.png</code></pre>
</div>
<p>The exclamation point operator will include a previously excluded
entry.</p>
<p>Note also that because you’ve previously committed <code>.png</code>
files in this lesson they will not be ignored with this new rule. Only
future additions of <code>.png</code> files added to the root directory
will be ignored.</p>
</div>
</div>
</div>
</div>
<div id="ignoring-all-data-files-in-a-directory" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ignoring-all-data-files-in-a-directory" class="callout-inner">
<h3 class="callout-title">Ignoring all data Files in a Directory</h3>
<div class="callout-content">
<p>Assuming you have an empty .gitignore file, and given a directory
structure that looks like:</p>
<div class="codewrapper sourceCode" id="cb117">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1" tabindex="-1"></a><span class="ex">receipts/data/market_position/gps/a.dat</span></span>
<span id="cb117-2"><a href="#cb117-2" tabindex="-1"></a><span class="ex">receipts/data/market_position/gps/b.dat</span></span>
<span id="cb117-3"><a href="#cb117-3" tabindex="-1"></a><span class="ex">receipts/data/market_position/gps/c.dat</span></span>
<span id="cb117-4"><a href="#cb117-4" tabindex="-1"></a><span class="ex">receipts/data/market_position/gps/info.txt</span></span>
<span id="cb117-5"><a href="#cb117-5" tabindex="-1"></a><span class="ex">receipts/plots</span></span></code></pre>
</div>
<p>What’s the shortest <code>.gitignore</code> rule you could write to
ignore all <code>.dat</code> files in
<code>result/data/market_position/gps</code>? Do not ignore the
<code>info.txt</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution13" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution13" aria-expanded="false" aria-controls="collapseSolution13">
  <h4 class="accordion-header" id="headingSolution13"> Show me the solution </h4>
</button>
<div id="collapseSolution13" class="accordion-collapse collapse" data-bs-parent="#accordionSolution13" aria-labelledby="headingSolution13">
<div class="accordion-body">
<p>Appending <code>receipts/data/market_position/gps/*.dat</code> will
match every file in <code>receipts/data/market_position/gps</code> that
ends with <code>.dat</code>. The file
<code>receipts/data/market_position/gps/info.txt</code> will not be
ignored.</p>
</div>
</div>
</div>
</div>
<div id="ignoring-all-data-files-in-the-repository" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="ignoring-all-data-files-in-the-repository" class="callout-inner">
<h3 class="callout-title">Ignoring all data Files in the repository</h3>
<div class="callout-content">
<p>Let us assume you have many <code>.csv</code> files in different
subdirectories of your repository. For example, you might have:</p>
<div class="codewrapper sourceCode" id="cb118">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1" tabindex="-1"></a><span class="ex">results/a.csv</span></span>
<span id="cb118-2"><a href="#cb118-2" tabindex="-1"></a><span class="ex">data/experiment_1/b.csv</span></span>
<span id="cb118-3"><a href="#cb118-3" tabindex="-1"></a><span class="ex">data/experiment_2/c.csv</span></span>
<span id="cb118-4"><a href="#cb118-4" tabindex="-1"></a><span class="ex">data/experiment_2/variation_1/d.csv</span></span></code></pre>
</div>
<p>How do you ignore all the <code>.csv</code> files, without explicitly
listing the names of the corresponding folders?</p>
</div>
</div>
</div>
<div id="accordionSolution14" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution14" aria-expanded="false" aria-controls="collapseSolution14">
  <h4 class="accordion-header" id="headingSolution14"> Show me the solution </h4>
</button>
<div id="collapseSolution14" class="accordion-collapse collapse" data-bs-parent="#accordionSolution14" aria-labelledby="headingSolution14">
<div class="accordion-body">
<p>In the <code>.gitignore</code> file, write:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>**/*.csv</code></pre>
</div>
<p>This will ignore all the <code>.csv</code> files, regardless of their
position in the directory tree. You can still include some specific
exception with the exclamation point operator.</p>
</div>
</div>
</div>
</div>
<div id="keypoints3" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>The .gitignore file is a text file that tells Git which files to
track and which to ignore in the repository.</li>
<li>You can list specific files or folders to be ignored by Git, or you
can include files that would normally be ignored.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-workshop2intro"><p>Content from <a href="workshop2intro.html">Intermezzo</a></p>
<hr>
<p>Last updated on 2025-03-06 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/workshop2intro.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<p>The focus of the first workshop of this course has been version
control, and an introduction to Git. Some very important Git workflows
have been covered, such as the “modify-add-commit” cycle. However, all
the Git topics covered then were focusing on creating and using a
<code>local</code> repository, stored on the user’s workstation, and
with only one participant - the user herself.</p>
<p>In this second workshop we will take you to the next level in terms
of Git functionality - and show you how you can fully harness the power
of version control by using Git in a collaborative environment where
multiple users can work together on the same project all coordinated
through Git workflows. Once we master such advanced Git workflows, we
will pivot towards the programming part of this course by looking at
Python virtual environments.</p>
<p>To summarize, this is how this second workshop will be organized:</p>
<ul>
<li>GitLab - an on-line Git platform</li>
<li>Short break</li>
<li>Advanced Git Commands - facilitated by on-line Git platforms such as
GitLab</li>
<li>Lunch break</li>
<li>Python Virtual Environments</li>
</ul>
<div class="section level3">
<h3 id="required">Required Software<a class="anchor" aria-label="anchor" href="#required"></a>
</h3>
<p>In addition to the software we were using in the previous workshop,
for today you will also need the following:</p>
<ol style="list-style-type: decimal">
<li>
<strong><a href="https://www.python.org/" class="external-link">Python</a></strong> (3.12
recommended)</li>
<li>Access to the <strong><a href="https://gitlab.tudelft.nl/users/sign_in" class="external-link">TUD
GitLab</a></strong>
</li>
</ol>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div></section><section id="aio-gitlab"><p>Content from <a href="gitlab.html">GitLab</a></p>
<hr>
<p>Last updated on 2025-03-06 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/gitlab.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is GitLab?</li>
<li>How can I find my way around GitLab?</li>
<li>How can I create, modify and archive a GitLab project?</li>
<li>How can multiple people collaborate on a project?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use GitLab’s interface to find a project.</li>
<li>Use GitLab’s interface to find groups.</li>
<li>Create a project.</li>
<li>Change name, description, visibility, and avatar of a project.</li>
<li>Archive (or delete) a project.</li>
<li>Explain the concepts of members and roles.</li>
<li>Add a member to a project.</li>
<li>Contribute to a project that you are a member of.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p><a href="https://about.gitlab.com/" class="external-link">GitLab</a> is a web application
for managing <a href="https://git-scm.com/" class="external-link">Git</a> repositories. Since
it is build around Git, it is suitable to manage any project that works
primarily with plain text files, for example software source code, TeX
based documents, or meeting notes in Markdown. With its built-in issue
and wiki systems, it can, in certain cases, even be the right tool for
managing a project without any files.</p>
<p>This episode will give you a foundational understanding of GitLab’s
features, so you can make informed decisions on how to use it as a
tool.</p>
<p>TU Delft is running their own self-hosted <a href="https://gitlab.tudelft.nl/" class="external-link">GitLab instance</a>. As a QuTech
employee, you are entitled to use this TUD GitLab instance; you can
login to it with your NetID:</p>
<figure><img src="fig/tud_gitlab.jpg" alt="TUD GitLab Login Page" class="figure mx-auto d-block"></figure></section><section><h2 class="section-heading" id="navigation">Navigation<a class="anchor" aria-label="anchor" href="#navigation"></a>
</h2>
<hr class="half-width">
<p>When we log into GitLab for the first time, we are greeted by a
welcome page:</p>
<figure><img src="fig/gitlab_login.jpg" alt="TUD GitLab Login Page" class="figure mx-auto d-block"></figure><div id="gitlab-projects" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="gitlab-projects" class="callout-inner">
<h3 class="callout-title">GitLab Projects</h3>
<div class="callout-content">
<p>The “project” is essentially GitLab’s “collaboration unit”. A GitLab
project is the central hub where everything related to a specific piece
of work (code, discussions, automation, documentation, and tracking)
comes together. GitLab projects can be “public” - visible to everyone
who can access a given GitLab platform, or “private” - only visible to
you (the project owner) and to people you have specifically invited to
collaborate on that project. Each GitLab project is associated with a
Git repo, which is stored internally by the GitLab platform.</p>
</div>
</div>
</div>
<p>You can browse/explore projects accessible from your GitLab portal,
by following the “Explore projects” link:</p>
<figure><img src="fig/project-explore.png" alt="Explore projects page with tab “Most starred” open. The tab shows a list of projects with icon, name, descriptions, and four statistical values for each entry." class="figure mx-auto d-block"><div class="figcaption">Project overview page</div>
</figure><p>The first tab, “All”, lists all projects that are visible to you in
most recently updated order.</p>
<p>The second tab, “Most starred projects”, also lists all projects, but
this time ordered most starred first. Users of a GitLab instance can
“star” a project, which is the equivalent of bookmarking them, as we
will see shortly.</p>
<p>The third tab, “Trending”, lists all projects again, but this time
ordered by activity during the previous months.</p>
<p>You can use the filter field next to the tab names to search through
all projects that are visible to you.</p>
<p>Finally, by following the “Groups” link on the left of your portal,
you can see the GitLab project groups you have access to.</p>
<div id="gitlab-groups" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="gitlab-groups" class="callout-inner">
<h3 class="callout-title">GitLab Groups</h3>
<div class="callout-content">
<p>A GitLab ‘group’ is a collection of related projects that share the
same members, permissions, and settings. Such groups can be used to
organize and manage projects related to the same organization, such as a
faculty, department, or research group. As an analogy, you can think of
GitLab projects as individual files, while the GitLab groups correspond
to the folders/directories containing these files. In this course we
will not deal directly with such groups, but you should be aware they
exist - as your research team may make use of them to organize their
projects.</p>
</div>
</div>
</div>
<p>With the basic GitLab concepts now covered, in the next section we
will explain how you can create new GitLab projects and link them to the
Git concepts we have covered in the previous episodes.</p>
</section><section><h2 class="section-heading" id="gitlab-projects-1">GitLab Projects<a class="anchor" aria-label="anchor" href="#gitlab-projects-1"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="creating-a-project">Creating a Project<a class="anchor" aria-label="anchor" href="#creating-a-project"></a>
</h3>
<p>After knowing how to find groups and projects, we want to go from
passively browsing GitLab to actively using it. We are going to create a
project and connect a local Git repository to it.</p>
<p>To create a project, we click on the “New project” button on the
upper-right corner of the right tab.</p>
<p>Multiple options are presented for how to create the new project. In
this lesson we will only look at, and use, the first option: “Create
blank project”. So click on that.</p>
<p>This leads to the following page:</p>
<figure><img src="fig/create-project.png" alt="Create blank project form" class="figure mx-auto d-block"><div class="figcaption">Create blank project form</div>
</figure><p>The “Project name” field is for just that, the project name. Its
value has no other purpose and can be changed at anytime without
indirect consequences (the direct consequence being, that its name will
be different). Following the example in the previous episodes, we will
call it “recipes”.</p>
<p>As we fill in the project name, a project slug gets suggested in the
respective field. The project slug is the last part of the project’s,
and the associated Git repository’s, URL or web address.</p>
<p>If the user belongs to at least one group, the URL’s middle part can
be chosen in the drop-down field labeled “Project URL”, which defaults
to the current user’s username. The default, indicated by the user’s
name, is the location for a user’s projects (and groups). Other options
in the drop-down list are the groups in which the current user may
create projects.</p>
<div id="project-url-and-project-slug" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="project-url-and-project-slug" class="callout-inner">
<h3 class="callout-title">Project URL and Project Slug</h3>
<div class="callout-content">
<p>The two fields under labels “Project URL” and “Project slug” are the
only fields in this form for which changing the value later might cause
problems. They determine the URL under which the project’s pages and the
project’s Git repository can be found, so changing them later might
brake links and bookmarks as well as connections from Git repositories
on other systems, for example on contributors’ machines.</p>
</div>
</div>
</div>
<p>We ignore the field labeled “Project deployment target
(optional)”.</p>
<p>The choice under label “Visibility Level” determines the project’s
visibility.</p>
<div id="visiblity" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="visiblity" class="callout-inner">
<h3 class="callout-title">Visiblity</h3>
<div class="callout-content">
<p>GitLab offers three settings for the visibility of a project: public,
internal, and private. Publicly visible projects can be looked at by
anyone that can access the GitLab instance, projects with internal
visibility can be looked at by anyone logged in to the instance, while
projects with private visibility can only be looked at by its
members.</p>
<p>On GitLab.com the visibility “internal” is disabled. Everyone can
create an account, log in to the instance, and thus could look at any
project of internal visibility anyway.</p>
<p>Self-hosted instances might also disable some visibility types. For
example, the public visibility might be disabled, to prevent users from
publishing something to the whole internet.</p>
</div>
</div>
</div>
<p>We choose “Private” for our project’s visibility.</p>
<p>If, as per default, the checkbox “Initialize repository with a
README” is checked, the project’s repository will be initialized with a
commit that adds a file called <code>README.md</code>. Otherwise, a the
project will start with an empty repository. We will add such a file
later ourselves, so we uncheck the box.</p>
<div id="readme" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="readme" class="callout-inner">
<h3 class="callout-title">README</h3>
<div class="callout-content">
<p>A project’s README file usually contains basic information about the
project: what it contains, how it can be used (for example built or
installed, if it is a software project), how to contribute, how to get
help, and licensing information.</p>
<p>It is common to write README files in Markdown format, indicated by
the filename suffix <code>.md</code>.</p>
<p>Platforms like GitLab show the contents of a project’s README file on
its homepage; if it is in Markdown format, in its rendered form.</p>
</div>
</div>
</div>
<p>We will ignore any other fields that may be visible depending on the
GitLab instances configuration.</p>
<p>After clicking the “Create project” button, GitLab creates the
project and redirects us to the project’s homepage, which looks similar
to this:</p>
<figure><img src="fig/new_project.jpg" alt="Project homepage for a new project" class="figure mx-auto d-block"><div class="figcaption">Fresh project homepage</div>
</figure><p>The page is split into the menu on the left and the project overview
on the right.</p>
<p>The menu leads to pages related to various properties, processes, and
content of the project. It is visible on each of these pages. The number
of menu entries may seem overwhelming, in particular when one notices
that the entries have sub-entries. However, it is not necessary to know
what hides behind all these entries to use GitLab. Following this
lesson, we will get to know parts of what lies behind the entries
“Manage”, “Plan”, “Code”, “Build”, and “Settings”.</p>
<p>The project overview shows (from the top): The project’s avatar (or
icon) and name; a prompt to invite team members (we will cover members
later on); a statement that our repository is currently empty with
buttons for several options to add content to it; and finally the
beginning of the instructions on how to push a local repository to this
project’s repository to fill it with content. We will follow them in
just a bit.</p>
<p>The project overview page will look slightly different, once we have
content in its repository. We will have another look at the page
then.</p>
<div id="change-name-description-visibility-or-avatar" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="change-name-description-visibility-or-avatar" class="callout-inner">
<h3 class="callout-title">Change Name, Description, Visibility, or Avatar</h3>
<div class="callout-content">
<p>Click on the “Settings” sub-menu and select its “General” entry. Set
the description to something meaningful, such as “A collection of simple
recipes”.</p>
<p>The project description appears in many lists and on some pages under
the project’s name.</p>
<p>Then change any of the project’s name, visibility, or avatar. Do not
forget to click the “Save changes” button once you are done.</p>
<p>This exercise should take about 5 minutes.</p>
</div>
</div>
</div>
<div id="markdown" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="markdown" class="callout-inner">
<h3 class="callout-title">Markdown</h3>
<div class="callout-content">
<p>Markdown is a markup language like HTML, on which the World Wide Web
is based, or wikitext, which is used to write Wikipedia’s content. Its
markup directives, indicating for example that something is a headline
or a list item, are such that they serve their purpose even in the plain
text form.</p>
</div>
</div>
</div>
<p>The project overview page presents us with many options to add
content to the project’s repository directly in GitLab. We will add our
first file to the project repository in the next section.</p>
<p> </p>
</div>
<div class="section level3">
<h3 id="archiving-a-project">Archiving a Project<a class="anchor" aria-label="anchor" href="#archiving-a-project"></a>
</h3>
<p>We just went through the beginning of a GitLab project’s life cycle.
At its end, if it has one, a project gets archived (or deleted). We will
now go through the process of archiving a project, without completing
the procedure.</p>
<p>Using the menu on the left, we navigate to the project’s “General”
settings.</p>
<p>At the bottom of the page, we find a section named “Advanced”. We
click on the “Expand” button right next to it and scroll down the
page.</p>
<p>Notice that some of buttons here are not the usual blue or white, but
rather red. This indicates that we should be careful about clicking
them. Things might break or get deleted.</p>
<p>Scrolling back up, we find a section labeled “Archive Project”.
Clicking the button will not delete the project. Instead it will be
placed in a read-only mode. Everything will be preserved but nothing can
be changed anymore. In addition, the project no longer shows up in
search results and on the page for exploring projects.</p>
<p>Most of the time archiving a project is preferable to deleting it, in
particular when it comes to research projects. <strong>Do not archive
the project now! We will work with it throughout this
lesson.</strong></p>
<p>At the bottom of the page is also a section for deleting a project,
in case you ever think that is the right thing to do.</p>
</div>
</section><section><h2 class="section-heading" id="connecting-gitlab-projects-with-local-git-repositories">Connecting GitLab Projects with Local Git Repositories<a class="anchor" aria-label="anchor" href="#connecting-gitlab-projects-with-local-git-repositories"></a>
</h2>
<hr class="half-width">
<p>Remember from an earlier lesson that we have created a local Git
repository that looked like this:</p>
<figure><img src="fig/git-staging-area.svg" alt="Local repository with staging area" class="figure mx-auto d-block"></figure><p>Now we want to have a GitLab project that will be coupled with this
local Git repo. The first step here is to follow the steps described in
the previous section, and create a new GitLab project called ‘recipes’.
Initially the Git repo for this GitLab project will be empty, as shown
in the diagram below:</p>
<figure><img src="fig/git-freshly-made-gitlab-repo.svg" alt="The local and remote Git repos" class="figure mx-auto d-block"></figure><p> </p>
<div class="section level3">
<h3 id="connecting-the-local-to-remote-repository">Connecting the local to remote repository<a class="anchor" aria-label="anchor" href="#connecting-the-local-to-remote-repository"></a>
</h3>
<p>Now we connect the two repositories. We do this by making the GitLab
repository a <a href="reference.html#remote">remote</a> for the local
repository. Go to the home page of the repository on GitLab, click on
the blue <code>Code</code> button, and copy the string below the
<code>Clone with SSH</code></p>
<figure><img src="fig/gitlab_ssh_repo.jpg" alt="Accessing a GitLab repo via SSH" class="figure mx-auto d-block"></figure><div id="https-vs.-ssh" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="https-vs.-ssh" class="callout-inner">
<h3 class="callout-title">HTTPS vs. SSH</h3>
<div class="callout-content">
<p>We use SSH here because, while it requires some additional
configuration, it is a security protocol widely used by many
applications. The steps below describe SSH at a minimum level for
GitLab.</p>
</div>
</div>
</div>
<p>With the <code>Clone with SSH</code> string you copied from the
GitLab page, go into the local <code>recipes</code> repository, and run
this command:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> git remote add origin git@gitlab.tudelft.nl:alflin/recipes.git</span></code></pre>
</div>
<p>Make sure to use the URL for your repository rather than Alfredo’s:
the only difference should be your username instead of
<code>alflin</code>.</p>
<p><code>origin</code> is a local name used to refer to the remote
repository. It could be called anything, but <code>origin</code> is a
convention that is often used by default in git and GitLab, so it’s
helpful to stick with this unless there’s a reason not to.</p>
<p>We can check that the command has worked by running
<code>git remote -v</code>:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> git remote <span class="at">-v</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>origin   git@gitlab.tudelft.nl:alflin/recipes.git (fetch)
origin   git@gitlab.tudelft.nl:alflin/recipes.git (push)</code></pre>
</div>
<p> </p>
</div>
<div class="section level3">
<h3 id="ssh-background-and-setup">SSH Background and Setup<a class="anchor" aria-label="anchor" href="#ssh-background-and-setup"></a>
</h3>
<p>Before Alfredo can connect to a remote repository, he needs to set up
a way for his computer to authenticate with GitLab so it knows it’s him
trying to connect to his remote repository.</p>
<p>We are going to set up the method that is commonly used by many
different services to authenticate access on the command line. This
method is called Secure Shell Protocol (SSH). SSH is a cryptographic
network protocol that allows secure communication between computers
using an otherwise insecure network.</p>
<p>SSH uses what is called a key pair. This is two keys that work
together to validate access. One key is publicly known and called the
public key, and the other key called the private key is kept private.
Very descriptive names.</p>
<p>You can think of the public key as a padlock, and only you have the
key (the private key) to open it. You use the public key where you want
a secure method of communication, such as your GitLab account. You give
this padlock, or public key, to GitLab and say “lock the communications
to my account with this so that only computers that have my private key
can unlock communications and send git commands as my GitLab
account.”</p>
<p>What we will do now is the minimum required to set up the SSH keys
and add the public key to a GitLab account.</p>
<p>The first thing we are going to do is check if this has already been
done on the computer you’re on. Because generally speaking, this setup
only needs to happen once and then you can forget about it.</p>
<div id="keeping-your-keys-secure" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="keeping-your-keys-secure" class="callout-inner">
<h3 class="callout-title">Keeping your keys secure</h3>
<div class="callout-content">
<p>You shouldn’t really forget about your SSH keys, since they keep your
account secure. It’s good practice to audit your secure shell keys every
so often. Especially if you are using multiple computers to access your
account.</p>
</div>
</div>
</div>
<p>We will run the list command to check what key pairs already exist on
your computer.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-al</span> ~/.ssh</span></code></pre>
</div>
<p>Your output is going to look a little different depending on whether
or not SSH has ever been set up on the computer you are using.</p>
<p>Alfredo has not set up SSH on his computer, so his output is</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ls: cannot access '/c/Users/Alfredo/.ssh': No such file or directory</code></pre>
</div>
<p>If SSH has been set up on the computer you’re using, the public and
private key pairs will be listed. The file names are either
<code>id_ed25519</code>/<code>id_ed25519.pub</code> or
<code>id_rsa</code>/<code>id_rsa.pub</code> depending on how the key
pairs were set up. Since they don’t exist on Alfredo’s computer, he uses
this command to create them.</p>
<div class="section level5">
<h5 id="create-an-ssh-key-pair">Create an SSH key pair<a class="anchor" aria-label="anchor" href="#create-an-ssh-key-pair"></a>
</h5>
<p>To create an SSH key pair Alfredo uses this command, where the
<code>-t</code> option specifies which type of algorithm to use and
<code>-C</code> attaches a comment to the key (here, Alfredo’s
email):</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ssh-keygen <span class="at">-t</span> ed25519 <span class="at">-C</span> <span class="st">"a.linguini@ratatouille.fr"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Generating public/private ed25519 key pair.
Enter file in which to save the key (/c/Users/Alfredo/.ssh/id_ed25519):</code></pre>
</div>
<p>We want to use the default file, so just press <kbd>Enter</kbd>.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Created directory '/c/Users/Alfredo/.ssh'.
Enter passphrase (empty for no passphrase):</code></pre>
</div>
<p>Now, it is prompting Alfredo for a passphrase. Alfredo will be using
this key from his own laptop, from his password-protected account, so
this extra security layer of having a passkey for this SSH key is not
necessary at this point, so he can leave it empty - by pressing
<kbd>Enter</kbd> twice.</p>
<p>At this point we should receive the confirmation that the key has
been created:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Your identification has been saved in /c/Users/Alfredo/.ssh/id_ed25519
Your public key has been saved in /c/Users/Alfredo/.ssh/id_ed25519.pub
The key fingerprint is:
SHA256:SMSPIStNyA00KPxuYu94KpZgRAYjgt9g4BA4kFy3g1o a.linguini@ratatouille.fr
The key's randomart image is:
+--[ED25519 256]--+
|^B== o.          |
|%*=.*.+          |
|+=.E =.+         |
| .=.+.o..        |
|....  . S        |
|.+ o             |
|+ =              |
|.o.o             |
|oo+.             |
+----[SHA256]-----+</code></pre>
</div>
<p>The “identification” is actually the private key. You should never
share it. The public key is appropriately named. The “key fingerprint”
is a shorter version of a public key.</p>
<p>Now that we have generated the SSH keys, we will find the SSH files
when we check.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-al</span> ~/.ssh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>drwxr-xr-x 1 Alfredo   197121   0 Jul 16 14:48 ./
drwxr-xr-x 1 Alfredo   197121   0 Jul 16 14:48 ../
-rw-r--r-- 1 Alfredo   197121 419 Jul 16 14:48 id_ed25519
-rw-r--r-- 1 Alfredo   197121 106 Jul 16 14:48 id_ed25519.pub</code></pre>
</div>
<p> </p>
</div>
</div>
<div class="section level3">
<h3 id="copy-the-public-key-to-gitlab">Copy the public key to GitLab<a class="anchor" aria-label="anchor" href="#copy-the-public-key-to-gitlab"></a>
</h3>
<p>Now we have a SSH key pair and we can run this command to check if
GitLab can read our authentication.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">ssh</span> <span class="at">-T</span> git@gitlab.tudelft.nl</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The authenticity of host 'gitlab.tudelft.nl (192.30.255.112)' can't be established. RSA key fingerprint
is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8. This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? y
Please type 'yes', 'no' or the fingerprint: yes
Warning: Permanently added 'gitlab.tudelft.nl' (RSA) to the list of known hosts.
git@gitlab.tudelft.nl: Permission denied (publickey).</code></pre>
</div>
<p>Right, we forgot that we need to give GitLab our public key!</p>
<p>First, we need to copy the public key. Be sure to include the
<code>.pub</code> at the end, otherwise you’re looking at the private
key.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">cat</span> ~/.ssh/id_ed25519.pub</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDmRA3d51X0uu9wXek559gfn6UFNF69yZjChyBIU2qKI a.linguini@ratatouille.fr</code></pre>
</div>
<p>Now, going to the GitLab page in your browser, click on your profile
icon in the top right corner of the left panel, then click on the
<code>SSH Keys</code> link under <code>User Settings</code> in the same
panel:</p>
<figure><img src="fig/gitlab_ssh_keys.jpg" alt="The SSH Keys page in GitLab" class="figure mx-auto d-block"></figure><p>Click on the <code>Add new key</code> button, which will take you to
a page like this:</p>
<figure><img src="fig/gitlab_add_new_key.jpg" alt="Adding a new key in GitLab" class="figure mx-auto d-block"></figure><p>Here, you can paste your public key in the <code>Key</code> box, add
a title, and set an expiration date. Once everything is filled in, you
can click the <code>Add key</code> button.</p>
<p>Now that we’ve set that up, let’s check our authentication again from
the command line.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> ssh <span class="at">-T</span> git@gitlab.tudelft.nl</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Welcome to GitLab, @alflin!</code></pre>
</div>
<p>Good! This output confirms that the SSH key works as intended. We are
now ready to push our work to the remote repository.</p>
<p> </p>
</div>
<div class="section level3">
<h3 id="push-local-changes-to-a-remote">Push local changes to a remote<a class="anchor" aria-label="anchor" href="#push-local-changes-to-a-remote"></a>
</h3>
<p>Now that authentication is setup, we can return to the remote. This
command will push the changes from our local repository to the
repository on GitLab:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Enumerating objects: 16, done.
Counting objects: 100% (16/16), done.
Delta compression using up to 8 threads.
Compressing objects: 100% (11/11), done.
Writing objects: 100% (16/16), 1.45 KiB | 372.00 KiB/s, done.
Total 16 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), done.
To https://gitlab.tudelft.nl/alflin/recipes.git
 * [new branch]      main -&gt; main</code></pre>
</div>
<p>Our local and remote repositories are now in this state:</p>
<figure><img src="fig/github-repo-after-first-push.svg" alt="GitLab repo after first push" class="figure mx-auto d-block"></figure><p>We can pull changes from the remote repository to the local one as
well:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> git pull origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>From https://gitlab.tudelft.nl/alflin/recipes
 * branch            main     -&gt; FETCH_HEAD
Already up-to-date.</code></pre>
</div>
<p>Pulling has no effect in this case because the two repositories are
already synchronized. If someone else had pushed some changes to the
repository on GitLab, though, this command would download them to our
local repository.</p>
</div>
</section><section><h2 class="section-heading" id="addingremoving-project-members">Adding/Removing Project Members<a class="anchor" aria-label="anchor" href="#addingremoving-project-members"></a>
</h2>
<hr class="half-width">
<p>So far, each of you has created a GitLab project that no one but you
can contribute to; depending on the visibility setting, no one but you
might be able to even see it.</p>
<p>Git and GitLab can be and is used for one-person projects. But we
want our colleagues to contribute to our recipes collection. To achieve
this, we will grant others access to our GitLab project.</p>
<p>Using the menu on the left side of the project homepage (or nearly
any other project page), we navigate to the project members page
hovering over or clicking on “Manage” and then clicking on “Members” in
the submenu. The project member page should look similar to the
following screenshot:</p>
<figure><img src="fig/gitlab-initial-members.jpg" alt="Project Members page" class="figure mx-auto d-block"><div class="figcaption">Project members page</div>
</figure><p>On the page we can see the page title, “Project members”, three
buttons to the left of the title, and a filterable table of members,
currently only listing ourselves.</p>
<p>The table shows our full name and account name, why we are a member
of this project, what our maximum role is–more on that in a bit–, when
we got access—at the moment we created the project—, a disabled
membership expiration date widget, and three dates on our activity.</p>
<p>For practice we will all add an instructor to our project and remove
them again right away, as shown in the picture below:</p>
<figure><img src="fig/gitlab_add_member.jpg" alt="Adding a new member to your GitLab project" class="figure mx-auto d-block"></figure><p>Click the button labeled “Invite members”, type in the username your
instructors provided you with into the search field, make sure that
“Guest” is selected as a role, and click the button labeled
“Invite”.</p>
<p>Your instructor should now be listed next to you in the table. Unlike
in your own row, you can change the role and the expiration date of this
new entry.</p>
<div id="project-member-roles" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="project-member-roles" class="callout-inner">
<h3 class="callout-title">Project member roles</h3>
<div class="callout-content">
<p>In GitLab, every project member is assigned a role that defines their
level of access and available actions within the project. Common roles
include <strong>Guest</strong>, <strong>Developer</strong>, and
<strong>Owner</strong>. Each role comes with specific permissions — for
example, <strong>Maintainers</strong> can push code, while
<strong>Owners</strong> have full control over the project. Choosing the
right role ensures proper collaboration while protecting critical
project settings. You can consult GitLab’s handbook for a detailed <a href="https://docs.gitlab.com/ee/user/permissions.html" class="external-link">overview</a> of
the different roles’ permissions. The following roles are commonly used
in GitLab software projects:</p>
<ul>
<li>
<strong>Guest</strong>
<ul>
<li>Can view project files, and read issues and comments</li>
<li>Cannot push git commits</li>
<li>Ideal for external stakeholders or casual viewers</li>
</ul>
</li>
<li>
<strong>Maintainer</strong>
<ul>
<li>Can push git commits</li>
<li>Can manage advanced git and project workflows, such as branches and
pipelines</li>
<li>Cannot delete the project</li>
</ul>
</li>
<li>
<strong>Owner</strong>
<ul>
<li>Full control over everything in the project</li>
<li>Can manage settings, members, and even delete the project</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<p>The owner of the project can add as well as remove project members.
Removing project members is done from the members list like this:</p>
<figure><img src="fig/gitlab_remove_member.jpg" alt="Removing project members" class="figure mx-auto d-block"><div class="figcaption">Removing project members</div>
</figure><div id="adding-project-members" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="adding-project-members" class="callout-inner">
<h3 class="callout-title">Adding project members</h3>
<div class="callout-content">
<p>Get into pairs and add each other with the role “Maintainer” to your
projects, and set the expiration for this membership to one month from
now.</p>
<p>The “Maintainer” role grants just enough permissions for all the
collaborative tasks we will practice in this lesson.</p>
<p>This exercise should take about 3 minutes.</p>
</div>
</div>
</div>
<p>     </p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Projects are GitLab’s primary entity of organization.</li>
<li>You can explore/search projects visible to you on the “Explore
projects” page.</li>
<li>Groups can contain projects and other groups.</li>
<li>You can explore/search groups visible to you on the ”Explore groups”
page.</li>
<li>Creating a GitLab project requires not more than a few clicks and
providing a name.</li>
<li>A project’s visibility can be set to either private, internal, or
public.</li>
<li>Adding others as members allows them to directly contribute to your
projects</li>
<li>Members with sufficient rights can independently contribute to
repositories</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-advanced-git-commands"><p>Content from <a href="advanced-git-commands.html">Advanced Git Commands</a></p>
<hr>
<p>Last updated on 2025-03-06 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/advanced-git-commands.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I use version control to collaborate with other people?</li>
<li>What do I do when my changes conflict with someone else’s?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Clone a remote repository.</li>
<li>Describe the basic collaborative workflow: pushing changes to a
common repository.</li>
<li>Explain what conflicts are, when they can occur, and how we can sole
them.</li>
<li>Look at Git branches, and show how they can be managed/merged
through GitLab <em>merge requests</em>.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="collaborating">Collaborating<a class="anchor" aria-label="anchor" href="#collaborating"></a>
</h2>
<hr class="half-width">
<p>For the next step, get into pairs. One person will be the “Owner” and
the other will be the “Collaborator”. The goal is that the Collaborator
add changes into the Owner’s repository. We will switch roles at the
end, so both persons will play Owner and Collaborator.</p>
<div id="practicing-by-yourself" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="practicing-by-yourself" class="callout-inner">
<h3 class="callout-title">Practicing By Yourself</h3>
<div class="callout-content">
<p>If you’re working through this lesson on your own, you can carry on
by opening a second terminal window. This window will represent your
partner, working on another computer. You won’t need to give anyone
access on GitLab, because both ‘partners’ are you.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="adding-collaborators-to-your-gitlab-repo">Adding collaborators to your GitLab repo<a class="anchor" aria-label="anchor" href="#adding-collaborators-to-your-gitlab-repo"></a>
</h3>
<p>In case you have not done this already, revisit what you have just
learned in the last hour and add your Collaborator to your GitLab
recipes project, giving them a “Maintainer” role, which should give them
enough rights to complete all the collaborative workflows we will
practice today.</p>
</div>
<div class="section level3">
<h3 id="cloning-a-remote-gitlab-repo">Cloning a remote GitLab repo<a class="anchor" aria-label="anchor" href="#cloning-a-remote-gitlab-repo"></a>
</h3>
<p>Next, the Collaborator needs to download a copy of the Owner’s
repository to her machine. This is called “cloning a repo”.</p>
<p>The Collaborator doesn’t want to overwrite her own version of
<code>recipes.git</code>, so needs to clone the Owner’s repository to a
different location than her own repository with the same name.</p>
<p>To clone the Owner’s repo into her <code>projects</code> folder, the
Collaborator enters:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> git clone git@gitlab.tudelft.nl:alflin/recipes.git ~/projects/alflin-recipes</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Cloning into 'recipes'...
remote: Enumerating objects: 18, done.
remote: Counting objects: 100% (18/18), done.
remote: Compressing objects: 100% (15/15), done.
remote: Total 18 (delta 4), reused 0 (delta 0), pack-reused 0 (from 0)
Receiving objects: 100% (18/18), 4.17 KiB | 2.09 MiB/s, done.
Resolving deltas: 100% (4/4), done.</code></pre>
</div>
<p>Replace ‘alflin’ with the Owner’s username.</p>
<p>If you choose to clone without the clone path
(<code>~/projects/alflin-recipes</code>) specified at the end, you will
clone inside your own recipes folder! Make sure to navigate to the
<code>projects</code> folder first.</p>
<figure><img src="fig/gitlab-collaboration.svg" alt='A diagram showing that "git clone" can create a copy of a remote GitLab repository, allowing a second person to create their own local repository that they can make changes to.' class="figure mx-auto d-block"></figure>
</div>
<div class="section level3">
<h3 id="making-changes">Making changes<a class="anchor" aria-label="anchor" href="#making-changes"></a>
</h3>
<p>The Collaborator can now make a change in her clone of the Owner’s
repository, exactly the same way as we’ve been doing before:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> cd ~/projects/alflin-recipes</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">$</span> nano hummus.md</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="ex">$</span> cat hummus.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Hummus
## Ingredients
* chickpeas
* lemon
* olive oil
* salt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> git add hummus.md</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add ingredients for hummus"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> 1 file changed, 6 insertion(+)
 create mode 100644 hummus.md</code></pre>
</div>
<p>Then push the change to the <em>Owner’s repository</em> on
GitLab:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Enumerating objects: 4, done.
Counting objects: 4, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 306 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To gitlab.tudelft.nl:alflin/recipes.git
   9272da5..29aba7c  main -&gt; main</code></pre>
</div>
<p>Note that we didn’t have to create a remote called
<code>origin</code>: Git uses this name by default when we clone a
repository. (This is why <code>origin</code> was a sensible choice
earlier when we were setting up remotes by hand.)</p>
<p>Take a look at the Owner’s repository on GitLab again, and you should
be able to see the new commit made by the Collaborator. You may need to
refresh your browser to see the new commit.</p>
</div>
<div class="section level3">
<h3 id="sync-ing-changes-made-by-collaborators">Sync-ing changes made by collaborators<a class="anchor" aria-label="anchor" href="#sync-ing-changes-made-by-collaborators"></a>
</h3>
<p>To download the Collaborator’s changes from GitLab, the Owner now
enters:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> git pull origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>remote: Enumerating objects: 4, done.
remote: Counting objects: 100% (4/4), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
From gitlab.tudelft.nl:alflin/recipes
 * branch            main     -&gt; FETCH_HEAD
   9272da5..29aba7c  main     -&gt; origin/main
Updating 9272da5..29aba7c
Fast-forward
 hummus.md | 5 +
 1 file changed, 5 insertion(+)
 create mode 100644 hummus.md</code></pre>
</div>
<p>Now the three repositories (Owner’s local, Collaborator’s local, and
Owner’s on GitLab) are back in sync.</p>
<div id="a-basic-collaborative-workflow" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="a-basic-collaborative-workflow" class="callout-inner">
<h3 class="callout-title">A Basic Collaborative Workflow</h3>
<div class="callout-content">
<p>In practice, it is good to be sure that you have an updated version
of the repository you are collaborating on, so you should
<code>git pull</code> before making our changes. The basic collaborative
workflow would be:</p>
<ul>
<li>update your local repo with <code>git pull origin main</code>,</li>
<li>make your changes and stage them with <code>git add</code>,</li>
<li>commit your changes with <code>git commit -m</code>, and</li>
<li>upload the changes to GitLab with
<code>git push origin main</code>
</li>
</ul>
<p>It is better to make many commits with smaller changes rather than of
one commit with massive changes: small commits are easier to read and
review.</p>
</div>
</div>
</div>
<div id="switch-roles-and-repeat" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="switch-roles-and-repeat" class="callout-inner">
<h3 class="callout-title">Switch Roles and Repeat</h3>
<div class="callout-content">
<p>Switch roles and repeat the whole process.</p>
</div>
</div>
</div>
<div id="review-changes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="review-changes" class="callout-inner">
<h3 class="callout-title">Review Changes</h3>
<div class="callout-content">
<p>The Owner pushed commits to the repository without giving any
information to the Collaborator. How can the Collaborator find out what
has changed with command line? And on GitLab?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>On the command line, the Collaborator can use
<code>git fetch origin main</code> to get the remote changes into the
local repository, but without merging them. Then by running
<code>git diff main origin/main</code> the Collaborator will see the
changes output in the terminal.</p>
<p>On GitLab, the Collaborator can go to the project and click on the
“Code” menu on the left panel, and from there select the “Commits”
option. This will open a new page on the right panel, showing the
commits history for that project. By clicking on such a commit, the user
can see the changes made per file, which will be highlighted by GitLab
as shown below.</p>
<figure><img src="fig/commit_changes_gitlab.jpg" alt="Reviewing commit changes in GitLab" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="comment-changes-in-gitlab" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="comment-changes-in-gitlab" class="callout-inner">
<h3 class="callout-title">Comment Changes in GitLab</h3>
<div class="callout-content">
<p>The Collaborator has some questions about one line change made by the
Owner and has some suggestions to propose.</p>
<p>With GitLab, it is possible to comment on a commit. Over the line of
code to comment, a blue comment icon appears to open a comment window.
In that window, the Collaborator can post their comments. When a comment
is posted, GitLab will inform the author of the commit about it by
email, and then the author can address the comment using the same GitLab
web interface.</p>
<figure><img src="fig/commit_changes_comment_gitlab.jpg" alt="Commenting on commit changes in GitLab" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="solving-conflicts">Solving Conflicts<a class="anchor" aria-label="anchor" href="#solving-conflicts"></a>
</h2>
<hr class="half-width">
<p>As soon as people can work in parallel, they’ll likely step on each
other’s toes. This will even happen with a single person: if we are
working on a piece of software on both our laptop and a server in the
lab, we could make different changes to each copy. Version control helps
us manage these <a href="reference.html#conflict">conflicts</a> by
giving us tools to <a href="reference.html#resolve">resolve</a>
overlapping changes.</p>
<p>To see how we can resolve conflicts, we must first create one. The
file <code>guacamole.md</code> currently looks like this in both
partners’ copies of our <code>recipes</code> repository:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions</code></pre>
</div>
<p>Let’s add a line to the collaborator’s copy only:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions
* put one avocado into a bowl.</code></pre>
</div>
<p>and then push the change to GitLab:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"First step on the instructions"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 5ae9631] First step on the instructions
 1 file changed, 1 insertion(+)</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 331 bytes | 331.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To gitlab.tudelft.nl:alflin/recipes.git
   29aba7c..dabb4c8  main -&gt; main</code></pre>
</div>
<p>Now let’s have the owner make a different change to their copy
<em>without</em> updating from GitLab:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> nano guacamole.md</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions
* peel the avocados</code></pre>
</div>
<p>We can commit the change locally:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add first step"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 07ebc69] Add first step
 1 file changed, 1 insertion(+)</code></pre>
</div>
<p>but Git won’t let us push it to GitLab:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>To https://gitlab.tudelft.nl/alflin/recipes.git
 ! [rejected]        main -&gt; main (fetch first)
error: failed to push some refs to 'https://gitlab.tudelft.nl:alflin/recipes.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.</code></pre>
</div>
<figure><img src="fig/conflict.svg" alt="A diagram showing a conflict that might occur when two sets of independent changes are merged" class="figure mx-auto d-block"></figure><div id="telling-git-how-to-solve-conflicts" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="telling-git-how-to-solve-conflicts" class="callout-inner">
<h3 class="callout-title">Telling Git how to solve conflicts</h3>
<div class="callout-content">
<p>If you see the below in your output, Git is asking what it should
do.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>hint: You have divergent branches and need to specify how to reconcile them.
hint: You can do so by running one of the following commands sometime before
hint: your next pull:
hint:
hint:   git config pull.rebase false  # merge (the default strategy)
hint:   git config pull.rebase true   # rebase
hint:   git config pull.ff only       # fast-forward only
hint:
hint: You can replace "git config" with "git config --global" to set a default
hint: preference for all repositories. You can also pass --rebase, --no-rebase,
hint: or --ff-only on the command line to override the configured default per
hint: invocation.</code></pre>
</div>
<p>In newer versions of Git it gives you the option of specifying
different behaviours when a pull would merge divergent branches. In our
case we want ‘the default strategy’. To use this strategy run the
following command to select it as the default thing git should do.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> git config pull.rebase false</span></code></pre>
</div>
<p>Then attempt the pull again.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> git pull origin main</span></code></pre>
</div>
</div>
</div>
</div>
<p>The <code>git pull</code> command updates the local repository to
include those changes already included in the remote repository. After
the changes from remote branch have been fetched, Git detects that
changes made to the local copy overlap with those made to the remote
repository, and therefore refuses to merge the two versions to stop us
from trampling on our previous work. The conflict is marked in in the
affected file:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
* peel the avocados
=======
* put one avocado into a bowl.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; dabb4c8c450e8475aee9b14b4383acc99f42af1d</code></pre>
</div>
<p>Our change is preceded by
<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>. Git has then inserted
<code>=======</code> as a separator between the conflicting changes and
marked the end of the content downloaded from GitLab with
<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>. (The string of letters and
digits after that marker identifies the commit we’ve just
downloaded.)</p>
<p>It is now up to us to edit this file to remove these markers and
reconcile the changes. We can do anything we want: keep the change made
in the local repository, keep the change made in the remote repository,
write something new to replace both, or get rid of the change entirely.
Let’s replace both so that the file looks like this:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions
* peel the avocados and put them into a bowl.</code></pre>
</div>
<p>To finish merging, we add <code>guacamole.md</code> to the changes
being made by the merge and then commit:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
All conflicts fixed but you are still merging.
  (use "git commit" to conclude merge)

Changes to be committed:

	modified:   guacamole.md
</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Merge changes from GitLab"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 2abf2b1] Merge changes from GitLab</code></pre>
</div>
<p>Now we can push our changes to GitLab:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Enumerating objects: 10, done.
Counting objects: 100% (10/10), done.
Delta compression using up to 8 threads
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 645 bytes | 645.00 KiB/s, done.
Total 6 (delta 4), reused 0 (delta 0)
remote: Resolving deltas: 100% (4/4), completed with 2 local objects.
To https://gitlab.tudelft.nl:alflin/recipes.git
   dabb4c8..2abf2b1  main -&gt; main</code></pre>
</div>
<p>Git keeps track of what we’ve merged with what, so we don’t have to
fix things by hand again when the collaborator who made the first change
pulls again:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> git pull origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>remote: Enumerating objects: 10, done.
remote: Counting objects: 100% (10/10), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 6 (delta 4), reused 6 (delta 4), pack-reused 0
Unpacking objects: 100% (6/6), done.
From https://gitlab.tudelft.nl:alflin/recipes.git
 * branch            main     -&gt; FETCH_HEAD
    dabb4c8..2abf2b1  main     -&gt; origin/main
Updating dabb4c8..2abf2b1
Fast-forward
 guacamole.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)</code></pre>
</div>
<p>We get the merged file:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> cat guacamole.md</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Guacamole
## Ingredients
* avocado
* lime
* salt
## Instructions
* peel the avocados and put them into a bowl.</code></pre>
</div>
<p>We don’t need to merge again because Git knows someone has already
done that.</p>
<div class="section level3">
<h3 id="how-to-minimize-the-chance-of-conflicts">How to minimize the chance of conflicts<a class="anchor" aria-label="anchor" href="#how-to-minimize-the-chance-of-conflicts"></a>
</h3>
<p>Git’s ability to resolve conflicts is very useful, but conflict
resolution costs time and effort, and can introduce errors if conflicts
are not resolved correctly. If you find yourself resolving a lot of
conflicts in a project, consider these technical approaches to reducing
them:</p>
<ul>
<li>Pull from upstream more frequently, especially before starting new
work</li>
<li>Use topic branches to segregate work, merging to main when
complete</li>
<li>Make smaller more atomic commits</li>
<li>Push your work when it is done and encourage your team to do the
same to reduce work in progress and, by extension, the chance of having
conflicts</li>
<li>Where logically appropriate, break large files into smaller ones so
that it is less likely that two authors will alter the same file
simultaneously</li>
</ul>
<p>Conflicts can also be minimized with project management
strategies:</p>
<ul>
<li>Clarify who is responsible for what areas with your
collaborators</li>
<li>Discuss what order tasks should be carried out in with your
collaborators so that tasks expected to change the same lines won’t be
worked on simultaneously</li>
<li>If the conflicts are stylistic churn (e.g. tabs vs. spaces),
establish a project convention that is governing and use code style
tools (e.g. <code>htmltidy</code>, <code>perltidy</code>,
<code>rubocop</code>, etc.) to enforce, if necessary</li>
</ul>
<div id="solving-conflicts-that-you-create" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="solving-conflicts-that-you-create" class="callout-inner">
<h3 class="callout-title">Solving Conflicts that You Create</h3>
<div class="callout-content">
<p>Clone the repository created by your instructor. Add a new file to
it, and modify an existing file (your instructor will tell you which
one). When asked by your instructor, pull her changes from the
repository to create a conflict, then resolve it.</p>
</div>
</div>
</div>
<div id="conflicts-on-non-textual-files" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="conflicts-on-non-textual-files" class="callout-inner">
<h3 class="callout-title">Conflicts on Non-textual files</h3>
<div class="callout-content">
<p>What does Git do when there is a conflict in an image or some other
non-textual file that is stored in version control?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Let’s try it. Suppose Alfredo takes a picture of its guacamole and
calls it <code>guacamole.jpg</code>.</p>
<p>If you do not have an image file of guacamole available, you can
create a dummy binary file like this:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">--bytes</span> 1024 /dev/urandom <span class="op">&gt;</span> guacamole.jpg</span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-lh</span> guacamole.jpg</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rw-r--r-- 1 alflin 57095 1.0K Mar  8 20:24 guacamole.jpg</code></pre>
</div>
<p><code>ls</code> shows us that this created a 1-kilobyte file. It is
full of random bytes read from the special file,
<code>/dev/urandom</code>.</p>
<p>Now, suppose Alfredo adds <code>guacamole.jpg</code> to his
repository:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.jpg</span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Add picture of guacamole"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 8e4115c] Add picture of guacamole
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 guacamole.jpg</code></pre>
</div>
<p>Suppose that Jimmy has added a similar picture in the meantime. His
is a picture of a guacamole with nachos, but it is <em>also</em> called
<code>guacamole.jpg</code>. When Alfredo tries to push, he gets a
familiar message:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>To https://gitlab.tudelft.nl/alflin/recipes.git
 ! [rejected]        main -&gt; main (fetch first)
error: failed to push some refs to 'https://gitlab.tudelft.nl:alflin/recipes.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.</code></pre>
</div>
<p>We’ve learned that we must pull first and resolve any conflicts:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> git pull origin main</span></code></pre>
</div>
<p>When there is a conflict on an image or other binary file, git prints
a message like this:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$ git pull origin main
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
Unpacking objects: 100% (3/3), done.
From https://gitlab.tudelft.nl:alflin/recipes.git
 * branch            main     -&gt; FETCH_HEAD
   6a67967..439dc8c  main     -&gt; origin/main
warning: Cannot merge binary files: guacamole.jpg (HEAD vs. 439dc8c08869c342438f6dc4a2b615b05b93c76e)
Auto-merging guacamole.jpg
CONFLICT (add/add): Merge conflict in guacamole.jpg
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
<p>The conflict message here is mostly the same as it was for
<code>guacamole.md</code>, but there is one key additional line:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>warning: Cannot merge binary files: guacamole.jpg (HEAD vs. 439dc8c08869c342438f6dc4a2b615b05b93c76e)</code></pre>
</div>
<p>Git cannot automatically insert conflict markers into an image as it
does for text files. So, instead of editing the image file, we must
check out the version we want to keep. Then we can add and commit this
version.</p>
<p>On the key line above, Git has conveniently given us commit
identifiers for the two versions of <code>guacamole.jpg</code>. Our
version is <code>HEAD</code>, and Jimmy’s version is
<code>439dc8c0...</code>. If we want to use our version, we can use
<code>git checkout</code>:</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="ex">$</span> git checkout HEAD guacamole.jpg</span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a><span class="ex">$</span> git add guacamole.jpg</span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Use image of just guacamole instead of with nachos"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 21032c3] Use image of just guacamole instead of with nachos</code></pre>
</div>
<p>If instead we want to use Jimmy’s version, we can use
<code>git checkout</code> with Jimmy’s commit identifier,
<code>439dc8c0</code>:</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="ex">$</span> git checkout 439dc8c0 guacamole.jpg</span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="ex">$</span> git add guacamole.jpg</span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Use image of guacamole with nachos instead of just guacamole"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main da21b34] Use image of guacamole with nachos instead of just guacamole</code></pre>
</div>
<p>We can also keep <em>both</em> images. The catch is that we cannot
keep them under the same name. But, we can check out each version in
succession and <em>rename</em> it, then add the renamed versions. First,
check out each image and rename it:</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">$</span> git checkout HEAD guacamole.jpg</span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="ex">$</span> git mv guacamole.jpg guacamole-only.jpg</span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a><span class="ex">$</span> git checkout 439dc8c0 guacamole.jpg</span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a><span class="ex">$</span> mv guacamole.jpg guacamole-nachos.jpg</span></code></pre>
</div>
<p>Then, remove the old <code>guacamole.jpg</code> and add the two new
files:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="ex">$</span> git rm guacamole.jpg</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="ex">$</span> git add guacamole-only.jpg</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="ex">$</span> git add guacamole-nachos.jpg</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Use two images: just guacamole and with nachos"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main 94ae08c] Use two images: just guacamole and with nachos
 2 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 guacamole-nachos.jpg
 rename guacamole.jpg =&gt; guacamole-only.jpg (100%)</code></pre>
</div>
<p>Now both images of guacamole are checked into the repository, and
<code>guacamole.jpg</code> no longer exists.</p>
</div>
</div>
</div>
</div>
<div id="a-typical-work-session" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="a-typical-work-session" class="callout-inner">
<h3 class="callout-title">A Typical Work Session</h3>
<div class="callout-content">
<p>You sit down at your computer to work on a shared project that is
tracked in a remote Git repository. During your work session, you take
the following actions, but not in this order:</p>
<ul>
<li>
<em>Make changes</em> by appending the number <code>100</code> to a
text file <code>numbers.txt</code>
</li>
<li>
<em>Update remote</em> repository to match the local repository</li>
<li>
<em>Celebrate</em> your success with some fancy beverage(s)</li>
<li>
<em>Update local</em> repository to match the remote repository</li>
<li>
<em>Stage changes</em> to be committed</li>
<li>
<em>Commit changes</em> to the local repository</li>
</ul>
<p>In what order should you perform these actions to minimize the
chances of conflicts? Put the commands above in order in the
<em>action</em> column of the table below. When you have the order
right, see if you can write the corresponding commands in the
<em>command</em> column. A few steps are populated to get you
started.</p>
<table class="table">
<colgroup>
<col width="6%">
<col width="34%">
<col width="59%">
</colgroup>
<thead><tr class="header">
<th>order</th>
<th>action . . . . . . . . . .</th>
<th>command . . . . . . . . . .</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td></td>
<td><code>echo 100 &gt;&gt; numbers.txt</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>4</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>5</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>6</td>
<td>Celebrate!</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<table class="table">
<colgroup>
<col width="6%">
<col width="34%">
<col width="59%">
</colgroup>
<thead><tr class="header">
<th>order</th>
<th>action . . . . . .</th>
<th>command . . . . . . . . . . . . . . . . . . .</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Update local</td>
<td><code>git pull origin main</code></td>
</tr>
<tr class="even">
<td>2</td>
<td>Make changes</td>
<td><code>echo 100 &gt;&gt; numbers.txt</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Stage changes</td>
<td><code>git add numbers.txt</code></td>
</tr>
<tr class="even">
<td>4</td>
<td>Commit changes</td>
<td><code>git commit -m "Add 100 to numbers.txt"</code></td>
</tr>
<tr class="odd">
<td>5</td>
<td>Update remote</td>
<td><code>git push origin main</code></td>
</tr>
<tr class="even">
<td>6</td>
<td>Celebrate!</td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="git-branches">Git Branches<a class="anchor" aria-label="anchor" href="#git-branches"></a>
</h2>
<hr class="half-width">
<p>When we do <code>git status</code>, Git also tells us that we are
currently on the <code>main</code> branch of the project. A branch is
one version of your project (the files in your repository) that can
contain its own set of commits. We can create a new branch, make changes
to the code which we then commit to the branch, and, once we are happy
with those changes, merge them back to the main branch. To see what
other branches are available, do:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="ex">$</span> git branch</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>* main</code></pre>
</div>
<p>At the moment, there is only one branch (<code>main</code>) and hence
only one version of the code available. When you create a Git repository
for the first time, by default you only get one version (i.e. branch) -
<code>main</code>. Let us have a look at why having different branches
might be useful.</p>
<p> </p>
<div class="section level3">
<h3 id="feature-branch-software-development-workflow">Feature Branch Software Development Workflow<a class="anchor" aria-label="anchor" href="#feature-branch-software-development-workflow"></a>
</h3>
<p>While it is technically OK to commit your changes directly to
<code>main</code> branch, and you may often find yourself doing so for
some minor changes, the best practice is to use a new branch for each
separate and self-contained unit/piece of work you want to add to the
project. This unit of work is also often called a <em>feature</em> and
the branch where you develop it is called a <em>feature branch</em>.
Each feature branch should have its own meaningful name - indicating its
purpose (e.g. “issue23-fix”). If we keep making changes and pushing them
directly to <code>main</code> branch on GitLab, then anyone who
downloads our software from there will get all of our work in progress -
whether or not it is ready to use! So, working on a separate branch for
each feature you are adding is good for several reasons:</p>
<ul>
<li>it enables the main branch to remain stable while you and the team
explore and test the new code on a feature branch,</li>
<li>it enables you to keep the untested and not-yet-functional feature
branch code under version control and backed up,</li>
<li>you and other team members may work on several features at the same
time independently from one another, and</li>
<li>if you decide that the feature is not working or is no longer needed
- you can easily and safely discard that branch without affecting the
rest of the code.</li>
</ul>
<p>Branches are commonly used as part of a feature-branch workflow,
shown in the diagram below.</p>
<figure><img src="fig/git-feature-branch.svg" class="image-with-shadow figure mx-auto d-block" alt="Git feature branch workflow diagram" width="800"></figure><p style="text-align: center;">
Git feature branches<br> Adapted from
<a href="https://sillevl.gitbooks.io/git/content/collaboration/workflows/gitflow/" target="_blank" class="external-link">Git
Tutorial by sillevl</a> (Creative Commons Attribution 4.0 International
License)
</p>
<p>In the software development workflow, we typically have a main branch
which is the version of the code that is tested, stable and reliable.
Then, we normally have a development branch (called <code>develop</code>
or <code>dev</code> by convention) that we use for work-in-progress
code. As we work on adding new features to the code, we create new
feature branches that first get merged into <code>develop</code> after a
thorough testing process. After even more testing - <code>develop</code>
branch will get merged into <code>main</code>. The points when feature
branches are merged to <code>develop</code>, and <code>develop</code> to
<code>main</code> depend entirely on the practice/strategy established
in the team. For example, for smaller projects (e.g. if you are working
alone on a project or in a very small team), feature branches sometimes
get directly merged into <code>main</code> upon testing, skipping the
<code>develop</code> branch step. In other projects, the merge into
<code>main</code> happens only at the point of making a new software
release. Whichever is the case for you, a good rule of thumb is -
<strong>nothing that is broken should be in
<code>main</code></strong>.</p>
<p> </p>
</div>
<div class="section level3">
<h3 id="creating-branches">Creating Branches<a class="anchor" aria-label="anchor" href="#creating-branches"></a>
</h3>
<p>Let us create a <code>develop</code> branch to work on:</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="ex">$</span> git branch develop</span></code></pre>
</div>
<p>This command does not give any output, but if we run
<code>git branch</code> again, without giving it a new branch name, we
can see the list of branches we have - including the new one we have
just made.</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="ex">$</span> git branch</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    develop
  * main</code></pre>
</div>
<p>The <code>*</code> indicates the currently active branch. So how do
we switch to our new branch? We use the <code>git switch</code> command
with the name of the branch:</p>
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="ex">$</span> git switch develop</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Switched to branch 'develop'</code></pre>
</div>
<div id="git-switch-vs-git-checkout" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="git-switch-vs-git-checkout" class="callout-inner">
<h3 class="callout-title">‘git switch’ vs ‘git checkout’</h3>
<div class="callout-content">
<p>The original way of switching branches in Git was using
<code>git checkout &lt;branch&gt;</code> — and you may still find such
examples online. However, <code>git checkout</code> had multiple roles
(was also used to restore versions of a file for example), making it
confusing. To simplify things, starting with version <em>2.23</em> Git
has introduced the <code>git switch</code>, command which is dedicated
for branch changes. Use <code>git switch &lt;branch&gt;</code> for
switching branches and <code>git checkout -- &lt;file&gt;</code> to
restore files.</p>
</div>
</div>
</div>
<div id="create-and-switch-to-branch-shortcut" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="create-and-switch-to-branch-shortcut" class="callout-inner">
<h3 class="callout-title">Create and Switch to Branch Shortcut</h3>
<div class="callout-content">
<p>A shortcut to create a new branch and immediately switch to it:</p>
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="ex">$</span> git switch <span class="at">-c</span> develop</span></code></pre>
</div>
</div>
</div>
</div>
<p> </p>
</div>
<div class="section level3">
<h3 id="updating-branches">Updating Branches<a class="anchor" aria-label="anchor" href="#updating-branches"></a>
</h3>
<p>If we start updating and committing files now, the commits will
happen on the <code>develop</code> branch and will not affect the
version of the code in <code>main</code>. We add and commit things to
<code>develop</code> branch in the same way as we do to
<code>main</code>.</p>
<p>Let us make a small modification to <code>guacamole.md</code> and,
say, change <em>“peel the avocados”</em> to <em>“Peel the avocados”</em>
to see updating branches in action.</p>
<p>If we do:</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="ex">$</span> git status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   On branch develop
   Changes not staged for commit:
     (use "git add &lt;file&gt;..." to update what will be committed)
     (use "git restore &lt;file&gt;..." to discard changes in working directory)

   	modified:   guacamole.md

   no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
<p>Git is telling us that we are on branch <code>develop</code> and
which tracked files have been modified in our working directory.</p>
<p>We can now <code>add</code> and <code>commit</code> the changes in
the usual way.</p>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="ex">$</span> git add guacamole.md</span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a><span class="ex">$</span> git commit <span class="at">-m</span> <span class="st">"Capitalization fix"</span></span></code></pre>
</div>
<div id="currently-active-branch" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="currently-active-branch" class="callout-inner">
<h3 class="callout-title">Currently Active Branch</h3>
<div class="callout-content">
<p>Remember, <code>add</code> and <code>commit</code> commands always
act on the currently active branch. You have to be careful and aware of
which branch you are working with at any given moment.
<code>git status</code> can help with that, and you will find yourself
invoking it very often.</p>
</div>
</div>
</div>
<p> </p>
</div>
<div class="section level3">
<h3 id="pushing-new-branch-remotely">Pushing New Branch Remotely<a class="anchor" aria-label="anchor" href="#pushing-new-branch-remotely"></a>
</h3>
<p>We push the contents of the <code>develop</code> branch to GitLab in
the same way as we pushed the <code>main</code> branch. However, as we
have just created this branch locally, it still does not exist in our
remote repository. You can check that in GitLab by listing all
branches.</p>
<figure><img src="fig/gitlab-main-branch.jpg" class="image-with-shadow figure mx-auto d-block" alt="Software project's main branch" width="600"></figure><p>To push a new local branch remotely for the first time, you could use
the <code>-u</code> flag and the name of the branch you are creating and
pushing to:</p>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="ex">$</span> git push <span class="at">-u</span> origin develop</span></code></pre>
</div>
<div id="git-push-with--u-flag" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="git-push-with--u-flag" class="callout-inner">
<h3 class="callout-title">Git Push With <code>-u</code> Flag</h3>
<div class="callout-content">
<p>Using the <code>-u</code> switch with the <code>git push</code>
command is a handy shortcut for: (1) creating the new remote branch and
(2) setting your local branch to automatically track the remote one at
the same time. You need to use the <code>-u</code> switch only once to
set up that association between your branch and the remote one
explicitly. After that you could simply use <code>git push</code>
without specifying the remote repository, if you wished so. We still
prefer to explicitly state this information in commands.</p>
</div>
</div>
</div>
<p>Let us confirm that the new branch <code>develop</code> now exist
remotely on GitLab too. From your repository main page in GitLab, click
the branch dropdown menu (currently showing the default branch
<code>main</code>). You should see your <code>develop</code> branch in
the list too.</p>
<figure><img src="fig/gitlab-develop-branch.jpg" class="image-with-shadow figure mx-auto d-block" alt="Software project's develop branch" width="600"></figure><p>You may also have noticed GitLab’s notification about the latest push
to your <code>develop</code> branch just on top of the repository files
and branches drop-down menu.</p>
<p>Now the others can check out the <code>develop</code> branch too and
continue to develop code on it.</p>
<p>After the initial push of the new branch, each next time we push to
it in the usual manner (i.e. without the <code>-u</code> switch):</p>
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="ex">$</span> git push origin develop</span></code></pre>
</div>
<div id="what-is-the-relationship-between-originating-and-new-branches" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="what-is-the-relationship-between-originating-and-new-branches" class="callout-inner">
<h3 class="callout-title">What is the Relationship Between Originating and New Branches?</h3>
<div class="callout-content">
<p>It is natural to think that new branches have a parent/child
relationship with their originating branch, but in actual Git terms,
branches themselves do not have parents but single commits do. Any
commit can have zero parents (a root, or initial, commit), one parent (a
regular commit), or multiple parents (a merge commit), and using this
structure, we can build a ‘view’ of branches from a set of commits and
their relationships. A common way to look at it is that Git branches are
really only <a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell" class="external-link">lightweight,
movable pointers to commits</a>. So as a new commit is added to a
branch, the branch pointer is moved to the new commit.</p>
<p>What this means is that when you accomplish a merge between two
branches, Git is able to determine the common ‘commit ancestor’ through
the commits in a ‘branch’, and use that common ancestor to determine
which commits need to be merged onto the destination branch. It also
means that, in theory, you could merge any branch with any other at any
time… although it may not make sense to do so!</p>
</div>
</div>
</div>
<p> </p>
</div>
<div class="section level3">
<h3 id="merging-into-main-branch">Merging Into Main Branch<a class="anchor" aria-label="anchor" href="#merging-into-main-branch"></a>
</h3>
<p>Once you have tested your changes on the <code>develop</code> branch,
you will want to merge them onto the <code>main</code> branch. To do so,
make sure you have committed all your changes on the
<code>develop</code> branch and then switch to <code>main</code>:</p>
<div class="codewrapper sourceCode" id="cb71">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" tabindex="-1"></a><span class="ex">$</span> git switch main</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Switched to branch 'main'
Your branch is up to date with 'origin/main'.</code></pre>
</div>
<p>To merge the <code>develop</code> branch on top of <code>main</code>
do:</p>
<div class="codewrapper sourceCode" id="cb73">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a><span class="ex">$</span> git merge develop</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Updating 80d6975..a96062c
Fast-forward
 guacamole.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)</code></pre>
</div>
<p>If there are no conflicts, Git will merge the branches without
complaining and replay all commits from <code>develop</code> on top of
the last commit from <code>main</code>. If there are merge conflicts
(e.g. a team collaborator modified the same portion of the same file you
are working on and checked in their changes before you), the particular
files with conflicts will be marked and you will need to resolve those
conflicts and commit the changes before attempting to merge again. Since
we have no conflicts, we can now push the <code>main</code> branch to
the remote repository:</p>
<div class="codewrapper sourceCode" id="cb75">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="ex">$</span> git push origin main</span></code></pre>
</div>
<div id="all-branches-are-equal" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="all-branches-are-equal" class="callout-inner">
<h3 class="callout-title">All Branches Are Equal</h3>
<div class="callout-content">
<p>In Git, all branches are equal - there is nothing special about the
<code>main</code> branch. It is called that by convention and is created
by default, but it can also be called something else. A good example is
<code>gh-pages</code> branch which is often the source branch for
website projects hosted on GitHub (rather than <code>main</code>).</p>
</div>
</div>
</div>
<div id="keeping-main-branch-stable" class="callout testimonial">
<div class="callout-square">
<i class="callout-icon" data-feather="heart"></i>
</div>
<div id="keeping-main-branch-stable" class="callout-inner">
<h3 class="callout-title">Keeping Main Branch Stable</h3>
<div class="callout-content">
<p>Good software development practice is to keep the <code>main</code>
branch stable while you and the team develop and test new
functionalities on feature branches (which can be done in parallel and
independently by different team members). The next step is to merge
feature branches onto the <code>develop</code> branch, where more
testing can occur to verify that the new features work well with the
rest of the code (and not just in isolation). We talk more about
different types of code testing in one of the following episodes.</p>
</div>
</div>
</div>
<p> </p>
</div>
<div class="section level3">
<h3 id="merge-requests-in-gitlab">Merge Requests in GitLab<a class="anchor" aria-label="anchor" href="#merge-requests-in-gitlab"></a>
</h3>
<p>In addition to merging branches through the command line, it is also
possible to perform a <em>Merge Request</em> in GitLab. To see how this
works, switch back to the <em>develop</em> branch in the
<em>recipes</em> repo, and modify the guacamole recipe - by adding one
extra line for the ‘Instructions’: ‘Add salt’. Commit your changes, and
push them to GitLab.</p>
<p>When you reload your GitLab repo main page, you should see that
GitLab now gives you the option to create a ‘Merge Request’ to merge
your changes in <em>develop</em> to <em>main</em>:</p>
<figure><img src="fig/gitlab-merge-request-button.jpg" class="image-with-shadow figure mx-auto d-block" alt="Merge Request button after pushing to a branch" width="600"></figure><p>When clicking the “Create merge request” button, GitLab will open a
new Merge Request form:</p>
<figure><img src="fig/gitlab-merge-request-form.jpg" class="image-with-shadow figure mx-auto d-block" alt="Merge Request form" width="600"></figure><p>There you can fill details abut this merge, such as the Title and
Description, as well as some process-related fields, such as the Asignee
and Reviewer. It is good practice to always have a reviewer for any
significant code changes. Many large software projects have strict
governance rules requiring for example at least one reviewer approval
before merging to the <em>main</em> branch, and it is even possible to
even configure GitLab to enforce such policies. For now, we advise you
to setup informal review rules with your colleagues when working on a
joint project.</p>
<p>Once a merge request has been created, GitLab provides process
controls for managing its lifecycle:</p>
<figure><img src="fig/gitlab-merge-request-lifecycle.jpg" class="image-with-shadow figure mx-auto d-block" alt="Merge Request Lifecycle" width="600"></figure><p>This form can be accessed from the “Merge requests” menu on the left
tab. On this form you can perform actions such as: - approve the merge
request by clicking the “Approve” button. - do the actual (Git) merge by
clicking the “Merge” button. - review the commits part of this merge
request in the “Commits” tab - review the code changes part of this
merge request in the “Changes” tab - comment on code changes, also from
the “Changes” tab. When making a comment, GitLab notifies the asignee
for the merge request about the comment via email.</p>
<p>   </p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<code>git clone</code> copies a remote repository to create a local
repository with a remote called <code>origin</code> automatically set
up.</li>
<li>Conflicts occur when two or more people change the same lines of the
same file.</li>
<li>The version control system does not allow people to overwrite each
other’s changes blindly, but highlights conflicts so that they can be
resolved.</li>
<li>A branch is one version of your project that can contain its own set
of commits.</li>
<li>Feature branches enable us to develop / explore / test new code
features without affecting the stable <code>main</code> code.</li>
<li>GitLab merge requests provide a structured process approach to Git
branch merging</li>
</ul>
</div>
</div>
</div>
<p>   </p>
</div>
</section><section><h2 class="section-heading" id="hands-on-project">Hands-on Project<a class="anchor" aria-label="anchor" href="#hands-on-project"></a>
</h2>
<hr class="half-width">
<ul>
<li>Work in groups of two</li>
<li>Create a GitLab project on the TUD GitLab server</li>
<li>Assign project roles to each team member</li>
<li>Create a shared (text) document representing a joint research
paper.</li>
<li>Each member works independently on different sections of the
document in separate branches.</li>
<li>Show how merging can be done without conflicts</li>
<li>Start working on the same section creating a conflict</li>
<li>show how it can be solved using GitLab merge requests and Git
conflict resolution</li>
</ul>
<p>   </p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-python-virtual-environmants"><p>Content from <a href="python-virtual-environmants.html">Python Virtual Environments</a></p>
<hr>
<p>Last updated on 2025-02-24 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/python-virtual-environmants.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“What are virtual environments in software development and why you
should use them?”</li>
<li>“How can we manage Python virtual environments and external
(third-party) libraries?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Set up a Python virtual environment for our software project using
<code>venv</code> and <code>pip</code>.”</li>
<li>“Run our software from the command line.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Python applications often use external libraries that don’t come as
part of the standard Python distribution. This means that you will have
to use a <em>package manager</em> tool to install them on your system.
Applications will also sometimes need a specific version of an external
library (e.g. because they were written to work with feature, class, or
function that may have been updated in more recent versions), or a
specific version of Python interpreter. This means that each Python
application you work with may require a different setup and a set of
dependencies so it is useful to be able to keep these configurations
separate to avoid confusion between projects. The solution for this
problem is to create a self-contained <strong>virtual
environment</strong> per project, which contains a particular version of
Python installation plus a number of additional external libraries.</p>
<p>Virtual environments are not just a feature of Python - most modern
programming languages use a similar mechanism to isolate libraries or
dependencies for a specific project, making it easier to develop, run,
test and share code with others. Some examples include Bundler for Ruby,
Conan for C++, or Maven with classpath for Java. This can also be
achieved with more generic package managers like Spack, which is used
extensively in HPC settings to resolve complex dependencies. In this
episode, we learn how to set up a virtual environment to develop our
code and manage our external dependencies.</p>
</section><section><h2 class="section-heading" id="python-virtual-environments">Python Virtual Environments<a class="anchor" aria-label="anchor" href="#python-virtual-environments"></a>
</h2>
<hr class="half-width">
<p>So what exactly are virtual environments, and why use them?</p>
<p>A Python virtual environment helps us create an <strong>isolated
working copy</strong> of a software project that uses a specific version
of Python interpreter together with specific versions of a number of
external libraries installed into that virtual environment. Python
virtual environments are implemented as directories with a particular
structure within software projects, containing links to specified
dependencies allowing isolation from other software projects on your
machine that may require different versions of Python or external
libraries.</p>
<p>As more external libraries are added to your Python project over
time, you can add them to its specific virtual environment and avoid a
great deal of confusion by having separate (smaller) virtual
environments for each project rather than one huge global environment
with potential package version clashes. Another big motivator for using
virtual environments is that they make sharing your code with others
much easier (as we will see shortly). Here are some typical scenarios
where the use of virtual environments is highly recommended (almost
unavoidable):</p>
<ul>
<li>You have an older project that only works under Python 2. You do not
have the time to migrate the project to Python 3 or it may not even be
possible as some of the third party dependencies are not available under
Python 3. You have to start another project under Python 3. The best way
to do this on a single machine is to set up two separate Python virtual
environments.</li>
<li>One of your Python 3 projects is locked to use a particular older
version of a third party dependency. You cannot use the latest version
of the dependency as it breaks things in your project. In a separate
branch of your project, you want to try and fix problems introduced by
the new version of the dependency without affecting the working version
of your project. You need to set up a separate virtual environment for
your branch to ‘isolate’ your code while testing the new feature.</li>
</ul>
<p>You do not have to worry too much about specific versions of external
libraries that your project depends on most of the time. Virtual
environments also enable you to always use the latest available version
without specifying it explicitly. They also enable you to use a specific
older version of a package for your project, should you need to.</p>
<div id="a-specific-python-or-package-version-is-only-ever-installed-once" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="a-specific-python-or-package-version-is-only-ever-installed-once" class="callout-inner">
<h3 class="callout-title">A Specific Python or Package Version is Only Ever Installed Once</h3>
<div class="callout-content">
<p>Note that you will not have a separate Python or package
installations for each of your projects - they will only ever be
installed once on your system but will be referenced from different
virtual environments.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="tools-for-managing-python-virtual-environments-and-external-packages">Tools for Managing Python Virtual Environments and External
Packages<a class="anchor" aria-label="anchor" href="#tools-for-managing-python-virtual-environments-and-external-packages"></a>
</h2>
<hr class="half-width">
<p>There are several commonly used command line tools for managing
Python virtual environments:</p>
<ul>
<li>
<code>venv</code>, available by default from the standard
<code>Python</code> distribution from <code>Python 3.3+</code>
</li>
<li>
<code>virtualenv</code>, needs to be installed separately but
supports both <code>Python 2.7+</code> and
<code>Python 3.3+</code>versions</li>
<li>
<code>pipenv</code>, created to fix certain shortcomings of
<code>virtualenv</code>
</li>
<li>
<code>conda</code>, package and environment management system (also
included as part of the Anaconda Python distribution often used by the
scientific community)</li>
<li>
<code>poetry</code>, a modern Python packaging tool which handles
virtual environments automatically</li>
</ul>
<p>While there are pros and cons for using each of the above, all will
do the job of managing Python virtual environments for you and it may be
a matter of personal preference which one you go for. In this course, we
will use <code>venv</code> to create and manage our virtual environment
(which is the preferred way for Python 3.3+). The upside is that
<code>venv</code> virtual environments created from the command line are
also recognised and picked up automatically by PyCharm IDE, as we will
see in the next episode.</p>
<p>Part of managing your (virtual) working environment involves
installing, updating and removing external packages on your system. The
Python package manager tool <code>pip</code> is most commonly used for
this - it interacts and obtains the packages from the central repository
called <a href="https://pypi.org/" class="external-link">Python Package Index (PyPI)</a>.
<code>pip</code> can now be used with all Python distributions
(including Anaconda).</p>
<div id="a-note-on-anaconda-and-conda" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="a-note-on-anaconda-and-conda" class="callout-inner">
<h3 class="callout-title">A Note on <code>Anaconda</code> and
<code>conda</code>
</h3>
<div class="callout-content">
<p>Anaconda is an open source Python distribution commonly used for
scientific programming - it conveniently installs Python, package and
environment management <code>conda</code>, and a number of commonly used
scientific computing packages so you do not have to obtain them
separately. <code>conda</code> is an independent command line tool
(available separately from the Anaconda distribution too) with dual
functionality: (1) it is a package manager that helps you find Python
packages from remote package repositories and install them on your
system, and (2) it is also a virtual environment manager. So, you can
use <code>conda</code> for both tasks instead of using <code>venv</code>
and <code>pip</code>.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="many-tools-for-the-job">Many Tools for the Job<a class="anchor" aria-label="anchor" href="#many-tools-for-the-job"></a>
</h3>
<p>Installing and managing Python distributions, external libraries and
virtual environments is, well, complex. There is an abundance of tools
for each task, each with its advantages and disadvantages, and there are
different ways to achieve the same effect (and even different ways to
install the same tool!). Note that each Python distribution comes with
its own version of <code>pip</code> - and if you have several Python
versions installed you have to be extra careful to use the correct
<code>pip</code> to manage external packages for that Python
version.</p>
<p><code>venv</code> and <code>pip</code> are considered the <em>de
facto</em> standards for virtual environment and package management for
Python 3. However, the advantages of using Anaconda and
<code>conda</code> are that you get (most of the) packages needed for
scientific code development included with the distribution. If you are
only collaborating with others who are also using Anaconda, you may find
that <code>conda</code> satisfies all your needs. It is good, however,
to be aware of all these tools, and use them accordingly. As you become
more familiar with them you will realise that equivalent tools work in a
similar way even though the command syntax may be different (and that
there are equivalent tools for other programming languages too to which
your knowledge can be ported).</p>
<img src="fig/python-environment-hell.png" class="figure"><p style="text-align: center;">
Python Environment Hell <br> From
<a href="https://xkcd.com/1987/" target="_blank" class="external-link">XKCD</a> (Creative
Commons Attribution-NonCommercial 2.5 License)
</p>
<p>In the next sections we will look at how to manage virtual
environments from the command line using <code>venv</code> and manage
packages using <code>pip</code>.</p>
<div id="making-sure-you-can-invoke-python" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="making-sure-you-can-invoke-python" class="callout-inner">
<h3 class="callout-title">Making Sure You Can Invoke Python</h3>
<div class="callout-content">
<p>You can test your Python installation from the command line with:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> python3 <span class="at">--version</span> <span class="co"># on Mac/Linux</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> python <span class="at">--version</span> <span class="co"># on Windows — Windows installation comes with a python.exe file rather than a python3.exe file</span></span></code></pre>
</div>
<p>If you are using Windows and invoking <code>python</code> command
causes your Git Bash terminal to hang with no error message or output,
you may need to create an alias for the python executable
<code>python.exe</code>, as explained in the <a href="common-issues/index.html#python-hangs-in-git-bash">troubleshooting
section</a>.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="a-motivating-example">A Motivating Example<a class="anchor" aria-label="anchor" href="#a-motivating-example"></a>
</h2>
<hr class="half-width">
<p>For the rest of this episode, we will use the following (simple)
Python program as a motivation on where virtual environments may be
useful:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="im">from</span> dateutil <span class="im">import</span> parser</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> timedelta</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co"># Generate time data using python-dateutil and timedelta</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>start_time <span class="op">=</span> parser.parse(<span class="st">"2025-01-01T00:00:00"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>time_steps <span class="op">=</span> [start_time <span class="op">+</span> timedelta(minutes<span class="op">=</span><span class="dv">10</span> <span class="op">*</span> i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100</span>)]</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>time_values <span class="op">=</span> [t.strftime(<span class="st">"%Y-%m-</span><span class="sc">%d</span><span class="st"> %H:%M:%S"</span>) <span class="cf">for</span> t <span class="kw">in</span> time_steps]</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Plotting a sine wave starting at </span><span class="sc">{</span>start_time<span class="sc">}</span><span class="ss"> in 100 steps of 10 minutes"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co"># Create the sine wave data using numpy</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>x_values <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span> <span class="op">*</span> np.pi, <span class="dv">100</span>)  <span class="co"># 100 points from 0 to 10*pi</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>y_values <span class="op">=</span> np.sin(x_values)</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co"># Plot the data</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>plt.plot(time_values, y_values, label<span class="op">=</span><span class="st">"Sine Wave"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>tick_step <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>plt.xticks(<span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(time_values), tick_step), time_values[::tick_step], rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>plt.xlabel(<span class="st">"Time"</span>)</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>plt.ylabel(<span class="st">"Sine Value"</span>)</span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>plt.title(<span class="st">"Sine Wave Over Time"</span>)</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>plt.legend()</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>On your system, create a new directory <em>sine_wave</em>, and copy
the above code in a file <em>plot_sine_wave.py</em>. We want to see what
happens if we try to run this program on a system where Python has just
been installed, and for this, we will create a new Python virtual
environment.</p>
</section><section><h2 class="section-heading" id="creating-virtual-environments-using-venv">Creating Virtual Environments Using <code>venv</code>
<a class="anchor" aria-label="anchor" href="#creating-virtual-environments-using-venv"></a>
</h2>
<hr class="half-width">
<p>Creating a virtual environment with <code>venv</code> is done by
executing the following command:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> python3 <span class="at">-m</span> venv /path/to/new/virtual/environment</span></code></pre>
</div>
<p>In Windows (GitBash), you can do the same with the following
command:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span>  py <span class="at">-3</span> <span class="at">-m</span> venv /path/to/new/virtual/environment</span></code></pre>
</div>
<p>where <code>/path/to/new/virtual/environment</code> is a path to a
directory where you want to place it - conventionally within your
software project so they are co-located. This will create the target
directory for the virtual environment (and any parent directories that
don’t exist already).</p>
<div id="what-is--m-flag-in-python3-command" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="what-is--m-flag-in-python3-command" class="callout-inner">
<h3 class="callout-title">What is <code>-m</code> Flag in
<code>python3</code> Command?</h3>
<div class="callout-content">
<p>The Python <code>-m</code> flag means “module” and tells the Python
interpreter to treat what follows <code>-m</code> as the name of a
module and not as a single, executable program with the same name. Some
modules (such as <code>venv</code> or <code>pip</code>) have main entry
points and the <code>-m</code> flag can be used to invoke them on the
command line via the <code>python</code> command. The main difference
between running such modules as standalone programs (e.g. executing
“venv” by running the <code>venv</code> command directly) versus using
<code>python3 -m</code> command seems to be that with latter you are in
full control of which Python module will be invoked (the one that came
with your environment’s Python interpreter vs. some other version you
may have on your system). This makes it a more reliable way to set
things up correctly and avoid issues that could prove difficult to trace
and debug.</p>
</div>
</div>
</div>
<p>For our project let us create a virtual environment called “venv”.
First, ensure you are within the project root directory
(<em>sine_wave</em>), then:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> python3 <span class="at">-m</span> venv venv</span></code></pre>
</div>
<p>If you list the contents of the newly created directory “venv”, on a
Mac or Linux system (slightly different on Windows as explained below)
you should see something like:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> venv</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>total 8
drwxr-xr-x  12 alex  staff  384  5 Oct 11:47 bin
drwxr-xr-x   2 alex  staff   64  5 Oct 11:47 include
drwxr-xr-x   3 alex  staff   96  5 Oct 11:47 lib
-rw-r--r--   1 alex  staff   90  5 Oct 11:47 pyvenv.cfg</code></pre>
</div>
<p>So, running the <code>python3 -m venv venv</code> command created the
target directory called “venv” containing:</p>
<ul>
<li>
<code>pyvenv.cfg</code> configuration file with a home key pointing
to the Python installation from which the command was run,</li>
<li>
<code>bin</code> subdirectory (called <code>Scripts</code> on
Windows) containing a symlink of the Python interpreter binary used to
create the environment and the standard Python library,</li>
<li>
<code>lib/pythonX.Y/site-packages</code> subdirectory (called
<code>Lib\site-packages</code> on Windows) to contain its own
independent set of installed Python packages isolated from other
projects, and</li>
<li>various other configuration and supporting files and
subdirectories.</li>
</ul>
<div id="naming-virtual-environments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="naming-virtual-environments" class="callout-inner">
<h3 class="callout-title">Naming Virtual Environments</h3>
<div class="callout-content">
<p>What is a good name to use for a virtual environment?</p>
<p>Using “venv” or “.venv” as the name for an environment and storing it
within the project’s directory seems to be the recommended way - this
way when you come across such a subdirectory within a software project,
by convention you know it contains its virtual environment details.</p>
<p>A slight downside is that all different virtual environments on your
machine then use the same name and the current one is determined by the
context of the path you are currently located in. A (non-conventional)
alternative is to use your project name for the name of the virtual
environment, with the downside that there is nothing to indicate that
such a directory contains a virtual environment.</p>
<p>In our case, we have settled to use the name “venv” instead of
“.venv” since it is not a hidden directory and we want it to be
displayed by the command line when listing directory contents (the “.”
in its name that would, by convention, make it hidden). In the future,
you will decide what naming convention works best for you. Here are some
references for each of the naming conventions:</p>
<ul>
<li>
<a href="https://docs.python-guide.org/dev/virtualenvs/" class="external-link">The
Hitchhiker’s Guide to Python</a> notes that “venv” is the general
convention used globally</li>
<li>
<a href="https://docs.python.org/3/library/venv.html" class="external-link">The Python
Documentation</a> indicates that “.venv” is common</li>
<li><a href="https://discuss.python.org/t/trying-to-come-up-with-a-default-directory-name-for-virtual-environments/3750" class="external-link">“venv”
vs “.venv” discussion</a></li>
</ul>
</div>
</div>
</div>
<p>Once you’ve created a virtual environment, you will need to activate
it.</p>
<p>On Mac or Linux, it is done as:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> source venv/bin/activate</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span></span></code></pre>
</div>
<p>On Windows, recall that we have <code>Scripts</code> directory
instead of <code>bin</code> and activating a virtual environment is done
as:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> source venv/Scripts/activate</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span></span></code></pre>
</div>
<p>Activating the virtual environment will change your command line’s
prompt to show what virtual environment you are currently using
(indicated by its name in round brackets at the start of the prompt),
and modify the environment so that running Python will get you the
particular version of Python configured in your virtual environment.</p>
<p>You can now verify you are using your virtual environment’s version
of Python:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span>  python <span class="at">--version</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Python 3.12.0</code></pre>
</div>
<p>When you’re done working on your project, you can exit the
environment with:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> deactivate</span></code></pre>
</div>
<p>If you have just done the <code>deactivate</code>, ensure you
reactivate the environment ready for the next part:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> source venv/bin/activate</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span></span></code></pre>
</div>
<div id="python-within-a-virtual-environment" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="python-within-a-virtual-environment" class="callout-inner">
<h3 class="callout-title">Python Within A Virtual Environment</h3>
<div class="callout-content">
<p>Within an active virtual environment, commands <code>python3</code>
and <code>python</code> should both refer to the version of Python 3 you
created the environment with (note you may have multiple Python 3
versions installed).</p>
<p>However, on some machines with Python 2 installed,
<code>python</code> command may still be hardwired to the copy of Python
2 installed outside of the virtual environment - this can cause errors
and confusion.</p>
<p>You can always check which version of Python you are using in your
virtual environment with the command <code>which python</code> to be
absolutely sure. We continue using <code>python3</code> in this material
to avoid mistakes, but the command <code>python</code> may work for you
as expected.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="installing-external-packages-using-pip">Installing External Packages Using <code>pip</code>
<a class="anchor" aria-label="anchor" href="#installing-external-packages-using-pip"></a>
</h2>
<hr class="half-width">
<p>Now that we have a virtual environment, let us try to run the
<em>plot_sine_wave.py</em> program:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">python</span> plot_sine_wave.py</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Traceback (most recent call last):
  File "C:\projects\programming_course\sine_wave\plot_sine_wave.py", line 1, in &lt;module&gt;
    import numpy as np
ModuleNotFoundError: No module named 'numpy'</code></pre>
</div>
<p>As we can see in the code (‘includes’), our code depends on a number
of external libraries - <code>numpy</code>, <code>matplotlib</code>, and
<code>python-dateutil</code>. In order for the code to run on your
machine, you need to install these two dependencies into your virtual
environment.</p>
<p>To install the latest version of a package with <code>pip</code> you
use pip’s <code>install</code> command and specify the package’s name,
e.g.:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip install numpy</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip install matplotlib</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip install python-dateutil</span></code></pre>
</div>
<p>or like this to install multiple packages at once for short:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip install numpy matplotlib python-dateutil</span></code></pre>
</div>
<div id="how-about-pip3-install-package-name-command" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="how-about-pip3-install-package-name-command" class="callout-inner">
<h3 class="callout-title">How About
<code>pip3 install &lt;package-name&gt;</code> Command?</h3>
<div class="callout-content">
<p>You may have seen or used the
<code>pip3 install &lt;package-name&gt;</code> command in the past,
which is shorter and perhaps more intuitive than
<code>python3 -m pip install</code>. However, the <a href="https://pip.pypa.io/en/stable/user_guide/#running-pip" class="external-link">official
Pip documentation</a> recommends <code>python3 -m pip install</code> and
core Python developer Brett Cannon offers a <a href="https://snarky.ca/why-you-should-use-python-m-pip/" class="external-link">more detailed
explanation</a> of edge cases when the two commands may produce
different results and why <code>python3 -m pip install</code> is
recommended. In this material, we will use <code>python3 -m</code>
whenever we have to invoke a Python module from command line.</p>
</div>
</div>
</div>
<p>If you run the <code>python3 -m pip install</code> command on a
package that is already installed, <code>pip</code> will notice this and
do nothing.</p>
<p>To install a specific version of a Python package give the package
name followed by <code>==</code> and the version number,
e.g. <code>python3 -m pip install numpy==1.21.1</code>.</p>
<p>To specify a minimum version of a Python package, you can do
<code>python3 -m pip install numpy&gt;=1.20</code>.</p>
<p>To upgrade a package to the latest version,
e.g. <code>python3 -m pip install --upgrade numpy</code>.</p>
<p>To display information about a particular installed package do:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip show numpy</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Name: numpy
Version: 2.2.1
Summary: Fundamental package for array computing in Python
Home-page:
Author: Travis E. Oliphant et al.
Author-email:
License: Copyright (c) 2005-2024, NumPy Developers.
 All rights reserved.
...</code></pre>
</div>
<p>To list all packages installed with <code>pip</code> (in your current
virtual environment):</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip list</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Package         Version
--------------- -----------
contourpy       1.3.1
cycler          0.12.1
fonttools       4.55.3
kiwisolver      1.4.8
matplotlib      3.10.0
numpy           2.2.1
packaging       24.2
pillow          11.1.0
pip             23.2.1
pyparsing       3.2.1
python-dateutil 2.9.0.post0
six             1.17.0</code></pre>
</div>
<p>To uninstall a package installed in the virtual environment do:
<code>python3 -m pip uninstall &lt;package-name&gt;</code>. You can also
supply a list of packages to uninstall at the same time.</p>
<div class="section level3">
<h3 id="exportingimporting-virtual-environments-using-pip">Exporting/Importing Virtual Environments Using <code>pip</code>
<a class="anchor" aria-label="anchor" href="#exportingimporting-virtual-environments-using-pip"></a>
</h3>
<p>You are collaborating on a project with a team so, naturally, you
will want to share your environment with your collaborators so they can
easily ‘clone’ your software project with all of its dependencies and
everyone can replicate equivalent virtual environments on their
machines. <code>pip</code> has a handy way of exporting, saving and
sharing virtual environments.</p>
<p>To export your active environment - use
<code>python3 -m pip freeze</code> command to produce a list of packages
installed in the virtual environment. A common convention is to put this
list in a <code>requirements.txt</code> file:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip freeze <span class="op">&gt;</span> requirements.txt</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> cat requirements.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>contourpy==1.3.1
cycler==0.12.1
fonttools==4.55.3
kiwisolver==1.4.8
matplotlib==3.10.0
numpy==2.2.1
packaging==24.2
pillow==11.1.0
pyparsing==3.2.1
python-dateutil==2.9.0.post0
six==1.17.0</code></pre>
</div>
<p>The first of the above commands will create a
<code>requirements.txt</code> file in your current directory. Yours may
look a little different, depending on the version of the packages you
have installed, as well as any differences in the packages that they
themselves use.</p>
<p>The <code>requirements.txt</code> file can then be committed to a
version control system (we will see how to do this using Git in one of
the following episodes) and get shipped as part of your software and
shared with collaborators and/or users. They can then replicate your
environment and install all the necessary packages from the project root
as follows:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip install <span class="at">-r</span> requirements.txt</span></code></pre>
</div>
<p>As your project grows - you may need to update your environment for a
variety of reasons. For example, one of your project’s dependencies has
just released a new version (dependency version number update), you need
an additional package for data analysis (adding a new dependency) or you
have found a better package and no longer need the older package (adding
a new and removing an old dependency). What you need to do in this case
(apart from installing the new and removing the packages that are no
longer needed from your virtual environment) is update the contents of
the <code>requirements.txt</code> file accordingly by re-issuing
<code>pip freeze</code> command and propagate the updated
<code>requirements.txt</code> file to your collaborators via your code
sharing platform (e.g. GitHub).</p>
<div id="official-documentation" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="official-documentation" class="callout-inner">
<h3 class="callout-title">Official Documentation</h3>
<div class="callout-content">
<p>For a full list of options and commands, consult the <a href="https://docs.python.org/3/library/venv.html" class="external-link">official
<code>venv</code> documentation</a> and the <a href="https://docs.python.org/3/installing/index.html#installing-index" class="external-link">Installing
Python Modules with <code>pip</code> guide</a>. Also check out the guide
<a href="https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#installing-packages-using-pip-and-virtual-environments" class="external-link">“Installing
packages using <code>pip</code> and virtual environments”</a>.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="running-python-scripts-from-command-line">Running Python Scripts From Command Line<a class="anchor" aria-label="anchor" href="#running-python-scripts-from-command-line"></a>
</h2>
<hr class="half-width">
<p>Congratulations! Your environment is now activated and set up to run
our <code>plot_sine_wave.py</code> program from the command line.</p>
<p>You should already be located in the root of the
<code>sine_wave</code> directory (if not, please navigate to it from the
command line now). To run the program, type the following command:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python plot_sine_wave.py</span></code></pre>
</div>
<p>You should now see the following plot:</p>
<figure><img src="fig/sine_wave.jpg" class="image-with-shadow figure mx-auto d-block" alt="Sine Wave Plot" width="600"></figure><div id="multiple-python-versions-on-the-same-machine" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="multiple-python-versions-on-the-same-machine" class="callout-inner">
<h3 class="callout-title">Multiple Python versions on the same machine</h3>
<div class="callout-content">
<p>Using virtual environments it is very easy to manage multiple Python
versions on the same machine. As a challenge, install Python 3.5 on your
system, and create a virtual environment specifically for it. Then try
to run <em>plot_sine_wave.py</em> in this new environment. Does it work?
Modify the program so it does.</p>
</div>
</div>
</div>
<p>     </p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>“Virtual environments keep Python versions and dependencies required
by different projects separate.”</li>
<li>“A virtual environment is itself a directory structure.”</li>
<li>“Use <code>venv</code> to create and manage Python virtual
environments.”</li>
<li>“Use <code>pip</code> to install and manage Python external
(third-party) libraries.”</li>
<li>“<code>pip</code> allows you to declare all dependencies for a
project in a separate file (by convention called
<code>requirements.txt</code>) which can be shared with
collaborators/users and used to replicate a virtual environment.”</li>
<li>“Use <code>python3 -m pip freeze &gt; requirements.txt</code> to
take snapshot of your project’s dependencies.”</li>
<li>“Use <code>python3 -m pip install -r requirements.txt</code> to
replicate someone else’s virtual environment on your machine from the
<code>requirements.txt</code> file.”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-clean-code"><p>Content from <a href="clean-code.html">Clean Code</a></p>
<hr>
<p>Last updated on 2025-02-24 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/clean-code.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is “Clean Code” and why is it important?</li>
<li>What are the most important “Clean Code” rules?</li>
<li>What tools can I use to improve my code quality towards the “Clean
Code” ideal?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the importance of Clean Code</li>
<li>Understand some of the fundamental Clean Code rules related to:
<ul>
<li>Code structure</li>
<li>Naming conventions</li>
<li>Functions</li>
<li>Comments</li>
<li>Unit tests</li>
</ul>
</li>
<li>Become familiar with the most important tools that can facilitate
writing Clean Code</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Imagine you are reading a well-organized book or following a simple
recipe. Each step is clear, easy to understand, and there’s no
unnecessary clutter. Now imagine the opposite—a messy, confusing set of
instructions where you’re constantly backtracking to figure out what’s
going on. <strong>This is the difference between “clean code” and messy
code in programming.</strong></p>
<p>Here are the key ideas behind <strong>Clean Code</strong>:</p>
<ul>
<li>Readable and Understandable</li>
<li>Well-Organized</li>
<li>Minimal but Effective</li>
<li>Easy to Test</li>
<li>Follows Good Practices</li>
</ul>
<p> </p>
<figure><img src="fig/clean_vs_messy.jpg" alt='"Clean" vs. "Messy"' class="figure mx-auto d-block"></figure><p> </p>
<div class="section level3">
<h3 id="why-clean-code-matters">Why Clean Code Matters:<a class="anchor" aria-label="anchor" href="#why-clean-code-matters"></a>
</h3>
<ul>
<li>
<strong>For Teamwork</strong>: Most software projects involve
multiple developers. Clean code ensures everyone can collaborate without
getting stuck deciphering messy work.</li>
<li>
<strong>For Longevity</strong>: Code often lives longer than you
think. Writing clean code saves you time in the future when making
updates.</li>
<li>
<strong>For Quality</strong>: Clean code reduces bugs and improves
the user experience of the software.</li>
</ul>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Clean Code is code that’s easy to read, maintain, understand for
developers and other teams while improving the quality of their software
through structure and consistency with performance demands. It lets you
get the most value and purpose out of your software.</p>
<p><em><a href="https://www.sonarsource.com/solutions/clean-code/" class="external-link uri">https://www.sonarsource.com/solutions/clean-code/</a></em></p>
</div>
</div>
</div>
<div id="callout2" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>What is clean code, anyway? Here are some of its features:</p>
<ul>
<li>Clean code is obvious for other programmers.</li>
<li>Clean code does not contain duplication.</li>
<li>Clean code contains a minimal number of classes and other moving
parts.</li>
<li>Clean code passes all tests.</li>
<li>Clean code is easier and cheaper to maintain!</li>
</ul>
<p><em><a href="https://refactoring.guru/refactoring" class="external-link uri">https://refactoring.guru/refactoring</a></em></p>
</div>
</div>
</div>
<figure><img src="fig/clean_code.png" alt="How to measure clean code?" class="figure mx-auto d-block"></figure><p>In this episode we will cover the basics of clean code, introduce
some tools that facilitate writing clean code, and end with a
refactoring exercise that will allow you to put these concepts into
practice.</p>
</div>
</section><section><h2 class="section-heading" id="clean-code-rules">Clean Code Rules<a class="anchor" aria-label="anchor" href="#clean-code-rules"></a>
</h2>
<hr class="half-width">
<p>In this section, we will cover some basic rules that, when followed,
lead to cleaner code. It’s important to recognize that these rules are
just the “tip of the iceberg,” as there is much more to explore on this
topic. However, adhering to these simple guidelines can significantly
improve the quality of your code. As you grow into a more experienced
developer and adopt advanced software techniques, it remains valuable to
stay aligned with “clean code” principles relevant to these practices.
Clean Code: A Handbook of Agile Software Craftsmanship by Robert C.
Martin is often regarded as the definitive guide for the clean code
movement and is highly recommended reading.</p>
<div class="section level3">
<h3 id="general-rules">General Rules<a class="anchor" aria-label="anchor" href="#general-rules"></a>
</h3>
<ul>
<li>Follow standard conventions.</li>
<li>Keep it simple stupid. Simpler is always better. Reduce complexity
as much as possible.</li>
<li>Boy scout rule. Leave the campground cleaner than you found it.</li>
</ul>
</div>
<div class="section level3">
<h3 id="source-code-structure">Source code structure<a class="anchor" aria-label="anchor" href="#source-code-structure"></a>
</h3>
<p><strong>The newspaper metaphor</strong>: code should be organized and
structured like a well-written newspaper article: it should guide the
reader from broad, general concepts to more specific details. At the
top, high-level information—such as the purpose of the code or function
should be immediately clear, similar to a headline. As the reader delves
deeper, they encounter progressively detailed logic, analogous to
sections and paragraphs expanding on the headline. This structure helps
developers quickly grasp the overall intent of the code before diving
into implementation specifics, improving readability and
maintainability.</p>
<p>There are a number of source code structure rules that derive from
this metaphor:</p>
<div id="separate-concepts-vertically-related-code-should-appear-vertically-dense" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="separate-concepts-vertically-related-code-should-appear-vertically-dense" class="callout-inner">
<h3 class="callout-title">Separate concepts vertically; related code should appear vertically dense</h3>
<div class="callout-content">
<p>Goal here is to make use of visual clustering, so that parts of the
code that “belong” together become obvious without having to dive deep
into the actual code.</p>
</div>
</div>
</div>
<div id="refactor-the-code-below-by-following-this-guideline" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-code-below-by-following-this-guideline" class="callout-inner">
<h3 class="callout-title">Refactor the code below by following this guideline</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">def</span> calculate_total(cart, discount_rate):</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> cart:</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Cart cannot be empty."</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> (<span class="dv">0</span> <span class="op">&lt;=</span> discount_rate <span class="op">&lt;=</span> <span class="dv">1</span>):</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Discount rate must be between 0 and 1."</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    subtotal <span class="op">=</span> <span class="bu">sum</span>(item[<span class="st">'price'</span>] <span class="op">*</span> item[<span class="st">'quantity'</span>] <span class="cf">for</span> item <span class="kw">in</span> cart)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    discount <span class="op">=</span> subtotal <span class="op">*</span> discount_rate</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    total <span class="op">=</span> subtotal <span class="op">-</span> discount</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="cf">return</span> total</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">def</span> calculate_total(cart, discount_rate):</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> cart:</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Cart cannot be empty."</span>)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> (<span class="dv">0</span> <span class="op">&lt;=</span> discount_rate <span class="op">&lt;=</span> <span class="dv">1</span>):</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Discount rate must be between 0 and 1."</span>)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>    subtotal <span class="op">=</span> <span class="bu">sum</span>(item[<span class="st">'price'</span>] <span class="op">*</span> item[<span class="st">'quantity'</span>] <span class="cf">for</span> item <span class="kw">in</span> cart)</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>    discount <span class="op">=</span> subtotal <span class="op">*</span> discount_rate</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>    total <span class="op">=</span> subtotal <span class="op">-</span> discount  <span class="co"># Related code is vertically dense</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>    <span class="cf">return</span> total</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="declare-variables-close-to-their-usage." class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="declare-variables-close-to-their-usage." class="callout-inner">
<h3 class="callout-title">Declare variables close to their usage.</h3>
<div class="callout-content">
<p>Follows the same principle that closely related code constructs
should be in close visual proximity.</p>
</div>
</div>
</div>
<div id="refactor-the-code-below-by-following-this-guideline-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-code-below-by-following-this-guideline-1" class="callout-inner">
<h3 class="callout-title">Refactor the code below by following this guideline</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> calculate_average_grades(students):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    total_grades <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>    count <span class="op">=</span> <span class="bu">len</span>(students) <span class="cf">if</span> students <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    average_grade <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> students:</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"The students list cannot be empty."</span>)</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>    <span class="cf">for</span> student <span class="kw">in</span> students:</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        total_grades <span class="op">+=</span> student[<span class="st">'grade'</span>]</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    average_grade <span class="op">=</span> total_grades <span class="op">/</span> count</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>    <span class="cf">return</span> average_grade</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="kw">def</span> calculate_average_grades(students):</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> students:</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"The students list cannot be empty."</span>)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    total_grades <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="cf">for</span> student <span class="kw">in</span> students:</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>        total_grades <span class="op">+=</span> student[<span class="st">'grade'</span>]</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>    count <span class="op">=</span> <span class="bu">len</span>(students)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>    average_grade <span class="op">=</span> total_grades <span class="op">/</span> count</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    <span class="cf">return</span> average_grade</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keep-lines-short" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="keep-lines-short" class="callout-inner">
<h3 class="callout-title">Keep lines short</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># VERY BAD</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="kw">def</span> get_unique_even_cubed_double_of_positive_numbers(numbers):</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">round</span>(x<span class="op">**</span><span class="dv">3</span>, <span class="dv">2</span>), <span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, <span class="bu">set</span>(<span class="bu">map</span>(<span class="kw">lambda</span> y: y <span class="op">*</span> <span class="dv">3</span>, [i <span class="cf">for</span> i <span class="kw">in</span> numbers <span class="cf">if</span> i <span class="op">&gt;</span> <span class="dv">0</span>])))))</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="kw">def</span> get_unique_even_cubed_tripled_of_positive_numbers(numbers):</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>    positive_numbers <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> numbers <span class="cf">if</span> i <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>    tripled_numbers <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> y: y <span class="op">*</span> <span class="dv">3</span>, positive_numbers)</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>    unique_numbers <span class="op">=</span> <span class="bu">set</span>(tripled_numbers)</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>    even_numbers <span class="op">=</span> <span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>, unique_numbers)</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>    <span class="cf">return</span> [<span class="bu">round</span>(x<span class="op">**</span><span class="dv">3</span>, <span class="dv">2</span>) <span class="cf">for</span> x <span class="kw">in</span> even_numbers]</span></code></pre>
</div>
</div>
</div>
</div>
<div id="function-placement" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="function-placement" class="callout-inner">
<h3 class="callout-title">Function placement</h3>
<div class="callout-content">
<ul>
<li>Dependent functions should be close.</li>
<li>Similar functions should be close.</li>
<li>Place functions in the downward direction.</li>
</ul>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="kw">def</span> get_unique_even_cubed_tripled_of_positive_numbers(numbers):</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>    positive_numbers <span class="op">=</span> filter_positive_numbers(numbers)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    tripled_numbers <span class="op">=</span> triple_numbers(positive_numbers)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    unique_numbers <span class="op">=</span> get_unique_numbers(tripled_numbers)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    even_numbers <span class="op">=</span> get_even_numbers(unique_numbers)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>    <span class="cf">return</span> even_numbers</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="kw">def</span> filter_positive_numbers(numbers):</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="cf">for</span> num <span class="kw">in</span> numbers <span class="cf">if</span> num <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="kw">def</span> triple_numbers(numbers):</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="op">*</span> <span class="dv">3</span> <span class="cf">for</span> num <span class="kw">in</span> numbers]</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="kw">def</span> get_unique_numbers(numbers):</span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">list</span>(<span class="bu">set</span>(numbers))</span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a><span class="kw">def</span> get_even_numbers(numbers):</span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="cf">for</span> num <span class="kw">in</span> numbers <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="kw">def</span> cube_numbers(numbers):</span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a>    <span class="cf">return</span> [num <span class="op">**</span> <span class="dv">3</span> <span class="cf">for</span> num <span class="kw">in</span> numbers]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="names-rules">Names rules<a class="anchor" aria-label="anchor" href="#names-rules"></a>
</h3>
<div id="choose-descriptive-and-unambiguous-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="choose-descriptive-and-unambiguous-names" class="callout-inner">
<h3 class="callout-title">Choose descriptive and unambiguous names</h3>
<div class="callout-content">
<p>A name of a function/variable should as much as possible reveal the
reason why that function/variable is necessary, and its intended use.
Choosing a good name takes time at the start but saves time in the
long-run.</p>
<p>If first variable use requires a comment, you are probably using the
wrong name:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>d <span class="op">=</span> <span class="dv">8</span>  <span class="co"># elapsed time in days</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>elapsed_time_in_days <span class="op">=</span> <span class="dv">8</span></span></code></pre>
</div>
<p>Choosing names that reveal intend makes code much easier to
understand, and will save you (and everyone else who will be working
with your code) a lot of time in the future:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="kw">def</span> get_them(the_list):</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>    list1 <span class="op">=</span> []</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>    <span class="cf">for</span> x <span class="kw">in</span> the_list:</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>        <span class="cf">if</span> x[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">5</span>:</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>            list1.append(x)</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>    <span class="cf">return</span> list1</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="kw">def</span> get_flagged_cells(game_board):</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>    flagged_cells <span class="op">=</span> []</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>    <span class="cf">for</span> cell <span class="kw">in</span> game_board:</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>        <span class="cf">if</span> cell[STATUS_VALUE] <span class="op">=</span> FLAGGED:</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>             flagged_cells.append(x)</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>    <span class="cf">return</span> flagged_cells</span></code></pre>
</div>
</div>
</div>
</div>
<div id="use-pronounceable-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-pronounceable-names" class="callout-inner">
<h3 class="callout-title">Use pronounceable names</h3>
<div class="callout-content">
<p>Unpronounceable names are hard to use in a conversation. If names
used in your code are pronounceable, you can easily discuss them with
your colleagues which fosters collaboration.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="kw">def</span> bld_dta_rcrd102(genymdhms, modymdhms):</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    pszqint <span class="op">=</span> <span class="st">"102"</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>    <span class="co"># continued in the same incomprehensible style</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>    <span class="co"># ...</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="kw">def</span> build_data_record_102(generation_timestamp, modification_timestamp):</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>    record_id <span class="op">=</span> <span class="st">"102"</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>    <span class="co"># much easier to understand and review with your colleagues!</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>    <span class="co"># ...</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="use-searchable-names-and-replace-magic-numbers-with-named-constants" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-searchable-names-and-replace-magic-numbers-with-named-constants" class="callout-inner">
<h3 class="callout-title">Use searchable names and replace magic numbers with named constants</h3>
<div class="callout-content">
<p>Single letter names and “magic numbers” in the code are very
difficult to locate when you do a text search through your source code.
As such, changing them can be extremely error-prone. Replacing them with
named constants can greatly simplify this process:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="kw">def</span> sum_up(t):</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>    s <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>    ...</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>        s <span class="op">+=</span> (t[j] <span class="op">*</span> <span class="dv">4</span>) <span class="op">/</span> <span class="dv">5</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>    ...</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="kw">def</span> sum_work_days_per_week(task_estimate):</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>    REAL_DAYS_PER_IDEAL_DAY <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>    WORK_DAYS_PER_WEEK <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>    NUMBER_OF_TASKS <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a>    <span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>    ...</span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(NUMBER_OF_TASKS):</span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>        real_task_days <span class="op">=</span> task_estimate[j] <span class="op">*</span> REAL_DAYS_PER_IDEAL_DAY</span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>        real_task_weeks <span class="op">=</span> real_days <span class="op">/</span> WORK_DAYS_PER_WEEK</span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a>        <span class="bu">sum</span> <span class="op">+=</span> real_task_weeks</span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>    ...</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="functions-rules">Functions rules<a class="anchor" aria-label="anchor" href="#functions-rules"></a>
</h3>
<div id="small" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="small" class="callout-inner">
<h3 class="callout-title">Small</h3>
<div class="callout-content">
<p>A function should be small enough so one could understand it without
having to do “mental jumps” between various parts of the code. Such
“mental jumps” are time consuming and tiring. Ideally, the entire
function should fit on one screen.</p>
</div>
</div>
</div>
<div id="refactor-the-code-below-by-breaking-it-into-smaller-functions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-code-below-by-breaking-it-into-smaller-functions" class="callout-inner">
<h3 class="callout-title">Refactor the code below by breaking it into smaller functions</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Dummy calibration function - operations shown here have no "real life" meaning</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(fridge_data, include_safety_checks):</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>    fridge_id <span class="op">=</span> fridge_data.get(<span class="st">"id"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>    current_temp <span class="op">=</span> fridge_data.get(<span class="st">"current_temperature"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>    target_temp <span class="op">=</span> fridge_data.get(<span class="st">"target_temperature"</span>)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>    calibration_params <span class="op">=</span> fridge_data.get(<span class="st">"calibration_params"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>    <span class="cf">if</span> include_safety_checks:</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>        <span class="cf">if</span> current_temp <span class="op">&gt;</span> calibration_params.get(<span class="st">"max_safe_temperature"</span>):</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe temperature detected during calibration."</span>)</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>        <span class="cf">if</span> target_temp <span class="op">&lt;</span> calibration_params.get(<span class="st">"min_safe_temperature"</span>):</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe target temperature detected during calibration."</span>)</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>    adjustment_factor <span class="op">=</span> calibration_params.get(<span class="st">"adjustment_factor"</span>, <span class="fl">1.0</span>)</span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> current_temp <span class="op">+</span> (target_temp <span class="op">-</span> current_temp) <span class="op">*</span> adjustment_factor</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"max_safe_temperature"</span>]</span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"min_safe_temperature"</span>]</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>    stabilization_steps <span class="op">=</span> calibration_params.get(<span class="st">"stabilization_steps"</span>, <span class="dv">10</span>)</span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>    <span class="cf">for</span> step <span class="kw">in</span> <span class="bu">range</span>(stabilization_steps):</span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>        correction_factor <span class="op">=</span> <span class="fl">0.1</span> <span class="op">*</span> (adjusted_temp <span class="op">-</span> target_temp)</span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>        adjusted_temp <span class="op">-=</span> correction_factor</span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>        <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> target_temp:</span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>            adjusted_temp <span class="op">+=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if under target</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a>        <span class="cf">elif</span> adjusted_temp <span class="op">&gt;</span> target_temp:</span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a>            adjusted_temp <span class="op">-=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if above target</span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a>        temperature_variance <span class="op">=</span> <span class="bu">abs</span>(adjusted_temp <span class="op">-</span> target_temp)</span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a>        <span class="cf">if</span> temperature_variance <span class="op">&lt;</span> <span class="fl">0.01</span>:</span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># Break early if within small tolerance</span></span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a>        adjusted_temp <span class="op">-=</span> <span class="fl">0.01</span> <span class="op">*</span> temperature_variance</span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a></span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a>    fridge_data[<span class="st">"final_temperature"</span>] <span class="op">=</span> adjusted_temp</span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a></span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a>    telemetry_data <span class="op">=</span> {</span>
<span id="cb11-39"><a href="#cb11-39" tabindex="-1"></a>        <span class="st">"fridge_id"</span>: fridge_id,</span>
<span id="cb11-40"><a href="#cb11-40" tabindex="-1"></a>        <span class="st">"start_temp"</span>: current_temp,</span>
<span id="cb11-41"><a href="#cb11-41" tabindex="-1"></a>        <span class="st">"end_temp"</span>: adjusted_temp,</span>
<span id="cb11-42"><a href="#cb11-42" tabindex="-1"></a>        <span class="st">"safety_checks"</span>: include_safety_checks</span>
<span id="cb11-43"><a href="#cb11-43" tabindex="-1"></a>    }</span>
<span id="cb11-44"><a href="#cb11-44" tabindex="-1"></a></span>
<span id="cb11-45"><a href="#cb11-45" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Telemetry data: </span><span class="sc">{</span>telemetry_data<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb11-46"><a href="#cb11-46" tabindex="-1"></a></span>
<span id="cb11-47"><a href="#cb11-47" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"Calibration complete. Final temperature: </span><span class="sc">{</span>adjusted_temp<span class="sc">:.2f}</span><span class="ss">"</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># Function refactored into smaller functions</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(fridge_data, include_safety_checks):</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>    fridge_id <span class="op">=</span> fridge_data.get(<span class="st">"id"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>    current_temp <span class="op">=</span> fridge_data.get(<span class="st">"current_temperature"</span>)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>    target_temp <span class="op">=</span> fridge_data.get(<span class="st">"target_temperature"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>    calibration_params <span class="op">=</span> fridge_data.get(<span class="st">"calibration_params"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>    <span class="cf">if</span> include_safety_checks:</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>        perform_safety_checks(current_temp, target_temp, calibration_params)</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> apply_temperature_adjustment(current_temp, target_temp, calibration_params)</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>    stabilized_temp <span class="op">=</span> stabilize_temperature(adjusted_temp, target_temp, calibration_params)</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>    fridge_data[<span class="st">"final_temperature"</span>] <span class="op">=</span> stabilized_temp</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>    send_telemetry(fridge_id, current_temp, stabilized_temp)</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f"Calibration complete. Final temperature: </span><span class="sc">{</span>stabilized_temp<span class="sc">:.2f}</span><span class="ss">"</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="kw">def</span> perform_safety_checks(current_temp, target_temp, calibration_params):</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a>    <span class="cf">if</span> current_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe temperature: Current temperature exceeds safe limits."</span>)</span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>    <span class="cf">if</span> target_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Unsafe target temperature: Below safe limits."</span>)</span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="kw">def</span> apply_temperature_adjustment(current_temp, target_temp, calibration_params):</span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a>    adjustment_factor <span class="op">=</span> calibration_params.get(<span class="st">"adjustment_factor"</span>, <span class="fl">1.0</span>)</span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a>    adjusted_temp <span class="op">=</span> current_temp <span class="op">+</span> (target_temp <span class="op">-</span> current_temp) <span class="op">*</span> adjustment_factor</span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&gt;</span> calibration_params[<span class="st">"max_safe_temperature"</span>]:</span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"max_safe_temperature"</span>]</span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a>    <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> calibration_params[<span class="st">"min_safe_temperature"</span>]:</span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a>        adjusted_temp <span class="op">=</span> calibration_params[<span class="st">"min_safe_temperature"</span>]</span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a>    <span class="cf">return</span> adjusted_temp</span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a></span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a><span class="kw">def</span> stabilize_temperature(adjusted_temp, target_temp, calibration_params):</span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a>    stabilization_steps <span class="op">=</span> calibration_params.get(<span class="st">"stabilization_steps"</span>, <span class="dv">10</span>)</span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a></span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a>    <span class="cf">for</span> step <span class="kw">in</span> <span class="bu">range</span>(stabilization_steps):</span>
<span id="cb12-43"><a href="#cb12-43" tabindex="-1"></a>        correction_factor <span class="op">=</span> <span class="fl">0.1</span> <span class="op">*</span> (adjusted_temp <span class="op">-</span> target_temp)</span>
<span id="cb12-44"><a href="#cb12-44" tabindex="-1"></a>        adjusted_temp <span class="op">-=</span> correction_factor</span>
<span id="cb12-45"><a href="#cb12-45" tabindex="-1"></a></span>
<span id="cb12-46"><a href="#cb12-46" tabindex="-1"></a>        <span class="cf">if</span> adjusted_temp <span class="op">&lt;</span> target_temp:</span>
<span id="cb12-47"><a href="#cb12-47" tabindex="-1"></a>            adjusted_temp <span class="op">+=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if under target</span></span>
<span id="cb12-48"><a href="#cb12-48" tabindex="-1"></a>        <span class="cf">elif</span> adjusted_temp <span class="op">&gt;</span> target_temp:</span>
<span id="cb12-49"><a href="#cb12-49" tabindex="-1"></a>            adjusted_temp <span class="op">-=</span> <span class="fl">0.05</span>  <span class="co"># Minor correction if above target</span></span>
<span id="cb12-50"><a href="#cb12-50" tabindex="-1"></a></span>
<span id="cb12-51"><a href="#cb12-51" tabindex="-1"></a>        temperature_variance <span class="op">=</span> <span class="bu">abs</span>(adjusted_temp <span class="op">-</span> target_temp)</span>
<span id="cb12-52"><a href="#cb12-52" tabindex="-1"></a>        <span class="cf">if</span> temperature_variance <span class="op">&lt;</span> <span class="fl">0.01</span>:</span>
<span id="cb12-53"><a href="#cb12-53" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># Break early if within a small tolerance</span></span>
<span id="cb12-54"><a href="#cb12-54" tabindex="-1"></a>        adjusted_temp <span class="op">-=</span> <span class="fl">0.01</span> <span class="op">*</span> temperature_variance</span>
<span id="cb12-55"><a href="#cb12-55" tabindex="-1"></a></span>
<span id="cb12-56"><a href="#cb12-56" tabindex="-1"></a>    <span class="cf">return</span> adjusted_temp</span>
<span id="cb12-57"><a href="#cb12-57" tabindex="-1"></a></span>
<span id="cb12-58"><a href="#cb12-58" tabindex="-1"></a></span>
<span id="cb12-59"><a href="#cb12-59" tabindex="-1"></a><span class="kw">def</span> send_telemetry(fridge_id, start_temp, end_temp, safety_checks):</span>
<span id="cb12-60"><a href="#cb12-60" tabindex="-1"></a>    telemetry_data <span class="op">=</span> {</span>
<span id="cb12-61"><a href="#cb12-61" tabindex="-1"></a>        <span class="st">"fridge_id"</span>: fridge_id,</span>
<span id="cb12-62"><a href="#cb12-62" tabindex="-1"></a>        <span class="st">"start_temp"</span>: start_temp,</span>
<span id="cb12-63"><a href="#cb12-63" tabindex="-1"></a>        <span class="st">"end_temp"</span>: end_temp,</span>
<span id="cb12-64"><a href="#cb12-64" tabindex="-1"></a>    }</span>
<span id="cb12-65"><a href="#cb12-65" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Telemetry data: </span><span class="sc">{</span>telemetry_data<span class="sc">}</span><span class="ss">"</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="do-one-thing-at-one-level-of-abstraction" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="do-one-thing-at-one-level-of-abstraction" class="callout-inner">
<h3 class="callout-title">Do one thing at one level of abstraction</h3>
<div class="callout-content">
<p>The ‘messy’ code example above is difficult to comprehend, because
the code constantly jumps between different levels of abstractions:
performing low-level calibration and stabilization steps,fetching
parameters, throwing exceptions, etc.</p>
<p>Instead, ‘clean’ code should follow the <strong>Stepdown
Rule</strong>: the code should read like a top-down narrative - so we
can read the program like a narrative, descending one level of
abstraction as we read down the list of functions. This is what makes
the refactored example so much easier to understand.</p>
</div>
</div>
</div>
<div id="use-descriptive-names" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="use-descriptive-names" class="callout-inner">
<h3 class="callout-title">Use descriptive names</h3>
<div class="callout-content">
<p>This should follow the methodology already discussing under <em>Name
rules</em>. In addition to this:</p>
<ul>
<li>Do not be afraid to use long names - the function name should pretty
much describe what the function does, to the point where comments become
superfluous</li>
<li>Spend time thinking of a good name, and change it as soon as you
have found a better one</li>
<li>Be consistent in your naming: use same phrases, nouns and verbs in
your function names</li>
</ul>
</div>
</div>
</div>
<div id="refactor-the-function-names-below-so-they-are-consistent" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="refactor-the-function-names-below-so-they-are-consistent" class="callout-inner">
<h3 class="callout-title">Refactor the function names below so they are consistent</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="kw">def</span> determine_optimal_temperature():</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="kw">def</span> derive_calibration_parameters():</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="kw">def</span> calculate_reset_interval():</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">def</span> calculate_optimal_temperature():</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="kw">def</span> calculate_calibration_parameters():</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="kw">def</span> calculate_reset_interval():</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="prefer-fewer-arguments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="prefer-fewer-arguments" class="callout-inner">
<h3 class="callout-title">Prefer fewer arguments</h3>
<div class="callout-content">
<ul>
<li>Ideally have 0-2 arguments. A high number of arguments can make
functions harder to understand, test, and reuse.</li>
<li>When multiple related arguments are necessary, encapsulate them in
an object or data structure to simplify the function signature and
improve readability.</li>
</ul>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(min_temperature, max_temperature, steps, accuracy, seconds_timeout):</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="at">@dataclass</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="kw">class</span> CalibrationParameters:</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>    min_temperature: <span class="bu">float</span>,</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>    max_temperature: <span class="bu">float</span>,</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>    steps: <span class="bu">int</span>,</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>    accuracy: <span class="bu">float</span>,</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>    seconds_timeout: <span class="bu">int</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="kw">def</span> calibrate_fridge(calibration_parameters: CalibrationParameters):</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>...</span></code></pre>
</div>
<ul>
<li>Functions should avoid boolean or flag arguments, as they often
indicate that the function is doing more than one thing and violate the
<em>Single Responsibility Principle</em>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="kw">def</span> update_fridge_temperature(new_temperature: <span class="bu">float</span>, initialize_fridge: <span class="bu">bool</span>):</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="kw">def</span> initialize_fridge():</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="kw">def</span> update_fridge_temperature(new_temperature: <span class="bu">float</span>):</span></code></pre>
</div>
</div>
</div>
</div>
<div id="have-no-side-effects" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="have-no-side-effects" class="callout-inner">
<h3 class="callout-title">Have no side effects</h3>
<div class="callout-content">
<ul>
<li>Side effects break the <em>Single Responsibility Principle</em>
</li>
<li>No side effects facilitate parallel execution</li>
<li>Side effects can lead to subtle (and occasionally catastrophic)
errors!</li>
</ul>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># VERY VERY BAD</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="kw">def</span> adjust_experiment_parameters(duration_in_seconds, calibration_steps):</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>    set_experiment_duration(duration_in_seconds)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>    set_experiment_calibration_steps(calibration_steps)</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>    start_experiment()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="comments-rules">Comments rules<a class="anchor" aria-label="anchor" href="#comments-rules"></a>
</h3>
<p>As a general rule, always strive to have the code “explain itself” so
comments are not necessary. In most cases, <em>comments are an
acceptance of failure</em>: the code itself is not clear enough, so it
needs additional explanation in the form of a comment.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="co"># Check if the experiment is complete</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="cf">if</span> status <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>    handle_completion()</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="cf">if</span> is_experiment_complete(status):</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>    handle_completion()</span></code></pre>
</div>
<div class="section level4">
<h4 id="bad-comments">Bad Comments<a class="anchor" aria-label="anchor" href="#bad-comments"></a>
</h4>
<p>In many cases comments are useless, and occasionally straight
dangerous:</p>
<div id="redundant-comments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="redundant-comments" class="callout-inner">
<h3 class="callout-title">Redundant comments</h3>
<div class="callout-content">
<p>Such comments can be a distraction for the reviewer</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>total <span class="op">=</span> price <span class="op">*</span> quantity  <span class="co"># Multiply price by quantity</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="outdated-or-misleading-comments" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="outdated-or-misleading-comments" class="callout-inner">
<h3 class="callout-title">Outdated or misleading comments</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="co"># BAD</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="co"># This function sorts the list in descending order</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="kw">def</span> sort_list(data):</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(data, reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="kw">def</span> sort_list_ascending(data):</span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(data)</span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="kw">def</span> sort_list_descending(data):</span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(data, reverse<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="commented-out-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="commented-out-code" class="callout-inner">
<h3 class="callout-title">Commented out code</h3>
<div class="callout-content">
<p>Clutters the source code, and makes it harder to follow the natural
flow of your program. Use version control instead!</p>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="good-comments">Good Comments<a class="anchor" aria-label="anchor" href="#good-comments"></a>
</h4>
<p>There are a number of cases when comments can be beneficial:</p>
<div id="explanation-of-intent" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="explanation-of-intent" class="callout-inner">
<h3 class="callout-title">Explanation of intent</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># Use binary search to optimize performance on large datasets</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="kw">def</span> find_element(sorted_list, target):</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>    <span class="cf">return</span> binary_search(sorted_list, target)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="clarification-of-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="clarification-of-code" class="callout-inner">
<h3 class="callout-title">Clarification of code</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># Flag transactions with an amount greater than 10,000 as "flagged" for manual review.</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="co"># This threshold is set by international banking regulations, specifically the</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="co"># Financial Action Task Force (FATF) Recommendation 10, to prevent money laundering.</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>MANUAL_REVIEW_THRESHOLD <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="kw">def</span> classify_transactions(transactions):</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> transactions:</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>        <span class="cf">if</span> t.amount <span class="op">&gt;</span> MANUAL_REVIEW_THRESHOLD:</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a>            t.status <span class="op">=</span> <span class="st">"flagged"</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>            t.status <span class="op">=</span> <span class="st">"completed"</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="warning-of-consequences" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="warning-of-consequences" class="callout-inner">
<h3 class="callout-title">Warning of consequences</h3>
<div class="callout-content">
<pre><code># WARNING: This function permanently deletes experimental data.
# Ensure backups are created before calling.
def delete_experiment_data(experiment_id):
    database.delete(f"experiment_{experiment_id}")</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="unit-test-rules">Unit Test Rules<a class="anchor" aria-label="anchor" href="#unit-test-rules"></a>
</h3>
<div id="tests-enable-the--ilities" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tests-enable-the--ilities" class="callout-inner">
<h3 class="callout-title">Tests enable the -ilities!!</h3>
<div class="callout-content">
<p><strong>Unit tests keep your code flexible, maintainable, and
reusable - they are the key and core of clean code!</strong> The reason
for this is that <strong>unit tests allow you to change your code
without fear of introducing new bugs</strong>. If you have enough unit
tests with good coverage you can start with a sub-par architecture and
“messy” code, and move towards “clean” code in small and quick
iterations, at each iteration being able to effectively test that your
changes have not introduced bugs.</p>
<p><strong>Unit tests enable change!</strong></p>
</div>
</div>
</div>
<div id="unit-tests-should-be-as-clean-as-the-rest-of-the-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="unit-tests-should-be-as-clean-as-the-rest-of-the-code" class="callout-inner">
<h3 class="callout-title">Unit tests should be as clean as the rest of the code</h3>
<div class="callout-content">
<ul>
<li>Tests change as tested code changes!</li>
<li>If tests are difficult to evolve then the overall speed one can
change the program is slow</li>
<li>Unit tests can be a very effective tool to document what a program
does</li>
<li>Clean tests allow new members of the team quickly understand the
expected behaviour of the system without diving deeply into the
implementation</li>
</ul>
</div>
</div>
</div>
<div id="unit-tests-should-follow-the-f.i.r.s.t-principles" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="unit-tests-should-follow-the-f.i.r.s.t-principles" class="callout-inner">
<h3 class="callout-title">Unit tests should follow the
<strong>F.I.R.S.T</strong> principles</h3>
<div class="callout-content">
<ul>
<li>
<strong>F</strong>ast - so can be run often, so they detect problems
early - when they are easy to fix</li>
<li>
<strong>I</strong>ndependent - they should not depend on each other
- so they can be run in any order</li>
<li>
<strong>R</strong>epeatable - should not depend on anything in the
environment - ideally not even on a network connection being present!
Should be possible to run them offline - so one can work on re-factoring
even when offline</li>
<li>
<strong>S</strong>elf-validating - should return either
<em>True</em> or <em>False</em>. Checking success/failure should be
fast!</li>
<li>
<strong>T</strong>imely - add unit tests as soon as you have written
the code, or even <em>before</em> (TDD). Forces one to think in terms of
testing =&gt; testable code.</li>
</ul>
</div>
</div>
</div>
<div id="a-unit-test-should-cover-a-single-concept" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="a-unit-test-should-cover-a-single-concept" class="callout-inner">
<h3 class="callout-title">A unit test should cover a single concept</h3>
<div class="callout-content">
<p>Having a unit test check multiple parts of the code makes it harder
to reason on the cause of the failure. They are also not self-validating
- if they fail - on which part did they fail?</p>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Have a look at the unit test below. Is it “clean”? Can you name which
of the “clean tests” principles discussed so far it breaks? Can you
refactor it into “clean” test code?</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="kw">def</span> test_math_operations():</span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">4</span> <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>    <span class="cf">if</span> result <span class="op">==</span> <span class="dv">9</span>:</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Addition passed"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Addition failed"</span>)</span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">3</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">9</span>  <span class="co"># Works, I guess</span></span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a>    division_result <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a>    <span class="cf">assert</span> division_result <span class="op">==</span> <span class="dv">5</span>, <span class="st">"Division failed"</span>  <span class="co"># Check division, right?</span></span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a></span>
<span id="cb24-16"><a href="#cb24-16" tabindex="-1"></a>    my_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb24-17"><a href="#cb24-17" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(my_list) <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb24-18"><a href="#cb24-18" tabindex="-1"></a></span>
<span id="cb24-19"><a href="#cb24-19" tabindex="-1"></a>    <span class="cf">assert</span> division_result <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb24-20"><a href="#cb24-20" tabindex="-1"></a></span>
<span id="cb24-21"><a href="#cb24-21" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Test completed!"</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>The above test breaks many of the “clean” tests and “clean” code
principles:</p>
<ul>
<li>name does not reflect purpose</li>
<li>test does not cover just one aspect of the code, but rather multiple
- math operations and a completely un-related list operation</li>
<li>redundant assertions - like the one for the division result</li>
<li>test is not self-validating - the user needs to monitor the test
output to determine success/failure</li>
<li>extraneous output - “Test completed!” is unnecessary and distracts
the user</li>
</ul>
<p>Refactored test:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="kw">def</span> test_addition():</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>    <span class="co">"""Test addition operation."""</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">4</span> <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">9</span></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a><span class="kw">def</span> test_multiplication():</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>    <span class="co">"""Test multiplication operation."""</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">3</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">9</span></span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a><span class="kw">def</span> test_division():</span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>    <span class="co">"""Test division operation."""</span></span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a>    result <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">5</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="clean-code-tools">Clean Code Tools<a class="anchor" aria-label="anchor" href="#clean-code-tools"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="pycharm-and-clean-code">PyCharm and Clean Code<a class="anchor" aria-label="anchor" href="#pycharm-and-clean-code"></a>
</h3>
<p>Using a modern development environment, such as PyCharm, can greatly
facilitate writing clean code. In this section we will go over a few
ways this can be accomplished.</p>
<div id="configuring-a-python-interpreter-for-a-pycharm-project" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="configuring-a-python-interpreter-for-a-pycharm-project" class="callout-inner">
<h3 class="callout-title">Configuring a Python interpreter for a PyCharm project</h3>
<div class="callout-content">
<p>For a given PyCharm project it is possible to setup a python
interpreter, as shown below:</p>
<figure><img src="fig/pycharm_python_interpreter.jpg" alt="Running Pytest from PyCharm" class="figure mx-auto d-block"></figure><p>The selected interpreter can be the system-wide one, or one selected
from a virtual environment. Once a Python interpreter has been
configured, PyCharm will use it to run code (e.g. <code>.py</code> files
part of that project), or analyze the code and provide useful hints to
the developer:</p>
<figure><img src="fig/pycharm_hints.jpg" alt="Running Pytest from PyCharm" class="figure mx-auto d-block"></figure><p>The figure above shows Pycharm hints in action: in this case the
function <code>divide_numbers()</code> has not yet been defined. PyCharm
then marks the place where the undefined function is invoked in the code
with red underline, so the developer can quickly spot it. Hovering over
the underline provides a hint, in this case explaining that the function
is undefined.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="linters---pylint">Linters - PyLint<a class="anchor" aria-label="anchor" href="#linters---pylint"></a>
</h3>
<p>Pylint is a tool that helps you write cleaner, more reliable Python
code by analyzing your code for errors, enforcing coding standards, and
suggesting improvements. It checks for issues like unused variables,
inconsistent naming, or missing documentation.</p>
<p>Pylint assigns a score to your code, ranging from -10.0 (very poor)
to 10.0 (perfect). This score reflects the overall quality of your code
based on the issues Pylint identifies, weighted by their severity.</p>
<p>Pylint can be easily installed using <code>pip</code>:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">pip</span> install pylint</span></code></pre>
</div>
<div id="running-pylint-on-a-sample-program" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="running-pylint-on-a-sample-program" class="callout-inner">
<h3 class="callout-title">Running Pylint on a sample program</h3>
<div class="callout-content">
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># bad_pylint.py</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="im">import</span> math  <span class="co"># Unused import</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="kw">def</span> addNumbers(a, b): <span class="cf">return</span> a <span class="op">+</span> b  <span class="co"># Missing function docstring, bad naming style, bad formatting</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a><span class="kw">def</span> divide_numbers(a, b):</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Cannot divide by zero"</span>)</span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" tabindex="-1"></a><span class="kw">def</span> compute_area(radius):</span>
<span id="cb27-16"><a href="#cb27-16" tabindex="-1"></a>    Pi <span class="op">=</span> <span class="fl">3.14</span>  <span class="co"># Constant should be uppercase (naming convention)</span></span>
<span id="cb27-17"><a href="#cb27-17" tabindex="-1"></a>    area <span class="op">=</span> Pi <span class="op">*</span> radius <span class="op">*</span> radius</span>
<span id="cb27-18"><a href="#cb27-18" tabindex="-1"></a>    <span class="cf">return</span> area</span>
<span id="cb27-19"><a href="#cb27-19" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" tabindex="-1"></a></span>
<span id="cb27-21"><a href="#cb27-21" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb27-22"><a href="#cb27-22" tabindex="-1"></a>    result <span class="op">=</span> addNumbers(<span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb27-23"><a href="#cb27-23" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Sum is:"</span>, result)</span>
<span id="cb27-24"><a href="#cb27-24" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" tabindex="-1"></a>    divide_result <span class="op">=</span> divide_numbers(<span class="dv">10</span>, <span class="dv">0</span>)</span>
<span id="cb27-26"><a href="#cb27-26" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Division result:"</span>, divide_result)</span>
<span id="cb27-27"><a href="#cb27-27" tabindex="-1"></a></span>
<span id="cb27-28"><a href="#cb27-28" tabindex="-1"></a>    radius <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb27-29"><a href="#cb27-29" tabindex="-1"></a>    area <span class="op">=</span> compute_area(radius)</span>
<span id="cb27-30"><a href="#cb27-30" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"The area of a circle with radius </span><span class="sc">{</span>radius<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>area<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-31"><a href="#cb27-31" tabindex="-1"></a></span>
<span id="cb27-32"><a href="#cb27-32" tabindex="-1"></a></span>
<span id="cb27-33"><a href="#cb27-33" tabindex="-1"></a>main()</span></code></pre>
</div>
<pre class="text"><code>$ pylint bad_pylint.py
************* Module bad_example
bad_example.py:34:0: C0304: Final newline missing (missing-final-newline)
bad_example.py:1:0: C0114: Missing module docstring (missing-module-docstring)
bad_example.py:4:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:4:0: C0103: Function name "addNumbers" doesn't conform to snake_case naming style (invalid-name)
bad_example.py:4:22: C0321: More than one statement on a single line (multiple-statements)
bad_example.py:7:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:14:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:20:0: C0116: Missing function or method docstring (missing-function-docstring)
bad_example.py:1:0: W0611: Unused import math (unused-import)

-----------------------------------
Your code has been rated at 5.91/10</code></pre>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Fix the above warnings to bring the score to a perfect 10!</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="co">"""This module provides basic mathematical operations and area computation."""</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="kw">def</span> add_numbers(a, b):</span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>    <span class="co">"""Adds two numbers and returns the result."""</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a><span class="kw">def</span> divide_numbers(a, b):</span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a>    <span class="co">"""Divides two numbers and returns the result.</span></span>
<span id="cb29-11"><a href="#cb29-11" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" tabindex="-1"></a><span class="co">    Prints an error message if division by zero is attempted.</span></span>
<span id="cb29-13"><a href="#cb29-13" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb29-14"><a href="#cb29-14" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb29-15"><a href="#cb29-15" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Cannot divide by zero"</span>)  <span class="co"># pylint MAY suggest logging here</span></span>
<span id="cb29-16"><a href="#cb29-16" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb29-17"><a href="#cb29-17" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="cb29-18"><a href="#cb29-18" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" tabindex="-1"></a></span>
<span id="cb29-20"><a href="#cb29-20" tabindex="-1"></a><span class="kw">def</span> compute_area(radius):</span>
<span id="cb29-21"><a href="#cb29-21" tabindex="-1"></a>    <span class="co">"""Computes the area of a circle given its radius."""</span></span>
<span id="cb29-22"><a href="#cb29-22" tabindex="-1"></a>    pi <span class="op">=</span> <span class="fl">3.14</span>  <span class="co"># Use lowercase for variables</span></span>
<span id="cb29-23"><a href="#cb29-23" tabindex="-1"></a>    <span class="cf">return</span> pi <span class="op">*</span> radius <span class="op">*</span> radius</span>
<span id="cb29-24"><a href="#cb29-24" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb29-27"><a href="#cb29-27" tabindex="-1"></a>    <span class="co">"""Main function to demonstrate the usage of mathematical operations."""</span></span>
<span id="cb29-28"><a href="#cb29-28" tabindex="-1"></a>    result <span class="op">=</span> add_numbers(<span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb29-29"><a href="#cb29-29" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Sum is:"</span>, result)</span>
<span id="cb29-30"><a href="#cb29-30" tabindex="-1"></a></span>
<span id="cb29-31"><a href="#cb29-31" tabindex="-1"></a>    divide_result <span class="op">=</span> divide_numbers(<span class="dv">10</span>, <span class="dv">0</span>)</span>
<span id="cb29-32"><a href="#cb29-32" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Division result:"</span>, divide_result)</span>
<span id="cb29-33"><a href="#cb29-33" tabindex="-1"></a></span>
<span id="cb29-34"><a href="#cb29-34" tabindex="-1"></a>    radius <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb29-35"><a href="#cb29-35" tabindex="-1"></a>    area <span class="op">=</span> compute_area(radius)</span>
<span id="cb29-36"><a href="#cb29-36" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"The area of a circle with radius </span><span class="sc">{</span>radius<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>area<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb29-37"><a href="#cb29-37" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" tabindex="-1"></a></span>
<span id="cb29-39"><a href="#cb29-39" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb29-40"><a href="#cb29-40" tabindex="-1"></a>    main()</span></code></pre>
</div>
<pre class="text"><code>(test11) bcpopescu@TUD264038:~/projects/examples$ pylint good_pylint.py

-------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 5.91/10, +4.09)</code></pre>
</div>
</div>
</div>
</div>
<!--
### Python Coding Conventions

- Introduce https://peps.python.org/pep-0008/
- Advice: select a few rules, and start applying them consistently to your code:
    - Indentation
    - Maximum line length
    - Whitespaces in Expressions and statements
    - Naming conventions
- Expand your rule selection
-->
</div>
<div class="section level3">
<h3 id="unit-tests">Unit Tests<a class="anchor" aria-label="anchor" href="#unit-tests"></a>
</h3>
<p><code>Pytest</code> is a simple yet powerful tool for testing Python
code. You can write tests as regular functions and run them easily. As
an example consider this simple function:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># in simple_function.py</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="kw">def</span> simple_function(a, b):</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span></code></pre>
</div>
<p>With <code>Pytest</code>, you can test it by creating anew file
<code>test_simple_function.py</code>:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># in test_simple_function.py</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="im">from</span> simple_function <span class="im">import</span> simple_function</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="kw">def</span> test_simple_function():</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a>    <span class="cf">assert</span> simple_function(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span></code></pre>
</div>
<p>and then running <code>pytest</code> from the command line:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> pytest</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="ex">=============================</span> test session starts =============================</span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="ex">platform</span> win32 <span class="at">--</span> Python 3.11.8, pytest-8.0.2, pluggy-1.4.0</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="ex">rootdir:</span> C:<span class="dt">\p</span>rojects<span class="dt">\e</span>xamples</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="ex">plugins:</span> anyio-4.3.0, flaky-3.7.0, cov-4.1.0, mock-3.12.0</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="ex">collected</span> 1 item</span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a><span class="ex">test_simple_function.py</span> .                                                <span class="pp">[</span><span class="ss">100%</span><span class="pp">]</span></span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="ex">==============================</span> 1 passed in 0.02s ==============================</span></code></pre>
</div>
<p><code>Pytest</code> is a built-in python package, so no installation
is needed. By default, when running <code>pytest</code> from the command
line, this package will look for any files named <code>test_*.py</code>
or <code>*_test.py</code> in the working directory, and from these files
run any functions names <code>test_*</code>. Inside these functions, you
can test functionality using the <code>assert</code> keyword. A test
function is assumed to fail if any <code>assert</code> fails, or if the
the test function throws an exception. Alternatively, the test function
succeeds if it completes without any failed asserts or exceptions. After
running all tests, <code>Pytest</code> will display the number of tests
that have succeeded and failed.</p>
<p>Alternatively, <code>Pytest</code> can be invoked directly from the
PyCharm environment as shown below:</p>
<figure><img src="fig/pytest_pycharm.jpg" alt="Running Pytest from PyCharm" class="figure mx-auto d-block"></figure>
</div>
<div class="section level3">
<h3 id="test-coverage">Test Coverage<a class="anchor" aria-label="anchor" href="#test-coverage"></a>
</h3>
<p><strong>Test coverage</strong> is a way to measure how much of your
code is tested by your test cases. It helps you understand how well your
tests are checking the functionality of your program and ensures that
your code behaves as expected.</p>
<p>Think of your code as a map, and your tests as explorers. Test
coverage tells you how much of the map has been explored. If there are
unexplored areas (untested code), they might hide bugs or unexpected
behaviors.</p>
<div id="why-test-coverage-is-important" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="why-test-coverage-is-important" class="callout-inner">
<h3 class="callout-title">Why Test Coverage is Important</h3>
<div class="callout-content">
<ul>
<li>
<strong>Finding Bugs Early:</strong> By ensuring most of your code
is tested, you can catch issues early in development.</li>
<li>
<strong>Improved Confidence:</strong> High test coverage makes you
more confident that changes to the code won’t break existing
functionality.</li>
<li>
<strong>Code Quality:</strong> Writing tests often leads to better
structured and easier-to-maintain code.</li>
</ul>
</div>
</div>
</div>
<div id="coverage-is-a-guide-not-a-goal" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="coverage-is-a-guide-not-a-goal" class="callout-inner">
<h3 class="callout-title">Coverage is a Guide, Not a Goal</h3>
<div class="callout-content">
<p>While high test coverage is beneficial, <strong>it is not a guarantee
that your code is bug-free</strong>. It is possible to have 100%
coverage and still miss edge cases or logical errors. Focus on writing
meaningful tests that cover real-world scenarios.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="the-coverage-py-tool">The <strong>coverage.py</strong> Tool<a class="anchor" aria-label="anchor" href="#the-coverage-py-tool"></a>
</h3>
<p><strong>coverage.py</strong> is a commonly-used Python tool for
measuring test coverage. It helps you understand how much of your code
is executed during tests and identifies untested parts. It is
lightweight, easy to use, and integrates well with various testing
frameworks like pytest.</p>
<div class="section level5">
<h5 id="installing-coverage-py">Installing coverage.py<a class="anchor" aria-label="anchor" href="#installing-coverage-py"></a>
</h5>
<p>To use <em>coverage.py</em> you will need to install it first. This
can be easily done using <em>pip</em>:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">pip</span> install coverage</span></code></pre>
</div>
<p>You can then verify the installation:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">coverage</span> <span class="at">--version</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Coverage.py, version 7.4.3 with C extension
Full documentation is at https://coverage.readthedocs.io/en/7.4.3</code></pre>
</div>
</div>
<div class="section level5">
<h5 id="running-coverage-py">Running coverage.py<a class="anchor" aria-label="anchor" href="#running-coverage-py"></a>
</h5>
<p>For this section, we will use a simple example, where we are
developing a <em>math_utils.py</em> library:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="co"># math_utils.py</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a><span class="kw">def</span> subtract(a, b):</span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">-</span> b</span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a><span class="kw">def</span> multiply(a, b):</span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" tabindex="-1"></a><span class="kw">def</span> divide(a, b):</span>
<span id="cb37-13"><a href="#cb37-13" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb37-14"><a href="#cb37-14" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Cannot divide by zero"</span>)</span>
<span id="cb37-15"><a href="#cb37-15" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span></code></pre>
</div>
<p>which we then test using unit tests in a <em>test_math_utils.py</em>
file:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="co"># test_math_utils.py</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="im">from</span> math_utils <span class="im">import</span> add, subtract, multiply, divide</span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a><span class="kw">def</span> test_add():</span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb38-8"><a href="#cb38-8" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" tabindex="-1"></a><span class="kw">def</span> test_subtract():</span>
<span id="cb38-10"><a href="#cb38-10" tabindex="-1"></a>    <span class="cf">assert</span> subtract(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">==</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb38-11"><a href="#cb38-11" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" tabindex="-1"></a><span class="kw">def</span> test_multiply():</span>
<span id="cb38-13"><a href="#cb38-13" tabindex="-1"></a>    <span class="cf">assert</span> multiply(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">6</span></span>
<span id="cb38-14"><a href="#cb38-14" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" tabindex="-1"></a><span class="kw">def</span> test_divide():</span>
<span id="cb38-16"><a href="#cb38-16" tabindex="-1"></a>    <span class="cf">assert</span> divide(<span class="op">-</span><span class="dv">6</span>, <span class="dv">2</span>) <span class="op">==</span> <span class="op">-</span><span class="dv">3</span></span></code></pre>
</div>
<p>The <em>coverage.py</em> tool is typically used in conjunction with a
testing framework, such as <em>pytest</em>; to use the tool, instead of
running your tests directly (e.g. with <code>pytest</code>), use
<code>coverage run</code> instead:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">coverage</span> run <span class="at">-m</span> pytest</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$ coverage run -m pytest
============================= test session starts =============================
platform win32 -- Python 3.8.8, pytest-8.1.1, pluggy-1.4.0
rootdir: C:\projects\programming_course\prosoftdev-research\coverage
plugins: anyio-4.3.0, flaky-3.8.0, cov-4.1.0, mock-3.12.0
collected 4 items

test_math_utils.py ....                                                  [100%]
</code></pre>
</div>
<p>Once you have run the <em>coverage.py</em> tool, it is possible to
generate a coverage report:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">coverage</span> report</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$ coverage report
Name                 Stmts   Miss  Cover
----------------------------------------
math_utils.py           10      1    90%
test_math_utils.py      10      0   100%
----------------------------------------
TOTAL                   20      1    95%
</code></pre>
</div>
<p>As you can see, in this (simple) case we have achieved a very high
coverage ratio with relative ease.</p>
</div>
<div class="section level5">
<h5 id="visualizing-test-coverage">Visualizing test coverage<a class="anchor" aria-label="anchor" href="#visualizing-test-coverage"></a>
</h5>
<p>To make the results more user-friendly, <em>coverage.py</em> can
generate an HTML report.</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">coverage</span> html</span></code></pre>
</div>
<p>This creates a directory named <em>htmlcov</em> containing detailed
coverage reports. To visualize the report, you need to open the
<em>index.html</em> file in the <em>htmlcov</em> directory:</p>
<figure><img src="fig/coverage_overview.jpg" alt="HTML coverage overview" class="figure mx-auto d-block"></figure><p>Even more useful, you can drill down to the test coverage of
individual files, by clicking on the file name in the overview. This
shows the test coverage at the level of lines of code:</p>
<figure><img src="fig/coverage_per_file.jpg" alt="HTML coverage per file" class="figure mx-auto d-block"></figure><p>By using such visual tools you can quickly zoom on untested parts of
your codebase, so that you can add additional tests for covering
them.</p>
</div>
</div>
</section><section><h2 class="section-heading" id="clean-coderefactoring-exercise">Clean Code/Refactoring Exercise<a class="anchor" aria-label="anchor" href="#clean-coderefactoring-exercise"></a>
</h2>
<hr class="half-width">
<p>Interactive coding exercise which can be done individually or in
small groups:</p>
<ul>
<li>Introduce a small to medium size Python program specifically crafted
to break all clean code rules outlined in this episode.</li>
<li>Participants are instructed to run PyLint on this program - the
score will be extremely low!</li>
<li>Goal of this exercise is to refactor the code to bring the score
above 8</li>
<li>Before starting this process, unit tests should be added.</li>
<li>Participants should run the <em>coverage.py</em> tool on their tests
and ensure the critical paths in the code are covered</li>
<li>Once test coverage is achieved, start re-factoring, applying the
clean code techniques learned in this episode</li>
<li>After each refactoring, the unit tests should pass, which ensures
functionality has not been broken.</li>
<li>After each refactoring, participants should re-run the linter, and
see how the code score improves.</li>
</ul>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 --></section></section><section id="aio-credits"><p>Content from <a href="credits.html">Credits</a></p>
<hr>
<p>Last updated on 2025-02-24 |

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/episodes/credits.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<p>Parts of this course are based on publicly available material from
the following:</p>
<p>Ivan Gonzalez; Daisie Huang; Nima Hejazi; Katherine Koziar; Madicken
Munk (eds): “Software Carpentry: Version Control with Git.”<br>
Version 2019.06.1, July 2019, <a href="https://github.com/swcarpentry/git-novice" class="external-link uri">https://github.com/swcarpentry/git-novice</a>,
10.5281/zenodo.3264950</p>
<p>F. Grooteman “QSMM - QuTech Software Maturity Model” Version 0.6 -
Internal QuTech document</p>
<p>Aleksandra Nenadic, Steve Crouch, James Graham, et al. (2022).
carpentries-incubator/python-intermediate-development: beta (beta).
Zenodo. <a href="https://doi.org/10.5281/zenodo.6532057" class="external-link uri">https://doi.org/10.5281/zenodo.6532057</a></p>
<p>Wojtek Lukaszuk - “Summary of ‘Clean code’ by Robert C. Martin”: <a href="https://gist.github.com/wojteklu/73c6914cc446146b8b533c0988cf8d29" class="external-link uri">https://gist.github.com/wojteklu/73c6914cc446146b8b533c0988cf8d29</a></p>
<p>Introduction to GitLab <a href="https://carpentries-incubator.github.io/gitlab-novice/index.html" class="external-link uri">https://carpentries-incubator.github.io/gitlab-novice/index.html</a></p>
<p>Robert C. Martin - “Clean Code” Most of the code examples shown in
the “Clean Code” episode are adapted from examples used in the above
book.</p></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/QuTech-Delft/prosoftdev-research/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/QuTech-Delft/prosoftdev-research/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/QuTech-Delft/prosoftdev-research/" class="external-link">Source</a></p>
				<p><a href="https://github.com/QuTech-Delft/prosoftdev-research/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:b.c.popescu@tudelft.nl">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://QuTech-Delft.github.io/prosoftdev-research/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "professional, software development, lesson, research",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://QuTech-Delft.github.io/prosoftdev-research/aio.html",
  "identifier": "https://QuTech-Delft.github.io/prosoftdev-research/aio.html",
  "dateCreated": "2025-03-06",
  "dateModified": "2025-03-06",
  "datePublished": "2025-03-06"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

